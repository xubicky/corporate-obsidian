INFO:     Will watch for changes in these directories: ['/Users/terryxu/Downloads/corporate-obsidian/backend']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [69456] using StatReload
INFO:     Started server process [69514]
INFO:     Waiting for application startup.
2026-01-13 23:00:49,658 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:00:49,658 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:00:49,658 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:00:49,659 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notes")
2026-01-13 23:00:49,659 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:00:49,659 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("links")
2026-01-13 23:00:49,659 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:00:49,659 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("revisions")
2026-01-13 23:00:49,659 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:00:49,659 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("tags")
2026-01-13 23:00:49,659 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:00:49,659 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("note_tags")
2026-01-13 23:00:49,659 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:00:49,660 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2026-01-13 23:01:07,876 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:07,891 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:01:07,891 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ()
2026-01-13 23:01:07,894 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:07,896 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:01:07,896 INFO sqlalchemy.engine.Engine [generated in 0.00010s] (3,)
2026-01-13 23:01:07,896 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:07,896 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:01:07,896 INFO sqlalchemy.engine.Engine [generated in 0.00006s] (3,)
INFO:     127.0.0.1:61670 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:01:07,897 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:07,898 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:07,899 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:01:07,899 INFO sqlalchemy.engine.Engine [generated in 0.00019s] (100, 0)
2026-01-13 23:01:07,900 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:01:07,900 INFO sqlalchemy.engine.Engine [generated in 0.00022s] (3,)
2026-01-13 23:01:07,907 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:01:07,908 INFO sqlalchemy.engine.Engine [generated in 0.00060s] (3,)
2026-01-13 23:01:07,909 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:01:07,909 INFO sqlalchemy.engine.Engine [cached since 0.00184s ago] (4, 5, 3, 2, 1)
INFO:     127.0.0.1:61673 - "GET /api/notes/3 HTTP/1.1" 200 OK
2026-01-13 23:01:07,911 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61674 - "GET /api/notes/3/backlinks HTTP/1.1" 200 OK
2026-01-13 23:01:07,912 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61676 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
2026-01-13 23:01:07,913 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:07,953 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:07,955 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:01:07,955 INFO sqlalchemy.engine.Engine [generated in 0.00041s] ()
2026-01-13 23:01:07,957 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:01:07,957 INFO sqlalchemy.engine.Engine [generated in 0.00031s] ()
INFO:     127.0.0.1:61676 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:01:07,959 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:07,960 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:07,960 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:01:07,960 INFO sqlalchemy.engine.Engine [cached since 0.005587s ago] ()
2026-01-13 23:01:07,961 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:01:07,961 INFO sqlalchemy.engine.Engine [cached since 0.004402s ago] ()
INFO:     127.0.0.1:61674 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:01:07,962 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:07,975 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:07,976 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:01:07,976 INFO sqlalchemy.engine.Engine [cached since 0.08491s ago] ()
INFO:     127.0.0.1:61674 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:01:07,976 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:12,430 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:12,431 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:01:12,431 INFO sqlalchemy.engine.Engine [cached since 4.477s ago] ()
2026-01-13 23:01:12,433 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:12,433 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:01:12,433 INFO sqlalchemy.engine.Engine [cached since 4.535s ago] (5, 0)
2026-01-13 23:01:12,434 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:12,436 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:01:12,436 INFO sqlalchemy.engine.Engine [generated in 0.00022s] (100, 0)
2026-01-13 23:01:12,438 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:01:12,438 INFO sqlalchemy.engine.Engine [cached since 4.482s ago] ()
2026-01-13 23:01:12,440 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:01:12,440 INFO sqlalchemy.engine.Engine [cached since 4.533s ago] (2,)
2026-01-13 23:01:12,441 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:01:12,442 INFO sqlalchemy.engine.Engine [cached since 4.534s ago] (4, 5, 3, 2, 1)
INFO:     127.0.0.1:61683 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:01:12,444 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61686 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:01:12,445 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:12,446 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:12,446 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:01:12,446 INFO sqlalchemy.engine.Engine [cached since 4.492s ago] ()
INFO:     127.0.0.1:61685 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
2026-01-13 23:01:12,448 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:12,450 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:12,451 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:01:12,451 INFO sqlalchemy.engine.Engine [cached since 4.552s ago] (5, 0)
2026-01-13 23:01:12,452 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:01:12,453 INFO sqlalchemy.engine.Engine [cached since 4.496s ago] ()
2026-01-13 23:01:12,453 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:12,453 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:01:12,453 INFO sqlalchemy.engine.Engine [cached since 0.01771s ago] (100, 0)
2026-01-13 23:01:12,454 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:01:12,454 INFO sqlalchemy.engine.Engine [cached since 4.547s ago] (4, 5, 3, 2, 1)
INFO:     127.0.0.1:61683 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:01:12,455 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:12,456 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:01:12,456 INFO sqlalchemy.engine.Engine [cached since 4.549s ago] (2,)
INFO:     127.0.0.1:61686 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
2026-01-13 23:01:12,458 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61688 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:01:12,459 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:45,679 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:45,680 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:01:45,680 INFO sqlalchemy.engine.Engine [cached since 37.79s ago] (4,)
2026-01-13 23:01:45,681 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:45,681 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:01:45,682 INFO sqlalchemy.engine.Engine [cached since 37.79s ago] (4,)
2026-01-13 23:01:45,684 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:01:45,684 INFO sqlalchemy.engine.Engine [cached since 37.78s ago] (4,)
2026-01-13 23:01:45,685 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:01:45,685 INFO sqlalchemy.engine.Engine [cached since 37.79s ago] (4,)
INFO:     127.0.0.1:61701 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:01:45,688 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61702 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:01:45,691 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:45,692 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:45,692 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:01:45,692 INFO sqlalchemy.engine.Engine [cached since 37.8s ago] (4,)
2026-01-13 23:01:45,693 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:45,693 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:01:45,693 INFO sqlalchemy.engine.Engine [cached since 37.8s ago] (4,)
2026-01-13 23:01:45,694 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:01:45,694 INFO sqlalchemy.engine.Engine [cached since 37.79s ago] (4,)
2026-01-13 23:01:45,694 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:01:45,695 INFO sqlalchemy.engine.Engine [cached since 37.79s ago] (4,)
INFO:     127.0.0.1:61704 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:01:45,697 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61701 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:01:45,699 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:45,707 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:45,707 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:01:45,708 INFO sqlalchemy.engine.Engine [cached since 37.75s ago] ()
2026-01-13 23:01:45,708 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:01:45,708 INFO sqlalchemy.engine.Engine [cached since 37.75s ago] ()
INFO:     127.0.0.1:61701 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:01:45,709 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:45,710 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:45,710 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:01:45,710 INFO sqlalchemy.engine.Engine [cached since 37.76s ago] ()
2026-01-13 23:01:45,711 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:01:45,711 INFO sqlalchemy.engine.Engine [cached since 37.76s ago] ()
INFO:     127.0.0.1:61704 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:01:45,712 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61707 - "OPTIONS /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:01:52,646 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:52,646 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:01:52,647 INFO sqlalchemy.engine.Engine [cached since 44.75s ago] (4,)
2026-01-13 23:01:52,648 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61707 - "PUT /api/notes/4 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/terryxu/Downloads/corporate-obsidian/backend/app/routers/notes.py", line 101, in update_note
    await update_graph_links(note, db) # Re-parse links on save
          ^^^^^^^^^^^^^^^^^^
NameError: name 'update_graph_links' is not defined
2026-01-13 23:01:56,448 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:56,450 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:01:56,450 INFO sqlalchemy.engine.Engine [cached since 48.56s ago] (5,)
2026-01-13 23:01:56,451 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:56,451 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:01:56,451 INFO sqlalchemy.engine.Engine [cached since 48.56s ago] (5,)
2026-01-13 23:01:56,454 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:01:56,455 INFO sqlalchemy.engine.Engine [cached since 48.56s ago] (5,)
2026-01-13 23:01:56,457 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:01:56,457 INFO sqlalchemy.engine.Engine [cached since 48.55s ago] (5,)
INFO:     127.0.0.1:61721 - "GET /api/notes/5/backlinks HTTP/1.1" 200 OK
2026-01-13 23:01:56,459 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61720 - "GET /api/notes/5 HTTP/1.1" 200 OK
2026-01-13 23:01:56,461 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:56,461 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:56,462 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:01:56,462 INFO sqlalchemy.engine.Engine [cached since 48.57s ago] (5,)
2026-01-13 23:01:56,463 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:56,464 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:01:56,464 INFO sqlalchemy.engine.Engine [cached since 48.57s ago] (5,)
2026-01-13 23:01:56,465 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:01:56,465 INFO sqlalchemy.engine.Engine [cached since 48.57s ago] (5,)
2026-01-13 23:01:56,467 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:01:56,468 INFO sqlalchemy.engine.Engine [cached since 48.56s ago] (5,)
INFO:     127.0.0.1:61721 - "GET /api/notes/5/backlinks HTTP/1.1" 200 OK
2026-01-13 23:01:56,470 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61723 - "GET /api/notes/5 HTTP/1.1" 200 OK
2026-01-13 23:01:56,471 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:56,474 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:56,474 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:01:56,475 INFO sqlalchemy.engine.Engine [cached since 48.52s ago] ()
2026-01-13 23:01:56,475 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:01:56,476 INFO sqlalchemy.engine.Engine [cached since 48.52s ago] ()
INFO:     127.0.0.1:61723 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:01:56,476 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:56,477 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:56,477 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:01:56,477 INFO sqlalchemy.engine.Engine [cached since 48.52s ago] ()
2026-01-13 23:01:56,479 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:01:56,479 INFO sqlalchemy.engine.Engine [cached since 48.52s ago] ()
INFO:     127.0.0.1:61721 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:01:56,482 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:57,809 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:57,810 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:01:57,810 INFO sqlalchemy.engine.Engine [cached since 49.92s ago] (3,)
2026-01-13 23:01:57,812 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:57,812 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:01:57,812 INFO sqlalchemy.engine.Engine [cached since 49.92s ago] (3,)
2026-01-13 23:01:57,814 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:01:57,814 INFO sqlalchemy.engine.Engine [cached since 49.91s ago] (3,)
2026-01-13 23:01:57,815 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:01:57,815 INFO sqlalchemy.engine.Engine [cached since 49.92s ago] (3,)
INFO:     127.0.0.1:61723 - "GET /api/notes/3/backlinks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61721 - "GET /api/notes/3 HTTP/1.1" 200 OK
2026-01-13 23:01:57,819 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:57,819 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:57,820 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:57,821 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:01:57,821 INFO sqlalchemy.engine.Engine [cached since 49.93s ago] (3,)
2026-01-13 23:01:57,822 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:57,823 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:01:57,823 INFO sqlalchemy.engine.Engine [cached since 49.93s ago] (3,)
2026-01-13 23:01:57,826 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:01:57,826 INFO sqlalchemy.engine.Engine [cached since 49.93s ago] (3,)
2026-01-13 23:01:57,829 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:01:57,829 INFO sqlalchemy.engine.Engine [cached since 49.92s ago] (3,)
INFO:     127.0.0.1:61720 - "GET /api/notes/3/backlinks HTTP/1.1" 200 OK
2026-01-13 23:01:57,832 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:57,834 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:57,834 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:01:57,834 INFO sqlalchemy.engine.Engine [cached since 49.88s ago] ()
INFO:     127.0.0.1:61723 - "GET /api/notes/3 HTTP/1.1" 200 OK
2026-01-13 23:01:57,837 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:57,839 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:01:57,839 INFO sqlalchemy.engine.Engine [cached since 49.88s ago] ()
INFO:     127.0.0.1:61721 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:01:57,843 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:01:57,845 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:01:57,845 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:01:57,845 INFO sqlalchemy.engine.Engine [cached since 49.89s ago] ()
2026-01-13 23:01:57,846 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:01:57,846 INFO sqlalchemy.engine.Engine [cached since 49.89s ago] ()
INFO:     127.0.0.1:61723 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:01:57,848 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61723 - "GET /api/notes/search HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:61721 - "GET /api/notes/search/backlinks HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:61720 - "GET /api/notes/search HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:61725 - "GET /api/notes/search/backlinks HTTP/1.1" 422 Unprocessable Entity
2026-01-13 23:02:00,243 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:00,243 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:02:00,243 INFO sqlalchemy.engine.Engine [cached since 52.35s ago] (4,)
2026-01-13 23:02:00,259 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:00,260 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:02:00,260 INFO sqlalchemy.engine.Engine [cached since 52.37s ago] (4,)
2026-01-13 23:02:00,269 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:02:00,270 INFO sqlalchemy.engine.Engine [cached since 52.36s ago] (4,)
2026-01-13 23:02:00,271 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:02:00,271 INFO sqlalchemy.engine.Engine [cached since 52.37s ago] (4,)
INFO:     127.0.0.1:61728 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:02:00,274 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61730 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:02:00,276 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:00,278 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:00,279 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:02:00,279 INFO sqlalchemy.engine.Engine [cached since 52.38s ago] (4,)
2026-01-13 23:02:00,281 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:00,281 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:02:00,282 INFO sqlalchemy.engine.Engine [cached since 52.39s ago] (4,)
2026-01-13 23:02:00,284 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:02:00,284 INFO sqlalchemy.engine.Engine [cached since 52.39s ago] (4,)
2026-01-13 23:02:00,285 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:02:00,285 INFO sqlalchemy.engine.Engine [cached since 52.38s ago] (4,)
INFO:     127.0.0.1:61728 - "GET /api/notes/4 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61734 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:02:00,289 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:00,290 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:00,292 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:00,293 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:02:00,293 INFO sqlalchemy.engine.Engine [cached since 52.34s ago] ()
2026-01-13 23:02:00,297 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:02:00,297 INFO sqlalchemy.engine.Engine [cached since 52.34s ago] ()
INFO:     127.0.0.1:61728 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:02:00,299 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:00,301 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:00,302 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:02:00,302 INFO sqlalchemy.engine.Engine [cached since 52.35s ago] ()
2026-01-13 23:02:00,303 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:02:00,304 INFO sqlalchemy.engine.Engine [cached since 52.35s ago] ()
INFO:     127.0.0.1:61734 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:02:00,306 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  StatReload detected changes in 'app/schemas.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [69514]
INFO:     Started server process [69728]
INFO:     Waiting for application startup.
2026-01-13 23:02:01,400 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:01,400 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:02:01,400 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:02:01,400 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notes")
2026-01-13 23:02:01,400 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:02:01,400 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("links")
2026-01-13 23:02:01,400 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:02:01,401 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("revisions")
2026-01-13 23:02:01,401 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:02:01,401 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("tags")
2026-01-13 23:02:01,401 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:02:01,401 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("note_tags")
2026-01-13 23:02:01,401 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:02:01,401 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2026-01-13 23:02:06,205 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:06,225 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:02:06,226 INFO sqlalchemy.engine.Engine [generated in 0.00034s] (4,)
2026-01-13 23:02:06,227 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61737 - "PUT /api/notes/4 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/terryxu/Downloads/corporate-obsidian/backend/app/routers/notes.py", line 101, in update_note
    await update_graph_links(note, db) # Re-parse links on save
          ^^^^^^^^^^^^^^^^^^
NameError: name 'update_graph_links' is not defined
2026-01-13 23:02:10,322 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:10,332 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:02:10,332 INFO sqlalchemy.engine.Engine [generated in 0.00029s] (5,)
2026-01-13 23:02:10,340 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:02:10,340 INFO sqlalchemy.engine.Engine [generated in 0.00056s] (5,)
2026-01-13 23:02:10,340 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:10,340 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:02:10,340 INFO sqlalchemy.engine.Engine [cached since 4.115s ago] (5,)
2026-01-13 23:02:10,343 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:02:10,344 INFO sqlalchemy.engine.Engine [generated in 0.00014s] (5,)
INFO:     127.0.0.1:61741 - "GET /api/notes/5 HTTP/1.1" 200 OK
2026-01-13 23:02:10,345 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61743 - "GET /api/notes/5/backlinks HTTP/1.1" 200 OK
2026-01-13 23:02:10,347 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:10,348 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:10,348 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:02:10,348 INFO sqlalchemy.engine.Engine [cached since 0.01581s ago] (5,)
2026-01-13 23:02:10,349 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:10,349 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:02:10,350 INFO sqlalchemy.engine.Engine [cached since 4.124s ago] (5,)
2026-01-13 23:02:10,350 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:02:10,350 INFO sqlalchemy.engine.Engine [cached since 0.01104s ago] (5,)
2026-01-13 23:02:10,351 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:02:10,351 INFO sqlalchemy.engine.Engine [cached since 0.007912s ago] (5,)
INFO:     127.0.0.1:61741 - "GET /api/notes/5 HTTP/1.1" 200 OK
2026-01-13 23:02:10,353 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61745 - "GET /api/notes/5/backlinks HTTP/1.1" 200 OK
2026-01-13 23:02:10,355 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:10,360 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:10,361 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:02:10,362 INFO sqlalchemy.engine.Engine [generated in 0.00041s] ()
2026-01-13 23:02:10,363 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:02:10,363 INFO sqlalchemy.engine.Engine [generated in 0.00014s] ()
INFO:     127.0.0.1:61745 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:02:10,365 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:10,367 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:10,367 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:02:10,368 INFO sqlalchemy.engine.Engine [cached since 0.00641s ago] ()
2026-01-13 23:02:10,369 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:02:10,369 INFO sqlalchemy.engine.Engine [cached since 0.006394s ago] ()
INFO:     127.0.0.1:61741 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:02:10,371 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:12,689 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:12,690 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:02:12,690 INFO sqlalchemy.engine.Engine [cached since 2.358s ago] (4,)
2026-01-13 23:02:12,691 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:12,692 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:02:12,692 INFO sqlalchemy.engine.Engine [cached since 6.467s ago] (4,)
2026-01-13 23:02:12,693 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:02:12,693 INFO sqlalchemy.engine.Engine [cached since 2.35s ago] (4,)
2026-01-13 23:02:12,694 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:02:12,694 INFO sqlalchemy.engine.Engine [cached since 2.355s ago] (4,)
INFO:     127.0.0.1:61745 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:02:12,695 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61741 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:02:12,697 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:12,697 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:12,698 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:02:12,698 INFO sqlalchemy.engine.Engine [cached since 6.473s ago] (4,)
2026-01-13 23:02:12,701 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:12,701 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:02:12,702 INFO sqlalchemy.engine.Engine [cached since 2.37s ago] (4,)
2026-01-13 23:02:12,703 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:02:12,703 INFO sqlalchemy.engine.Engine [cached since 2.36s ago] (4,)
INFO:     127.0.0.1:61743 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:02:12,707 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:12,708 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:02:12,709 INFO sqlalchemy.engine.Engine [cached since 2.37s ago] (4,)
2026-01-13 23:02:12,710 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:12,711 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:02:12,711 INFO sqlalchemy.engine.Engine [cached since 2.35s ago] ()
INFO:     127.0.0.1:61745 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:02:12,714 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:12,716 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:02:12,716 INFO sqlalchemy.engine.Engine [cached since 2.354s ago] ()
INFO:     127.0.0.1:61743 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:02:12,717 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:12,718 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:12,718 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:02:12,718 INFO sqlalchemy.engine.Engine [cached since 2.357s ago] ()
2026-01-13 23:02:12,719 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:02:12,719 INFO sqlalchemy.engine.Engine [cached since 2.356s ago] ()
INFO:     127.0.0.1:61745 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:02:12,719 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:14,213 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:14,213 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:02:14,214 INFO sqlalchemy.engine.Engine [cached since 3.882s ago] (5,)
2026-01-13 23:02:14,215 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:14,215 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:02:14,215 INFO sqlalchemy.engine.Engine [cached since 7.99s ago] (5,)
2026-01-13 23:02:14,216 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:02:14,216 INFO sqlalchemy.engine.Engine [cached since 3.877s ago] (5,)
2026-01-13 23:02:14,217 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:02:14,217 INFO sqlalchemy.engine.Engine [cached since 3.874s ago] (5,)
INFO:     127.0.0.1:61745 - "GET /api/notes/5 HTTP/1.1" 200 OK
2026-01-13 23:02:14,219 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61743 - "GET /api/notes/5/backlinks HTTP/1.1" 200 OK
2026-01-13 23:02:14,220 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:14,222 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:14,223 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:02:14,223 INFO sqlalchemy.engine.Engine [cached since 3.891s ago] (5,)
2026-01-13 23:02:14,225 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:14,226 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:02:14,226 INFO sqlalchemy.engine.Engine [cached since 8.001s ago] (5,)
2026-01-13 23:02:14,228 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:02:14,229 INFO sqlalchemy.engine.Engine [cached since 3.889s ago] (5,)
2026-01-13 23:02:14,230 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:02:14,230 INFO sqlalchemy.engine.Engine [cached since 3.887s ago] (5,)
INFO:     127.0.0.1:61741 - "GET /api/notes/5 HTTP/1.1" 200 OK
2026-01-13 23:02:14,232 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61745 - "GET /api/notes/5/backlinks HTTP/1.1" 200 OK
2026-01-13 23:02:14,235 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:14,237 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:14,237 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:02:14,237 INFO sqlalchemy.engine.Engine [cached since 3.876s ago] ()
2026-01-13 23:02:14,239 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:02:14,239 INFO sqlalchemy.engine.Engine [cached since 3.877s ago] ()
INFO:     127.0.0.1:61741 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:02:14,241 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:14,243 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:14,243 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:02:14,243 INFO sqlalchemy.engine.Engine [cached since 3.882s ago] ()
2026-01-13 23:02:14,244 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:02:14,244 INFO sqlalchemy.engine.Engine [cached since 3.881s ago] ()
INFO:     127.0.0.1:61745 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:02:14,244 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  StatReload detected changes in 'app/routers/notes.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [69728]
INFO:     Started server process [69741]
INFO:     Waiting for application startup.
2026-01-13 23:02:18,042 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:18,042 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:02:18,042 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:02:18,043 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notes")
2026-01-13 23:02:18,043 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:02:18,043 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("links")
2026-01-13 23:02:18,043 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:02:18,043 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("revisions")
2026-01-13 23:02:18,043 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:02:18,043 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("tags")
2026-01-13 23:02:18,043 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:02:18,044 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("note_tags")
2026-01-13 23:02:18,044 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:02:18,044 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2026-01-13 23:02:35,941 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:35,963 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:02:35,964 INFO sqlalchemy.engine.Engine [generated in 0.00038s] ()
2026-01-13 23:02:35,965 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:02:35,966 INFO sqlalchemy.engine.Engine [generated in 0.00011s] ()
INFO:     127.0.0.1:61760 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:02:35,967 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:35,969 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:35,969 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:02:35,969 INFO sqlalchemy.engine.Engine [cached since 0.005695s ago] ()
2026-01-13 23:02:35,970 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:02:35,970 INFO sqlalchemy.engine.Engine [cached since 0.004783s ago] ()
INFO:     127.0.0.1:61760 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:02:35,971 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:39,600 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:39,601 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:02:39,602 INFO sqlalchemy.engine.Engine [cached since 3.638s ago] ()
2026-01-13 23:02:39,611 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:39,614 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:02:39,614 INFO sqlalchemy.engine.Engine [generated in 0.00018s] (5, 0)
2026-01-13 23:02:39,615 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:39,616 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:02:39,616 INFO sqlalchemy.engine.Engine [generated in 0.00052s] (100, 0)
2026-01-13 23:02:39,617 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:02:39,617 INFO sqlalchemy.engine.Engine [cached since 3.651s ago] ()
INFO:     127.0.0.1:61765 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:02:39,618 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:39,622 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:02:39,622 INFO sqlalchemy.engine.Engine [generated in 0.00016s] (4, 5, 3, 2, 1)
2026-01-13 23:02:39,623 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:02:39,623 INFO sqlalchemy.engine.Engine [cached since 0.001478s ago] (2,)
2026-01-13 23:02:39,624 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:39,624 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:02:39,624 INFO sqlalchemy.engine.Engine [cached since 3.661s ago] ()
2026-01-13 23:02:39,625 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:02:39,625 INFO sqlalchemy.engine.Engine [cached since 3.659s ago] ()
INFO:     127.0.0.1:61768 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61769 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:02:39,627 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:39,627 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61765 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:02:39,631 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:39,631 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:39,631 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:02:39,631 INFO sqlalchemy.engine.Engine [cached since 0.01674s ago] (5, 0)
2026-01-13 23:02:39,631 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:39,631 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:02:39,631 INFO sqlalchemy.engine.Engine [cached since 0.01569s ago] (100, 0)
2026-01-13 23:02:39,632 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:02:39,632 INFO sqlalchemy.engine.Engine [cached since 0.01053s ago] (4, 5, 3, 2, 1)
2026-01-13 23:02:39,633 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:02:39,633 INFO sqlalchemy.engine.Engine [cached since 0.011s ago] (2,)
INFO:     127.0.0.1:61771 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
2026-01-13 23:02:39,634 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61768 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:02:39,635 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:43,969 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:43,971 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:02:43,971 INFO sqlalchemy.engine.Engine [cached since 8.008s ago] ()
2026-01-13 23:02:43,973 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:02:43,973 INFO sqlalchemy.engine.Engine [cached since 8.008s ago] ()
INFO:     127.0.0.1:61768 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:02:43,976 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:43,979 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:43,990 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:02:43,992 INFO sqlalchemy.engine.Engine [cached since 8.028s ago] ()
2026-01-13 23:02:43,998 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:02:43,998 INFO sqlalchemy.engine.Engine [cached since 8.033s ago] ()
INFO:     127.0.0.1:61771 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:02:43,999 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:45,556 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:45,558 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:02:45,562 INFO sqlalchemy.engine.Engine [cached since 9.596s ago] ()
2026-01-13 23:02:45,571 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:45,571 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:02:45,572 INFO sqlalchemy.engine.Engine [cached since 5.957s ago] (5, 0)
2026-01-13 23:02:45,573 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:45,573 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:02:45,573 INFO sqlalchemy.engine.Engine [cached since 5.957s ago] (100, 0)
2026-01-13 23:02:45,575 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:02:45,575 INFO sqlalchemy.engine.Engine [cached since 9.61s ago] ()
2026-01-13 23:02:45,583 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:02:45,583 INFO sqlalchemy.engine.Engine [cached since 5.961s ago] (4, 5, 3, 2, 1)
2026-01-13 23:02:45,585 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:02:45,585 INFO sqlalchemy.engine.Engine [cached since 5.963s ago] (2,)
INFO:     127.0.0.1:61777 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61776 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:02:45,588 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:45,588 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:45,590 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:45,591 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:02:45,591 INFO sqlalchemy.engine.Engine [cached since 5.977s ago] (5, 0)
2026-01-13 23:02:45,595 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:45,595 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:02:45,595 INFO sqlalchemy.engine.Engine [cached since 9.632s ago] ()
INFO:     127.0.0.1:61778 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:02:45,596 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:45,603 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:02:45,603 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:02:45,603 INFO sqlalchemy.engine.Engine [cached since 5.988s ago] (100, 0)
2026-01-13 23:02:45,605 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:02:45,605 INFO sqlalchemy.engine.Engine [cached since 5.983s ago] (4, 5, 3, 2, 1)
2026-01-13 23:02:45,606 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:02:45,608 INFO sqlalchemy.engine.Engine [cached since 9.642s ago] ()
2026-01-13 23:02:45,609 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:02:45,609 INFO sqlalchemy.engine.Engine [cached since 5.987s ago] (2,)
INFO:     127.0.0.1:61777 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61780 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:02:45,610 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:02:45,610 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61776 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:02:45,612 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:03:06,356 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:03:06,366 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:03:06,366 INFO sqlalchemy.engine.Engine [generated in 0.00034s] (3,)
2026-01-13 23:03:06,370 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:03:06,371 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:03:06,371 INFO sqlalchemy.engine.Engine [generated in 0.00065s] (3,)
2026-01-13 23:03:06,378 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:03:06,378 INFO sqlalchemy.engine.Engine [generated in 0.00036s] (3,)
2026-01-13 23:03:06,381 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:03:06,381 INFO sqlalchemy.engine.Engine [cached since 26.76s ago] (3,)
INFO:     127.0.0.1:61796 - "GET /api/notes/3/backlinks HTTP/1.1" 200 OK
2026-01-13 23:03:06,385 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61793 - "GET /api/notes/3 HTTP/1.1" 200 OK
2026-01-13 23:03:06,387 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:03:06,450 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:03:06,451 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:03:06,451 INFO sqlalchemy.engine.Engine [cached since 30.49s ago] ()
2026-01-13 23:03:06,453 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:03:06,453 INFO sqlalchemy.engine.Engine [cached since 30.49s ago] ()
INFO:     127.0.0.1:61793 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:03:06,454 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:03:06,455 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:03:06,455 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:03:06,455 INFO sqlalchemy.engine.Engine [cached since 30.49s ago] ()
2026-01-13 23:03:06,457 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:03:06,457 INFO sqlalchemy.engine.Engine [cached since 30.49s ago] ()
INFO:     127.0.0.1:61796 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:03:06,458 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:03:08,466 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:03:08,500 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:03:08,500 INFO sqlalchemy.engine.Engine [generated in 0.00569s] ()
2026-01-13 23:03:08,510 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:03:08,513 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:03:08,514 INFO sqlalchemy.engine.Engine [cached since 32.55s ago] ()
2026-01-13 23:03:08,554 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:03:08,555 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:03:08,555 INFO sqlalchemy.engine.Engine [cached since 28.94s ago] (5, 0)
2026-01-13 23:03:08,557 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:03:08,558 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:03:08,558 INFO sqlalchemy.engine.Engine [cached since 28.94s ago] (100, 0)
2026-01-13 23:03:08,561 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:03:08,562 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:03:08,562 INFO sqlalchemy.engine.Engine [cached since 28.95s ago] (100, 0)
INFO:     127.0.0.1:61796 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:03:08,578 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:03:08,581 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:03:08,581 INFO sqlalchemy.engine.Engine [cached since 32.62s ago] ()
2026-01-13 23:03:08,586 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:03:08,586 INFO sqlalchemy.engine.Engine [cached since 28.96s ago] (2,)
2026-01-13 23:03:08,590 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:03:08,590 INFO sqlalchemy.engine.Engine [cached since 28.97s ago] (4, 5, 3, 2, 1)
2026-01-13 23:03:08,592 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:03:08,592 INFO sqlalchemy.engine.Engine [cached since 28.97s ago] (4, 5, 3, 2, 1)
INFO:     127.0.0.1:61807 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:61793 - "GET /api/graph HTTP/1.1" 200 OK
INFO:     127.0.0.1:61808 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
2026-01-13 23:03:08,602 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:03:08,603 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:03:08,603 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61805 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
2026-01-13 23:03:08,604 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:03:08,615 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:03:08,616 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:03:08,616 INFO sqlalchemy.engine.Engine [cached since 0.1213s ago] ()
INFO:     127.0.0.1:61805 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:03:08,621 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:03:09,304 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:03:09,310 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:03:09,310 INFO sqlalchemy.engine.Engine [cached since 0.8154s ago] ()
2026-01-13 23:03:09,323 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:03:09,323 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:03:09,323 INFO sqlalchemy.engine.Engine [cached since 2.958s ago] (3,)
2026-01-13 23:03:09,324 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:03:09,324 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:03:09,325 INFO sqlalchemy.engine.Engine [cached since 2.954s ago] (3,)
2026-01-13 23:03:09,337 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:03:09,338 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:03:09,338 INFO sqlalchemy.engine.Engine [cached since 29.72s ago] (100, 0)
INFO:     127.0.0.1:61805 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:03:09,342 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:03:09,343 INFO sqlalchemy.engine.Engine [cached since 2.965s ago] (3,)
2026-01-13 23:03:09,343 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:03:09,344 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:03:09,344 INFO sqlalchemy.engine.Engine [cached since 29.72s ago] (3,)
2026-01-13 23:03:09,346 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:03:09,346 INFO sqlalchemy.engine.Engine [cached since 29.73s ago] (4, 5, 3, 2, 1)
INFO:     127.0.0.1:61808 - "GET /api/notes/3 HTTP/1.1" 200 OK
2026-01-13 23:03:09,352 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61793 - "GET /api/notes/3/backlinks HTTP/1.1" 200 OK
2026-01-13 23:03:09,353 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61807 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
2026-01-13 23:03:09,355 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:03:09,396 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:03:09,397 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:03:09,397 INFO sqlalchemy.engine.Engine [cached since 33.43s ago] ()
2026-01-13 23:03:09,400 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:03:09,400 INFO sqlalchemy.engine.Engine [cached since 33.44s ago] ()
INFO:     127.0.0.1:61807 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:03:09,406 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:03:09,408 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:03:09,409 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:03:09,409 INFO sqlalchemy.engine.Engine [cached since 33.45s ago] ()
2026-01-13 23:03:09,417 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:03:09,417 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:03:09,417 INFO sqlalchemy.engine.Engine [cached since 0.9229s ago] ()
2026-01-13 23:03:09,418 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:03:09,418 INFO sqlalchemy.engine.Engine [cached since 33.45s ago] ()
INFO:     127.0.0.1:61807 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:03:09,420 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61793 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:03:09,422 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:03,873 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:03,882 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:04:03,883 INFO sqlalchemy.engine.Engine [cached since 55.39s ago] ()
2026-01-13 23:04:03,885 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:03,885 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:04:03,885 INFO sqlalchemy.engine.Engine [cached since 87.92s ago] ()
2026-01-13 23:04:03,896 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:03,897 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:04:03,897 INFO sqlalchemy.engine.Engine [cached since 84.28s ago] (5, 0)
2026-01-13 23:04:03,898 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:03,898 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:04:03,898 INFO sqlalchemy.engine.Engine [cached since 84.28s ago] (100, 0)
2026-01-13 23:04:03,899 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:03,899 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:04:03,899 INFO sqlalchemy.engine.Engine [cached since 84.29s ago] (100, 0)
INFO:     127.0.0.1:61829 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:04:03,911 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:04:03,911 INFO sqlalchemy.engine.Engine [cached since 87.95s ago] ()
2026-01-13 23:04:03,912 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:03,916 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:04:03,916 INFO sqlalchemy.engine.Engine [cached since 84.3s ago] (4, 5, 3, 2, 1)
2026-01-13 23:04:03,917 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:04:03,917 INFO sqlalchemy.engine.Engine [cached since 84.3s ago] (4, 5, 3, 2, 1)
2026-01-13 23:04:03,917 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:04:03,917 INFO sqlalchemy.engine.Engine [cached since 84.3s ago] (2,)
INFO:     127.0.0.1:61831 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:04:03,919 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61833 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61836 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61835 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:04:03,928 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:03,928 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:03,928 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:03,934 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:03,935 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:04:03,935 INFO sqlalchemy.engine.Engine [cached since 55.44s ago] ()
INFO:     127.0.0.1:61835 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:04:03,941 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:10,359 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:10,365 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:10,365 INFO sqlalchemy.engine.Engine [cached since 64s ago] (4,)
2026-01-13 23:04:10,366 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:10,366 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:10,367 INFO sqlalchemy.engine.Engine [cached since 64s ago] (4,)
2026-01-13 23:04:10,370 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:04:10,370 INFO sqlalchemy.engine.Engine [cached since 90.75s ago] (4,)
2026-01-13 23:04:10,372 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:04:10,373 INFO sqlalchemy.engine.Engine [cached since 64s ago] (4,)
INFO:     127.0.0.1:61845 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:04:10,376 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61847 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:04:10,379 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:10,381 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:10,381 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:10,381 INFO sqlalchemy.engine.Engine [cached since 64.02s ago] (4,)
2026-01-13 23:04:10,383 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:10,384 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:10,384 INFO sqlalchemy.engine.Engine [cached since 64.02s ago] (4,)
2026-01-13 23:04:10,386 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:04:10,386 INFO sqlalchemy.engine.Engine [cached since 90.77s ago] (4,)
2026-01-13 23:04:10,397 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:04:10,397 INFO sqlalchemy.engine.Engine [cached since 64.02s ago] (4,)
INFO:     127.0.0.1:61845 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:04:10,398 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61850 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:04:10,399 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:10,404 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:10,404 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:04:10,404 INFO sqlalchemy.engine.Engine [cached since 94.44s ago] ()
2026-01-13 23:04:10,405 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:04:10,405 INFO sqlalchemy.engine.Engine [cached since 94.44s ago] ()
INFO:     127.0.0.1:61850 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:04:10,405 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:10,407 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:10,407 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:04:10,407 INFO sqlalchemy.engine.Engine [cached since 94.45s ago] ()
2026-01-13 23:04:10,408 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:04:10,408 INFO sqlalchemy.engine.Engine [cached since 94.44s ago] ()
INFO:     127.0.0.1:61850 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:04:10,409 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:13,756 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:13,757 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:13,757 INFO sqlalchemy.engine.Engine [cached since 67.39s ago] (4,)
2026-01-13 23:04:13,760 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61850 - "PUT /api/notes/4 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/terryxu/Downloads/corporate-obsidian/backend/app/routers/notes.py", line 110, in update_note
    await update_graph_links(note, db)
          ^^^^^^^^^^^^^^^^^^
NameError: name 'update_graph_links' is not defined
2026-01-13 23:04:15,793 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:15,794 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:15,794 INFO sqlalchemy.engine.Engine [cached since 69.43s ago] (5,)
2026-01-13 23:04:15,795 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:15,796 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:15,796 INFO sqlalchemy.engine.Engine [cached since 69.43s ago] (5,)
2026-01-13 23:04:15,800 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:04:15,800 INFO sqlalchemy.engine.Engine [cached since 69.42s ago] (5,)
2026-01-13 23:04:15,804 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:04:15,805 INFO sqlalchemy.engine.Engine [cached since 96.18s ago] (5,)
INFO:     127.0.0.1:61855 - "GET /api/notes/5 HTTP/1.1" 200 OK
2026-01-13 23:04:15,808 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61856 - "GET /api/notes/5/backlinks HTTP/1.1" 200 OK
2026-01-13 23:04:15,811 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:15,816 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:15,817 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:15,817 INFO sqlalchemy.engine.Engine [cached since 69.45s ago] (5,)
2026-01-13 23:04:15,819 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:15,820 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:15,820 INFO sqlalchemy.engine.Engine [cached since 69.46s ago] (5,)
2026-01-13 23:04:15,822 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:04:15,822 INFO sqlalchemy.engine.Engine [cached since 96.2s ago] (5,)
2026-01-13 23:04:15,824 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:04:15,824 INFO sqlalchemy.engine.Engine [cached since 69.45s ago] (5,)
INFO:     127.0.0.1:61855 - "GET /api/notes/5/backlinks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61858 - "GET /api/notes/5 HTTP/1.1" 200 OK
2026-01-13 23:04:15,828 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:15,828 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:15,830 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:15,830 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:04:15,830 INFO sqlalchemy.engine.Engine [cached since 99.87s ago] ()
2026-01-13 23:04:15,831 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:04:15,831 INFO sqlalchemy.engine.Engine [cached since 99.87s ago] ()
INFO:     127.0.0.1:61856 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:04:15,832 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:15,833 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:15,833 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:04:15,833 INFO sqlalchemy.engine.Engine [cached since 99.87s ago] ()
2026-01-13 23:04:15,836 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:04:15,836 INFO sqlalchemy.engine.Engine [cached since 99.87s ago] ()
INFO:     127.0.0.1:61858 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:04:15,838 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:16,221 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:16,221 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:16,221 INFO sqlalchemy.engine.Engine [cached since 69.86s ago] (4,)
2026-01-13 23:04:16,224 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:16,224 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:16,224 INFO sqlalchemy.engine.Engine [cached since 69.86s ago] (4,)
2026-01-13 23:04:16,227 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:04:16,227 INFO sqlalchemy.engine.Engine [cached since 96.61s ago] (4,)
2026-01-13 23:04:16,228 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:04:16,228 INFO sqlalchemy.engine.Engine [cached since 69.85s ago] (4,)
INFO:     127.0.0.1:61856 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61858 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:04:16,231 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:16,231 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:16,233 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:16,233 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:16,233 INFO sqlalchemy.engine.Engine [cached since 69.86s ago] (4,)
2026-01-13 23:04:16,235 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:16,236 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:16,236 INFO sqlalchemy.engine.Engine [cached since 69.87s ago] (4,)
2026-01-13 23:04:16,239 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:04:16,239 INFO sqlalchemy.engine.Engine [cached since 96.62s ago] (4,)
2026-01-13 23:04:16,241 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:04:16,242 INFO sqlalchemy.engine.Engine [cached since 69.87s ago] (4,)
2026-01-13 23:04:16,245 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:16,245 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:04:16,246 INFO sqlalchemy.engine.Engine [cached since 100.3s ago] ()
INFO:     127.0.0.1:61860 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:04:16,248 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61855 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:04:16,250 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:04:16,250 INFO sqlalchemy.engine.Engine [cached since 100.3s ago] ()
2026-01-13 23:04:16,250 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61858 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:04:16,251 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:16,253 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:16,253 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:04:16,253 INFO sqlalchemy.engine.Engine [cached since 100.3s ago] ()
2026-01-13 23:04:16,254 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:04:16,254 INFO sqlalchemy.engine.Engine [cached since 100.3s ago] ()
INFO:     127.0.0.1:61855 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:04:16,256 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:16,972 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:16,972 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:16,972 INFO sqlalchemy.engine.Engine [cached since 70.6s ago] (4,)
2026-01-13 23:04:16,977 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:04:16,977 INFO sqlalchemy.engine.Engine [generated in 0.00030s] (4,)
INFO:     127.0.0.1:61855 - "GET /api/notes/4/revisions HTTP/1.1" 200 OK
2026-01-13 23:04:16,979 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:20,700 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:20,700 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:20,700 INFO sqlalchemy.engine.Engine [cached since 74.33s ago] (4,)
2026-01-13 23:04:20,701 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61862 - "PUT /api/notes/4 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/terryxu/Downloads/corporate-obsidian/backend/app/routers/notes.py", line 110, in update_note
    await update_graph_links(note, db)
          ^^^^^^^^^^^^^^^^^^
NameError: name 'update_graph_links' is not defined
2026-01-13 23:04:23,900 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:23,902 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:23,902 INFO sqlalchemy.engine.Engine [cached since 77.54s ago] (5,)
2026-01-13 23:04:23,904 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:23,907 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:23,910 INFO sqlalchemy.engine.Engine [cached since 77.54s ago] (5,)
2026-01-13 23:04:23,915 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:04:23,915 INFO sqlalchemy.engine.Engine [cached since 104.3s ago] (5,)
2026-01-13 23:04:23,916 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:04:23,916 INFO sqlalchemy.engine.Engine [cached since 77.54s ago] (5,)
INFO:     127.0.0.1:61867 - "GET /api/notes/5/backlinks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61865 - "GET /api/notes/5 HTTP/1.1" 200 OK
2026-01-13 23:04:23,918 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:23,919 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:23,919 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:23,919 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:23,919 INFO sqlalchemy.engine.Engine [cached since 77.55s ago] (5,)
2026-01-13 23:04:23,920 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:23,921 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:23,921 INFO sqlalchemy.engine.Engine [cached since 77.56s ago] (5,)
2026-01-13 23:04:23,924 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:04:23,924 INFO sqlalchemy.engine.Engine [cached since 77.55s ago] (5,)
2026-01-13 23:04:23,925 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:04:23,925 INFO sqlalchemy.engine.Engine [cached since 104.3s ago] (5,)
INFO:     127.0.0.1:61867 - "GET /api/notes/5/backlinks HTTP/1.1" 200 OK
2026-01-13 23:04:23,926 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61869 - "GET /api/notes/5 HTTP/1.1" 200 OK
2026-01-13 23:04:23,927 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:23,929 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:23,929 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:04:23,929 INFO sqlalchemy.engine.Engine [cached since 108s ago] ()
2026-01-13 23:04:23,930 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:04:23,930 INFO sqlalchemy.engine.Engine [cached since 108s ago] ()
INFO:     127.0.0.1:61869 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:04:23,932 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:23,933 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:23,933 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:04:23,933 INFO sqlalchemy.engine.Engine [cached since 108s ago] ()
2026-01-13 23:04:23,934 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:04:23,935 INFO sqlalchemy.engine.Engine [cached since 108s ago] ()
INFO:     127.0.0.1:61867 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:04:23,937 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:24,256 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:24,256 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:24,257 INFO sqlalchemy.engine.Engine [cached since 77.89s ago] (4,)
2026-01-13 23:04:24,258 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:24,258 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:24,259 INFO sqlalchemy.engine.Engine [cached since 77.89s ago] (4,)
2026-01-13 23:04:24,261 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:04:24,261 INFO sqlalchemy.engine.Engine [cached since 104.6s ago] (4,)
2026-01-13 23:04:24,262 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:04:24,262 INFO sqlalchemy.engine.Engine [cached since 77.89s ago] (4,)
INFO:     127.0.0.1:61869 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:04:24,263 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61867 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:04:24,264 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:24,264 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:24,265 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:24,265 INFO sqlalchemy.engine.Engine [cached since 77.9s ago] (4,)
2026-01-13 23:04:24,266 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:24,267 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:24,267 INFO sqlalchemy.engine.Engine [cached since 77.9s ago] (4,)
2026-01-13 23:04:24,270 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:04:24,270 INFO sqlalchemy.engine.Engine [cached since 77.89s ago] (4,)
2026-01-13 23:04:24,272 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:04:24,272 INFO sqlalchemy.engine.Engine [cached since 104.7s ago] (4,)
INFO:     127.0.0.1:61865 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:04:24,273 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61869 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:04:24,276 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:24,277 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:24,277 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:04:24,277 INFO sqlalchemy.engine.Engine [cached since 108.3s ago] ()
2026-01-13 23:04:24,278 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:04:24,278 INFO sqlalchemy.engine.Engine [cached since 108.3s ago] ()
INFO:     127.0.0.1:61865 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:04:24,280 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:24,281 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:24,281 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:04:24,281 INFO sqlalchemy.engine.Engine [cached since 108.3s ago] ()
2026-01-13 23:04:24,283 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:04:24,284 INFO sqlalchemy.engine.Engine [cached since 108.3s ago] ()
INFO:     127.0.0.1:61869 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:04:24,291 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:27,629 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:27,630 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:04:27,630 INFO sqlalchemy.engine.Engine [cached since 79.14s ago] ()
2026-01-13 23:04:27,632 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:27,633 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:27,633 INFO sqlalchemy.engine.Engine [cached since 81.27s ago] (4,)
2026-01-13 23:04:27,633 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:27,633 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:27,633 INFO sqlalchemy.engine.Engine [cached since 81.26s ago] (4,)
2026-01-13 23:04:27,634 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:27,634 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:04:27,635 INFO sqlalchemy.engine.Engine [cached since 108s ago] (100, 0)
2026-01-13 23:04:27,636 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:04:27,636 INFO sqlalchemy.engine.Engine [cached since 108s ago] (4,)
2026-01-13 23:04:27,637 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:04:27,637 INFO sqlalchemy.engine.Engine [cached since 81.26s ago] (4,)
INFO:     127.0.0.1:61879 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:04:27,637 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:27,638 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:04:27,639 INFO sqlalchemy.engine.Engine [cached since 108s ago] (4, 5, 3, 2, 1)
INFO:     127.0.0.1:61882 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:04:27,641 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61884 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:04:27,644 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61885 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
2026-01-13 23:04:27,646 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:27,663 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:27,663 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:04:27,663 INFO sqlalchemy.engine.Engine [cached since 111.7s ago] ()
2026-01-13 23:04:27,668 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:04:27,670 INFO sqlalchemy.engine.Engine [cached since 111.7s ago] ()
INFO:     127.0.0.1:61885 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:04:27,679 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:27,681 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:27,681 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:04:27,681 INFO sqlalchemy.engine.Engine [cached since 111.7s ago] ()
2026-01-13 23:04:27,682 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:27,683 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:04:27,683 INFO sqlalchemy.engine.Engine [cached since 79.19s ago] ()
INFO:     127.0.0.1:61885 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:04:27,686 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:27,687 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:04:27,688 INFO sqlalchemy.engine.Engine [cached since 111.7s ago] ()
INFO:     127.0.0.1:61884 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:04:27,704 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:30,495 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:30,496 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:30,496 INFO sqlalchemy.engine.Engine [cached since 84.13s ago] (4,)
2026-01-13 23:04:30,497 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61887 - "PUT /api/notes/4 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 410, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/site-packages/fastapi/routing.py", line 243, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/terryxu/Downloads/corporate-obsidian/backend/app/routers/notes.py", line 110, in update_note
    await update_graph_links(note, db)
          ^^^^^^^^^^^^^^^^^^
NameError: name 'update_graph_links' is not defined
2026-01-13 23:04:33,842 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:33,843 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:33,843 INFO sqlalchemy.engine.Engine [cached since 87.48s ago] (5,)
2026-01-13 23:04:33,845 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:33,845 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:33,846 INFO sqlalchemy.engine.Engine [cached since 87.48s ago] (5,)
2026-01-13 23:04:33,852 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:04:33,852 INFO sqlalchemy.engine.Engine [cached since 114.2s ago] (5,)
2026-01-13 23:04:33,853 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:04:33,853 INFO sqlalchemy.engine.Engine [cached since 87.48s ago] (5,)
INFO:     127.0.0.1:61892 - "GET /api/notes/5/backlinks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61890 - "GET /api/notes/5 HTTP/1.1" 200 OK
2026-01-13 23:04:33,857 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:33,857 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:33,858 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:33,859 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:33,859 INFO sqlalchemy.engine.Engine [cached since 87.5s ago] (5,)
2026-01-13 23:04:33,861 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:33,861 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:33,861 INFO sqlalchemy.engine.Engine [cached since 87.49s ago] (5,)
2026-01-13 23:04:33,863 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:04:33,864 INFO sqlalchemy.engine.Engine [cached since 114.2s ago] (5,)
2026-01-13 23:04:33,865 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:04:33,865 INFO sqlalchemy.engine.Engine [cached since 87.49s ago] (5,)
INFO:     127.0.0.1:61892 - "GET /api/notes/5 HTTP/1.1" 200 OK
2026-01-13 23:04:33,866 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61894 - "GET /api/notes/5/backlinks HTTP/1.1" 200 OK
2026-01-13 23:04:33,868 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:33,874 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:33,875 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:04:33,875 INFO sqlalchemy.engine.Engine [cached since 117.9s ago] ()
2026-01-13 23:04:33,876 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:04:33,876 INFO sqlalchemy.engine.Engine [cached since 117.9s ago] ()
INFO:     127.0.0.1:61894 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:04:33,877 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:33,878 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:33,878 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:04:33,878 INFO sqlalchemy.engine.Engine [cached since 117.9s ago] ()
2026-01-13 23:04:33,879 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:04:33,879 INFO sqlalchemy.engine.Engine [cached since 117.9s ago] ()
INFO:     127.0.0.1:61892 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:04:33,880 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:34,418 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:34,418 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:34,418 INFO sqlalchemy.engine.Engine [cached since 88.05s ago] (4,)
2026-01-13 23:04:34,420 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:34,420 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:34,421 INFO sqlalchemy.engine.Engine [cached since 88.05s ago] (4,)
2026-01-13 23:04:34,422 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:04:34,423 INFO sqlalchemy.engine.Engine [cached since 114.8s ago] (4,)
2026-01-13 23:04:34,423 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:04:34,423 INFO sqlalchemy.engine.Engine [cached since 88.05s ago] (4,)
INFO:     127.0.0.1:61892 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:04:34,425 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61894 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:04:34,427 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:34,427 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:34,428 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:34,429 INFO sqlalchemy.engine.Engine [cached since 88.06s ago] (4,)
2026-01-13 23:04:34,430 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:34,430 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:04:34,430 INFO sqlalchemy.engine.Engine [cached since 88.06s ago] (4,)
2026-01-13 23:04:34,434 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:04:34,434 INFO sqlalchemy.engine.Engine [cached since 114.8s ago] (4,)
2026-01-13 23:04:34,436 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:04:34,436 INFO sqlalchemy.engine.Engine [cached since 88.06s ago] (4,)
INFO:     127.0.0.1:61890 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:04:34,440 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61892 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:04:34,443 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:34,444 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:34,444 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:04:34,445 INFO sqlalchemy.engine.Engine [cached since 118.5s ago] ()
2026-01-13 23:04:34,447 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:04:34,447 INFO sqlalchemy.engine.Engine [cached since 118.5s ago] ()
INFO:     127.0.0.1:61894 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:04:34,450 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:04:34,451 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:04:34,452 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:04:34,452 INFO sqlalchemy.engine.Engine [cached since 118.5s ago] ()
2026-01-13 23:04:34,452 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:04:34,452 INFO sqlalchemy.engine.Engine [cached since 118.5s ago] ()
INFO:     127.0.0.1:61892 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:04:34,453 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  StatReload detected changes in 'app/routers/notes.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [69741]
INFO:     Started server process [69899]
INFO:     Waiting for application startup.
2026-01-13 23:05:39,916 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:05:39,916 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:05:39,916 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:05:39,916 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notes")
2026-01-13 23:05:39,916 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:05:39,916 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("links")
2026-01-13 23:05:39,916 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:05:39,917 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("revisions")
2026-01-13 23:05:39,917 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:05:39,917 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("tags")
2026-01-13 23:05:39,917 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:05:39,917 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("note_tags")
2026-01-13 23:05:39,917 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:05:39,917 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2026-01-13 23:05:45,451 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:05:45,454 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:05:45,454 INFO sqlalchemy.engine.Engine [generated in 0.00019s] (1,)
2026-01-13 23:05:45,455 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:05:45,456 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:05:45,456 INFO sqlalchemy.engine.Engine [generated in 0.00007s] (1,)
2026-01-13 23:05:45,458 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:05:45,459 INFO sqlalchemy.engine.Engine [generated in 0.00016s] (1,)
2026-01-13 23:05:45,461 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:05:45,461 INFO sqlalchemy.engine.Engine [generated in 0.00046s] (1,)
INFO:     127.0.0.1:61917 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:05:45,463 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61919 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:05:45,465 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:05:45,466 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:05:45,467 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:05:45,467 INFO sqlalchemy.engine.Engine [cached since 0.0129s ago] (1,)
2026-01-13 23:05:45,467 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:05:45,468 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:05:45,468 INFO sqlalchemy.engine.Engine [cached since 0.01183s ago] (1,)
2026-01-13 23:05:45,468 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:05:45,469 INFO sqlalchemy.engine.Engine [cached since 0.0102s ago] (1,)
2026-01-13 23:05:45,469 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:05:45,469 INFO sqlalchemy.engine.Engine [cached since 0.00833s ago] (1,)
INFO:     127.0.0.1:61917 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:05:45,470 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61921 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:05:45,471 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:05:45,482 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:05:45,482 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:05:45,482 INFO sqlalchemy.engine.Engine [generated in 0.00012s] ()
2026-01-13 23:05:45,483 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:05:45,483 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ()
INFO:     127.0.0.1:61921 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:05:45,484 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:05:45,484 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:05:45,485 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:05:45,485 INFO sqlalchemy.engine.Engine [cached since 0.002557s ago] ()
2026-01-13 23:05:45,486 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:05:45,486 INFO sqlalchemy.engine.Engine [cached since 0.00289s ago] ()
INFO:     127.0.0.1:61917 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:05:45,487 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:05:46,813 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:05:46,813 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:05:46,813 INFO sqlalchemy.engine.Engine [cached since 1.359s ago] (2,)
2026-01-13 23:05:46,814 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:05:46,814 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:05:46,814 INFO sqlalchemy.engine.Engine [cached since 1.358s ago] (2,)
2026-01-13 23:05:46,815 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:05:46,815 INFO sqlalchemy.engine.Engine [cached since 1.356s ago] (2,)
2026-01-13 23:05:46,815 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:05:46,815 INFO sqlalchemy.engine.Engine [cached since 1.354s ago] (2,)
INFO:     127.0.0.1:61917 - "GET /api/notes/2 HTTP/1.1" 200 OK
2026-01-13 23:05:46,816 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61921 - "GET /api/notes/2/backlinks HTTP/1.1" 200 OK
2026-01-13 23:05:46,816 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:05:46,818 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:05:46,819 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:05:46,819 INFO sqlalchemy.engine.Engine [cached since 1.363s ago] (2,)
2026-01-13 23:05:46,819 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:05:46,820 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:05:46,820 INFO sqlalchemy.engine.Engine [cached since 1.366s ago] (2,)
2026-01-13 23:05:46,822 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:05:46,822 INFO sqlalchemy.engine.Engine [cached since 1.361s ago] (2,)
2026-01-13 23:05:46,823 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:05:46,823 INFO sqlalchemy.engine.Engine [cached since 1.365s ago] (2,)
INFO:     127.0.0.1:61923 - "GET /api/notes/2/backlinks HTTP/1.1" 200 OK
2026-01-13 23:05:46,826 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61919 - "GET /api/notes/2 HTTP/1.1" 200 OK
2026-01-13 23:05:46,829 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:05:46,840 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:05:46,840 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:05:46,840 INFO sqlalchemy.engine.Engine [cached since 1.358s ago] ()
2026-01-13 23:05:46,841 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:05:46,841 INFO sqlalchemy.engine.Engine [cached since 1.359s ago] ()
INFO:     127.0.0.1:61919 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:05:46,843 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:05:46,844 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:05:46,844 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:05:46,844 INFO sqlalchemy.engine.Engine [cached since 1.362s ago] ()
2026-01-13 23:05:46,845 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:05:46,845 INFO sqlalchemy.engine.Engine [cached since 1.362s ago] ()
INFO:     127.0.0.1:61923 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:05:46,848 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  StatReload detected changes in 'app/routers/notes.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [69899]
INFO:     Started server process [69913]
INFO:     Waiting for application startup.
2026-01-13 23:06:00,763 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:06:00,763 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:06:00,763 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:06:00,764 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notes")
2026-01-13 23:06:00,764 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:06:00,764 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("links")
2026-01-13 23:06:00,764 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:06:00,764 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("revisions")
2026-01-13 23:06:00,764 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:06:00,764 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("tags")
2026-01-13 23:06:00,764 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:06:00,764 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("note_tags")
2026-01-13 23:06:00,764 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:06:00,765 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/routers/notes.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [69913]
INFO:     Started server process [69922]
INFO:     Waiting for application startup.
2026-01-13 23:06:44,108 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:06:44,109 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:06:44,109 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:06:44,109 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notes")
2026-01-13 23:06:44,109 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:06:44,109 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("links")
2026-01-13 23:06:44,109 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:06:44,110 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("revisions")
2026-01-13 23:06:44,110 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:06:44,110 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("tags")
2026-01-13 23:06:44,110 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:06:44,110 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("note_tags")
2026-01-13 23:06:44,110 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:06:44,110 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2026-01-13 23:07:12,012 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:12,030 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:07:12,030 INFO sqlalchemy.engine.Engine [generated in 0.00029s] ()
2026-01-13 23:07:12,033 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:12,034 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:12,035 INFO sqlalchemy.engine.Engine [generated in 0.00012s] (2,)
2026-01-13 23:07:12,035 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:12,036 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:07:12,036 INFO sqlalchemy.engine.Engine [generated in 0.00010s] (100, 0)
2026-01-13 23:07:12,036 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:12,036 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:12,036 INFO sqlalchemy.engine.Engine [generated in 0.00006s] (2,)
INFO:     127.0.0.1:61966 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:07:12,038 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:12,041 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:12,041 INFO sqlalchemy.engine.Engine [generated in 0.00017s] (2,)
2026-01-13 23:07:12,042 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:07:12,042 INFO sqlalchemy.engine.Engine [generated in 0.00007s] (2,)
2026-01-13 23:07:12,043 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:07:12,043 INFO sqlalchemy.engine.Engine [cached since 0.001661s ago] (4, 5, 3, 2, 1)
INFO:     127.0.0.1:61970 - "GET /api/notes/2 HTTP/1.1" 200 OK
2026-01-13 23:07:12,045 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61972 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
2026-01-13 23:07:12,046 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61971 - "GET /api/notes/2/backlinks HTTP/1.1" 200 OK
2026-01-13 23:07:12,047 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:12,060 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:12,060 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:07:12,060 INFO sqlalchemy.engine.Engine [cached since 0.03077s ago] ()
INFO:     127.0.0.1:61971 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:07:12,061 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:12,084 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:12,085 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:12,085 INFO sqlalchemy.engine.Engine [generated in 0.00013s] ()
2026-01-13 23:07:12,087 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:12,088 INFO sqlalchemy.engine.Engine [generated in 0.00048s] ()
INFO:     127.0.0.1:61971 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:12,093 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:12,096 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:12,096 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:12,099 INFO sqlalchemy.engine.Engine [cached since 0.01213s ago] ()
2026-01-13 23:07:12,103 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:12,103 INFO sqlalchemy.engine.Engine [cached since 0.01618s ago] ()
INFO:     127.0.0.1:61972 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:12,110 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:14,033 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:14,034 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:14,034 INFO sqlalchemy.engine.Engine [cached since 1.998s ago] (1,)
2026-01-13 23:07:14,035 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:14,035 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:14,035 INFO sqlalchemy.engine.Engine [cached since 2.001s ago] (1,)
2026-01-13 23:07:14,044 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:14,044 INFO sqlalchemy.engine.Engine [cached since 2.002s ago] (1,)
2026-01-13 23:07:14,044 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:07:14,044 INFO sqlalchemy.engine.Engine [cached since 2.002s ago] (1,)
INFO:     127.0.0.1:61972 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:07:14,049 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61971 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:07:14,052 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:14,054 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:14,055 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:14,055 INFO sqlalchemy.engine.Engine [cached since 2.019s ago] (1,)
2026-01-13 23:07:14,056 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:14,056 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:14,056 INFO sqlalchemy.engine.Engine [cached since 2.022s ago] (1,)
2026-01-13 23:07:14,059 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:14,059 INFO sqlalchemy.engine.Engine [cached since 2.018s ago] (1,)
2026-01-13 23:07:14,060 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:07:14,060 INFO sqlalchemy.engine.Engine [cached since 2.018s ago] (1,)
INFO:     127.0.0.1:61970 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:07:14,062 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61966 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:07:14,063 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:14,067 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:14,067 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:14,067 INFO sqlalchemy.engine.Engine [cached since 1.983s ago] ()
2026-01-13 23:07:14,068 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:14,068 INFO sqlalchemy.engine.Engine [cached since 1.981s ago] ()
INFO:     127.0.0.1:61966 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:14,069 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:14,070 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:14,070 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:14,070 INFO sqlalchemy.engine.Engine [cached since 1.986s ago] ()
2026-01-13 23:07:14,071 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:14,071 INFO sqlalchemy.engine.Engine [cached since 1.984s ago] ()
INFO:     127.0.0.1:61970 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:14,072 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61975 - "OPTIONS /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:07:16,730 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:16,730 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:16,730 INFO sqlalchemy.engine.Engine [cached since 4.696s ago] (1,)
2026-01-13 23:07:16,736 INFO sqlalchemy.engine.Engine UPDATE notes SET content=?, updated_at=? WHERE notes.id = ?
2026-01-13 23:07:16,736 INFO sqlalchemy.engine.Engine [generated in 0.00044s] ('# test\n\nStart writing here... abc', '2026-01-14 04:07:16.735934', 1)
2026-01-13 23:07:16,739 INFO sqlalchemy.engine.Engine INSERT INTO revisions (note_id, author_id, content_snapshot, created_at) VALUES (?, ?, ?, ?)
2026-01-13 23:07:16,739 INFO sqlalchemy.engine.Engine [generated in 0.00021s] (1, 1, '# test\n\nStart writing here...', '2026-01-14 04:07:16.739219')
2026-01-13 23:07:16,741 INFO sqlalchemy.engine.Engine DELETE FROM links WHERE links.source_note_id = ?
2026-01-13 23:07:16,741 INFO sqlalchemy.engine.Engine [generated in 0.00016s] (1,)
2026-01-13 23:07:16,742 INFO sqlalchemy.engine.Engine DELETE FROM note_tags WHERE note_tags.note_id = ?
2026-01-13 23:07:16,742 INFO sqlalchemy.engine.Engine [generated in 0.00016s] (1,)
2026-01-13 23:07:16,743 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:07:16,748 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:16,750 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:16,750 INFO sqlalchemy.engine.Engine [generated in 0.00020s] (1,)
2026-01-13 23:07:16,752 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:16,752 INFO sqlalchemy.engine.Engine [cached since 4.716s ago] (1,)
2026-01-13 23:07:16,753 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:16,753 INFO sqlalchemy.engine.Engine [cached since 4.712s ago] (1,)
INFO:     127.0.0.1:61975 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:07:16,755 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:16,759 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:16,759 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:16,759 INFO sqlalchemy.engine.Engine [cached since 4.725s ago] (1,)
2026-01-13 23:07:16,760 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:07:16,760 INFO sqlalchemy.engine.Engine [cached since 4.718s ago] (1,)
INFO:     127.0.0.1:61975 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:07:16,761 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:18,243 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:18,246 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:18,246 INFO sqlalchemy.engine.Engine [cached since 6.21s ago] (2,)
2026-01-13 23:07:18,248 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:18,249 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:18,249 INFO sqlalchemy.engine.Engine [cached since 6.214s ago] (2,)
2026-01-13 23:07:18,250 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:18,250 INFO sqlalchemy.engine.Engine [cached since 6.209s ago] (2,)
2026-01-13 23:07:18,251 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:07:18,251 INFO sqlalchemy.engine.Engine [cached since 6.209s ago] (2,)
INFO:     127.0.0.1:61975 - "GET /api/notes/2 HTTP/1.1" 200 OK
2026-01-13 23:07:18,253 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61978 - "GET /api/notes/2/backlinks HTTP/1.1" 200 OK
2026-01-13 23:07:18,256 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:18,260 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:18,263 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:18,265 INFO sqlalchemy.engine.Engine [cached since 6.231s ago] (2,)
2026-01-13 23:07:18,272 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:18,272 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:18,272 INFO sqlalchemy.engine.Engine [cached since 6.236s ago] (2,)
2026-01-13 23:07:18,277 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:18,277 INFO sqlalchemy.engine.Engine [cached since 6.236s ago] (2,)
2026-01-13 23:07:18,279 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:07:18,279 INFO sqlalchemy.engine.Engine [cached since 6.237s ago] (2,)
2026-01-13 23:07:18,279 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:18,281 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:18,281 INFO sqlalchemy.engine.Engine [cached since 6.197s ago] ()
INFO:     127.0.0.1:61980 - "GET /api/notes/2 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61975 - "GET /api/notes/2/backlinks HTTP/1.1" 200 OK
2026-01-13 23:07:18,284 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:18,285 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:18,285 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:18,285 INFO sqlalchemy.engine.Engine [cached since 6.198s ago] ()
INFO:     127.0.0.1:61978 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:18,286 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:18,287 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:18,287 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:18,287 INFO sqlalchemy.engine.Engine [cached since 6.202s ago] ()
2026-01-13 23:07:18,287 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:18,287 INFO sqlalchemy.engine.Engine [cached since 6.2s ago] ()
INFO:     127.0.0.1:61975 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:18,288 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:18,777 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:18,780 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:18,780 INFO sqlalchemy.engine.Engine [cached since 6.744s ago] (1,)
2026-01-13 23:07:18,781 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:18,782 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:18,782 INFO sqlalchemy.engine.Engine [cached since 6.748s ago] (1,)
2026-01-13 23:07:18,784 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:18,784 INFO sqlalchemy.engine.Engine [cached since 6.743s ago] (1,)
2026-01-13 23:07:18,784 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:07:18,785 INFO sqlalchemy.engine.Engine [cached since 6.743s ago] (1,)
INFO:     127.0.0.1:61975 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:07:18,787 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61978 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:07:18,790 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:18,791 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:18,792 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:18,792 INFO sqlalchemy.engine.Engine [cached since 6.756s ago] (1,)
2026-01-13 23:07:18,794 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:18,794 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:18,794 INFO sqlalchemy.engine.Engine [cached since 6.76s ago] (1,)
2026-01-13 23:07:18,797 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:18,797 INFO sqlalchemy.engine.Engine [cached since 6.756s ago] (1,)
2026-01-13 23:07:18,799 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:07:18,799 INFO sqlalchemy.engine.Engine [cached since 6.757s ago] (1,)
INFO:     127.0.0.1:61980 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:07:18,800 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61975 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:07:18,803 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:18,804 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:18,804 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:18,804 INFO sqlalchemy.engine.Engine [cached since 6.72s ago] ()
2026-01-13 23:07:18,805 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:18,805 INFO sqlalchemy.engine.Engine [cached since 6.719s ago] ()
INFO:     127.0.0.1:61980 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:18,806 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:18,807 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:18,808 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:18,808 INFO sqlalchemy.engine.Engine [cached since 6.723s ago] ()
2026-01-13 23:07:18,808 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:18,809 INFO sqlalchemy.engine.Engine [cached since 6.722s ago] ()
INFO:     127.0.0.1:61975 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:18,809 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:20,434 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:20,435 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:20,435 INFO sqlalchemy.engine.Engine [cached since 8.401s ago] (1,)
2026-01-13 23:07:20,438 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:07:20,438 INFO sqlalchemy.engine.Engine [generated in 0.00028s] (1,)
INFO:     127.0.0.1:61982 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:07:20,440 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:24,597 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:24,597 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:24,597 INFO sqlalchemy.engine.Engine [cached since 12.56s ago] (1,)
2026-01-13 23:07:24,600 INFO sqlalchemy.engine.Engine UPDATE notes SET content=?, updated_at=? WHERE notes.id = ?
2026-01-13 23:07:24,600 INFO sqlalchemy.engine.Engine [cached since 7.865s ago] ('# test\n\nStart writing here... abc def', '2026-01-14 04:07:24.600584', 1)
2026-01-13 23:07:24,602 INFO sqlalchemy.engine.Engine INSERT INTO revisions (note_id, author_id, content_snapshot, created_at) VALUES (?, ?, ?, ?)
2026-01-13 23:07:24,602 INFO sqlalchemy.engine.Engine [cached since 7.863s ago] (1, 1, '# test\n\nStart writing here... abc', '2026-01-14 04:07:24.602087')
2026-01-13 23:07:24,603 INFO sqlalchemy.engine.Engine DELETE FROM links WHERE links.source_note_id = ?
2026-01-13 23:07:24,603 INFO sqlalchemy.engine.Engine [cached since 7.862s ago] (1,)
2026-01-13 23:07:24,604 INFO sqlalchemy.engine.Engine DELETE FROM note_tags WHERE note_tags.note_id = ?
2026-01-13 23:07:24,604 INFO sqlalchemy.engine.Engine [cached since 7.862s ago] (1,)
2026-01-13 23:07:24,605 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:07:24,607 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:24,607 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:24,607 INFO sqlalchemy.engine.Engine [cached since 7.857s ago] (1,)
2026-01-13 23:07:24,608 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:24,608 INFO sqlalchemy.engine.Engine [cached since 12.57s ago] (1,)
2026-01-13 23:07:24,610 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:24,610 INFO sqlalchemy.engine.Engine [cached since 12.57s ago] (1,)
INFO:     127.0.0.1:61984 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:07:24,612 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:24,615 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:24,616 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:24,616 INFO sqlalchemy.engine.Engine [cached since 12.58s ago] (1,)
2026-01-13 23:07:24,617 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:07:24,617 INFO sqlalchemy.engine.Engine [cached since 12.58s ago] (1,)
INFO:     127.0.0.1:61984 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:07:24,618 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:25,418 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:25,419 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:25,419 INFO sqlalchemy.engine.Engine [cached since 13.38s ago] (2,)
2026-01-13 23:07:25,420 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:25,421 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:25,421 INFO sqlalchemy.engine.Engine [cached since 13.39s ago] (2,)
2026-01-13 23:07:25,422 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:25,422 INFO sqlalchemy.engine.Engine [cached since 13.38s ago] (2,)
2026-01-13 23:07:25,422 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:07:25,422 INFO sqlalchemy.engine.Engine [cached since 13.38s ago] (2,)
INFO:     127.0.0.1:61984 - "GET /api/notes/2 HTTP/1.1" 200 OK
2026-01-13 23:07:25,425 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:25,428 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:25,428 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:25,428 INFO sqlalchemy.engine.Engine [cached since 13.39s ago] (2,)
INFO:     127.0.0.1:61987 - "GET /api/notes/2/backlinks HTTP/1.1" 200 OK
2026-01-13 23:07:25,430 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:25,432 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:25,432 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:25,433 INFO sqlalchemy.engine.Engine [cached since 13.4s ago] (2,)
2026-01-13 23:07:25,434 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:25,435 INFO sqlalchemy.engine.Engine [cached since 13.39s ago] (2,)
2026-01-13 23:07:25,437 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:07:25,437 INFO sqlalchemy.engine.Engine [cached since 13.39s ago] (2,)
INFO:     127.0.0.1:61984 - "GET /api/notes/2 HTTP/1.1" 200 OK
2026-01-13 23:07:25,438 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61989 - "GET /api/notes/2/backlinks HTTP/1.1" 200 OK
2026-01-13 23:07:25,439 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:25,445 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:25,446 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:25,446 INFO sqlalchemy.engine.Engine [cached since 13.36s ago] ()
2026-01-13 23:07:25,447 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:25,447 INFO sqlalchemy.engine.Engine [cached since 13.36s ago] ()
INFO:     127.0.0.1:61989 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:25,448 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:25,449 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:25,449 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:25,449 INFO sqlalchemy.engine.Engine [cached since 13.36s ago] ()
2026-01-13 23:07:25,451 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:25,451 INFO sqlalchemy.engine.Engine [cached since 13.36s ago] ()
INFO:     127.0.0.1:61984 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:25,453 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:25,819 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:25,819 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:25,819 INFO sqlalchemy.engine.Engine [cached since 13.78s ago] (1,)
2026-01-13 23:07:25,820 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:25,821 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:25,821 INFO sqlalchemy.engine.Engine [cached since 13.79s ago] (1,)
2026-01-13 23:07:25,823 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:25,823 INFO sqlalchemy.engine.Engine [cached since 13.78s ago] (1,)
2026-01-13 23:07:25,823 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:07:25,823 INFO sqlalchemy.engine.Engine [cached since 13.78s ago] (1,)
INFO:     127.0.0.1:61984 - "GET /api/notes/1 HTTP/1.1" 200 OK
INFO:     127.0.0.1:61989 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:07:25,825 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:25,825 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:25,826 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:25,826 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:25,826 INFO sqlalchemy.engine.Engine [cached since 13.79s ago] (1,)
2026-01-13 23:07:25,828 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:25,828 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:25,828 INFO sqlalchemy.engine.Engine [cached since 13.79s ago] (1,)
2026-01-13 23:07:25,830 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:25,830 INFO sqlalchemy.engine.Engine [cached since 13.79s ago] (1,)
2026-01-13 23:07:25,832 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:07:25,832 INFO sqlalchemy.engine.Engine [cached since 13.79s ago] (1,)
INFO:     127.0.0.1:61987 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:07:25,834 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61991 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:07:25,836 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:25,838 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:25,838 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:25,838 INFO sqlalchemy.engine.Engine [cached since 13.75s ago] ()
2026-01-13 23:07:25,840 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:25,840 INFO sqlalchemy.engine.Engine [cached since 13.75s ago] ()
INFO:     127.0.0.1:61991 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:25,842 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:25,844 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:25,844 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:25,844 INFO sqlalchemy.engine.Engine [cached since 13.76s ago] ()
2026-01-13 23:07:25,846 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:25,846 INFO sqlalchemy.engine.Engine [cached since 13.76s ago] ()
INFO:     127.0.0.1:61987 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:25,847 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:27,552 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:27,554 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:27,554 INFO sqlalchemy.engine.Engine [cached since 15.52s ago] (1,)
2026-01-13 23:07:27,557 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:07:27,557 INFO sqlalchemy.engine.Engine [cached since 7.12s ago] (1,)
INFO:     127.0.0.1:61987 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:07:27,559 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:31,951 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:31,953 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:31,953 INFO sqlalchemy.engine.Engine [cached since 19.92s ago] (1,)
2026-01-13 23:07:31,955 INFO sqlalchemy.engine.Engine UPDATE notes SET content=?, updated_at=? WHERE notes.id = ?
2026-01-13 23:07:31,955 INFO sqlalchemy.engine.Engine [cached since 15.22s ago] ('# test\n\nStart writing here...', '2026-01-14 04:07:31.955342', 1)
2026-01-13 23:07:31,956 INFO sqlalchemy.engine.Engine INSERT INTO revisions (note_id, author_id, content_snapshot, created_at) VALUES (?, ?, ?, ?)
2026-01-13 23:07:31,956 INFO sqlalchemy.engine.Engine [cached since 15.22s ago] (1, 1, '# test\n\nStart writing here... abc def', '2026-01-14 04:07:31.955993')
2026-01-13 23:07:31,956 INFO sqlalchemy.engine.Engine DELETE FROM links WHERE links.source_note_id = ?
2026-01-13 23:07:31,956 INFO sqlalchemy.engine.Engine [cached since 15.22s ago] (1,)
2026-01-13 23:07:31,957 INFO sqlalchemy.engine.Engine DELETE FROM note_tags WHERE note_tags.note_id = ?
2026-01-13 23:07:31,957 INFO sqlalchemy.engine.Engine [cached since 15.21s ago] (1,)
2026-01-13 23:07:31,957 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:07:31,958 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:31,958 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:31,958 INFO sqlalchemy.engine.Engine [cached since 15.21s ago] (1,)
2026-01-13 23:07:31,959 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:31,959 INFO sqlalchemy.engine.Engine [cached since 19.92s ago] (1,)
2026-01-13 23:07:31,959 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:31,959 INFO sqlalchemy.engine.Engine [cached since 19.92s ago] (1,)
INFO:     127.0.0.1:61994 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:07:31,961 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:31,971 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:31,971 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:31,971 INFO sqlalchemy.engine.Engine [cached since 19.89s ago] ()
2026-01-13 23:07:31,972 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:31,972 INFO sqlalchemy.engine.Engine [cached since 19.89s ago] ()
INFO:     127.0.0.1:61994 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:31,973 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:31,989 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:31,989 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:31,989 INFO sqlalchemy.engine.Engine [cached since 19.91s ago] ()
2026-01-13 23:07:31,990 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:31,990 INFO sqlalchemy.engine.Engine [cached since 19.9s ago] ()
INFO:     127.0.0.1:61994 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:31,991 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:35,061 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:35,061 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:35,061 INFO sqlalchemy.engine.Engine [cached since 23.03s ago] (2,)
2026-01-13 23:07:35,065 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:35,066 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:35,066 INFO sqlalchemy.engine.Engine [cached since 23.03s ago] (2,)
2026-01-13 23:07:35,069 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:07:35,069 INFO sqlalchemy.engine.Engine [cached since 23.03s ago] (2,)
2026-01-13 23:07:35,070 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:35,070 INFO sqlalchemy.engine.Engine [cached since 23.03s ago] (2,)
INFO:     127.0.0.1:62001 - "GET /api/notes/2/backlinks HTTP/1.1" 200 OK
2026-01-13 23:07:35,072 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61999 - "GET /api/notes/2 HTTP/1.1" 200 OK
2026-01-13 23:07:35,088 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:35,088 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:35,089 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:35,089 INFO sqlalchemy.engine.Engine [cached since 23.05s ago] (2,)
2026-01-13 23:07:35,089 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:35,089 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:35,089 INFO sqlalchemy.engine.Engine [cached since 23.06s ago] (2,)
2026-01-13 23:07:35,090 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:35,090 INFO sqlalchemy.engine.Engine [cached since 23.05s ago] (2,)
2026-01-13 23:07:35,091 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:07:35,091 INFO sqlalchemy.engine.Engine [cached since 23.05s ago] (2,)
INFO:     127.0.0.1:62001 - "GET /api/notes/2 HTTP/1.1" 200 OK
2026-01-13 23:07:35,092 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62003 - "GET /api/notes/2/backlinks HTTP/1.1" 200 OK
2026-01-13 23:07:35,093 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:35,110 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:35,110 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:35,110 INFO sqlalchemy.engine.Engine [cached since 23.03s ago] ()
2026-01-13 23:07:35,111 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:35,111 INFO sqlalchemy.engine.Engine [cached since 23.02s ago] ()
INFO:     127.0.0.1:62003 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:35,111 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:35,112 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:35,112 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:35,112 INFO sqlalchemy.engine.Engine [cached since 23.03s ago] ()
2026-01-13 23:07:35,114 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:35,114 INFO sqlalchemy.engine.Engine [cached since 23.03s ago] ()
INFO:     127.0.0.1:62001 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:35,115 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:35,411 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:35,412 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:35,412 INFO sqlalchemy.engine.Engine [cached since 23.38s ago] (1,)
2026-01-13 23:07:35,414 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:35,414 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:35,414 INFO sqlalchemy.engine.Engine [cached since 23.38s ago] (1,)
2026-01-13 23:07:35,415 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:35,415 INFO sqlalchemy.engine.Engine [cached since 23.37s ago] (1,)
2026-01-13 23:07:35,415 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:07:35,415 INFO sqlalchemy.engine.Engine [cached since 23.37s ago] (1,)
INFO:     127.0.0.1:62001 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:07:35,417 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62003 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:07:35,420 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:35,420 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:35,420 INFO sqlalchemy.engine.Engine [cached since 23.38s ago] (1,)
2026-01-13 23:07:35,421 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:35,423 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:35,424 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:35,424 INFO sqlalchemy.engine.Engine [cached since 23.39s ago] (1,)
2026-01-13 23:07:35,436 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:07:35,437 INFO sqlalchemy.engine.Engine [cached since 23.39s ago] (1,)
2026-01-13 23:07:35,438 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:35,438 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:35,438 INFO sqlalchemy.engine.Engine [cached since 23.35s ago] ()
2026-01-13 23:07:35,440 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:35,441 INFO sqlalchemy.engine.Engine [cached since 23.4s ago] (1,)
INFO:     127.0.0.1:62001 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:07:35,442 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:35,443 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:35,443 INFO sqlalchemy.engine.Engine [cached since 23.36s ago] ()
INFO:     127.0.0.1:61999 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:07:35,445 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62003 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:35,446 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:35,447 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:35,447 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:35,447 INFO sqlalchemy.engine.Engine [cached since 23.36s ago] ()
2026-01-13 23:07:35,449 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:35,449 INFO sqlalchemy.engine.Engine [cached since 23.36s ago] ()
INFO:     127.0.0.1:61999 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:35,451 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:38,417 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:38,418 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:38,418 INFO sqlalchemy.engine.Engine [cached since 26.38s ago] (1,)
2026-01-13 23:07:38,420 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:07:38,420 INFO sqlalchemy.engine.Engine [cached since 17.98s ago] (1,)
INFO:     127.0.0.1:61999 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:07:38,423 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:46,408 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:46,413 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:46,413 INFO sqlalchemy.engine.Engine [cached since 34.38s ago] (1,)
2026-01-13 23:07:46,416 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:07:46,417 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:46,418 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:46,418 INFO sqlalchemy.engine.Engine [cached since 29.67s ago] (1,)
2026-01-13 23:07:46,420 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:46,420 INFO sqlalchemy.engine.Engine [cached since 34.38s ago] (1,)
2026-01-13 23:07:46,421 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:46,421 INFO sqlalchemy.engine.Engine [cached since 34.38s ago] (1,)
INFO:     127.0.0.1:62008 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:07:46,423 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:46,442 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:46,442 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:46,442 INFO sqlalchemy.engine.Engine [cached since 34.36s ago] ()
2026-01-13 23:07:46,443 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:46,444 INFO sqlalchemy.engine.Engine [cached since 34.36s ago] ()
INFO:     127.0.0.1:62008 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:46,445 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:46,447 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:46,448 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:46,448 INFO sqlalchemy.engine.Engine [cached since 34.36s ago] ()
2026-01-13 23:07:46,449 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:46,449 INFO sqlalchemy.engine.Engine [cached since 34.36s ago] ()
INFO:     127.0.0.1:62008 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:46,450 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:48,404 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:48,404 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:48,404 INFO sqlalchemy.engine.Engine [cached since 36.37s ago] (1,)
2026-01-13 23:07:48,406 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:07:48,406 INFO sqlalchemy.engine.Engine [cached since 27.97s ago] (1,)
INFO:     127.0.0.1:62008 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:07:48,408 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:50,525 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:50,525 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:50,525 INFO sqlalchemy.engine.Engine [cached since 38.49s ago] (1,)
2026-01-13 23:07:50,527 INFO sqlalchemy.engine.Engine UPDATE notes SET content=?, updated_at=? WHERE notes.id = ?
2026-01-13 23:07:50,527 INFO sqlalchemy.engine.Engine [cached since 33.79s ago] ('# test\n\nStart writing here... abc', '2026-01-14 04:07:50.527797', 1)
2026-01-13 23:07:50,528 INFO sqlalchemy.engine.Engine INSERT INTO revisions (note_id, author_id, content_snapshot, created_at) VALUES (?, ?, ?, ?)
2026-01-13 23:07:50,528 INFO sqlalchemy.engine.Engine [cached since 33.79s ago] (1, 1, '# test\n\nStart writing here...', '2026-01-14 04:07:50.528630')
2026-01-13 23:07:50,530 INFO sqlalchemy.engine.Engine DELETE FROM links WHERE links.source_note_id = ?
2026-01-13 23:07:50,530 INFO sqlalchemy.engine.Engine [cached since 33.79s ago] (1,)
2026-01-13 23:07:50,531 INFO sqlalchemy.engine.Engine DELETE FROM note_tags WHERE note_tags.note_id = ?
2026-01-13 23:07:50,531 INFO sqlalchemy.engine.Engine [cached since 33.79s ago] (1,)
2026-01-13 23:07:50,535 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:07:50,536 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:50,537 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:50,537 INFO sqlalchemy.engine.Engine [cached since 33.79s ago] (1,)
2026-01-13 23:07:50,538 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:50,538 INFO sqlalchemy.engine.Engine [cached since 38.5s ago] (1,)
2026-01-13 23:07:50,539 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:50,539 INFO sqlalchemy.engine.Engine [cached since 38.5s ago] (1,)
INFO:     127.0.0.1:62012 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:07:50,540 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:50,563 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:50,563 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:50,563 INFO sqlalchemy.engine.Engine [cached since 38.48s ago] ()
2026-01-13 23:07:50,564 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:50,564 INFO sqlalchemy.engine.Engine [cached since 38.48s ago] ()
INFO:     127.0.0.1:62012 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:50,565 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:50,567 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:50,568 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:50,568 INFO sqlalchemy.engine.Engine [cached since 38.48s ago] ()
2026-01-13 23:07:50,568 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:50,568 INFO sqlalchemy.engine.Engine [cached since 38.48s ago] ()
INFO:     127.0.0.1:62012 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:50,569 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:52,086 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:52,086 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:52,086 INFO sqlalchemy.engine.Engine [cached since 40.05s ago] (1,)
2026-01-13 23:07:52,088 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:07:52,088 INFO sqlalchemy.engine.Engine [cached since 31.65s ago] (1,)
INFO:     127.0.0.1:62012 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:07:52,090 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:53,786 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:53,787 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:53,788 INFO sqlalchemy.engine.Engine [cached since 41.75s ago] (1,)
2026-01-13 23:07:53,791 INFO sqlalchemy.engine.Engine UPDATE notes SET content=?, updated_at=? WHERE notes.id = ?
2026-01-13 23:07:53,792 INFO sqlalchemy.engine.Engine [cached since 37.06s ago] ('# test\n\nStart writing here...', '2026-01-14 04:07:53.791497', 1)
2026-01-13 23:07:53,794 INFO sqlalchemy.engine.Engine INSERT INTO revisions (note_id, author_id, content_snapshot, created_at) VALUES (?, ?, ?, ?)
2026-01-13 23:07:53,794 INFO sqlalchemy.engine.Engine [cached since 37.06s ago] (1, 1, '# test\n\nStart writing here... abc', '2026-01-14 04:07:53.793979')
2026-01-13 23:07:53,794 INFO sqlalchemy.engine.Engine DELETE FROM links WHERE links.source_note_id = ?
2026-01-13 23:07:53,795 INFO sqlalchemy.engine.Engine [cached since 37.05s ago] (1,)
2026-01-13 23:07:53,795 INFO sqlalchemy.engine.Engine DELETE FROM note_tags WHERE note_tags.note_id = ?
2026-01-13 23:07:53,795 INFO sqlalchemy.engine.Engine [cached since 37.05s ago] (1,)
2026-01-13 23:07:53,796 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:07:53,797 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:53,798 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:53,798 INFO sqlalchemy.engine.Engine [cached since 37.05s ago] (1,)
2026-01-13 23:07:53,799 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:53,799 INFO sqlalchemy.engine.Engine [cached since 41.76s ago] (1,)
2026-01-13 23:07:53,800 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:53,800 INFO sqlalchemy.engine.Engine [cached since 41.76s ago] (1,)
INFO:     127.0.0.1:62012 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:07:53,802 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:53,819 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:53,819 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:53,819 INFO sqlalchemy.engine.Engine [cached since 41.74s ago] ()
2026-01-13 23:07:53,820 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:53,820 INFO sqlalchemy.engine.Engine [cached since 41.73s ago] ()
INFO:     127.0.0.1:62012 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:53,821 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:53,823 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:53,823 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:53,823 INFO sqlalchemy.engine.Engine [cached since 41.74s ago] ()
2026-01-13 23:07:53,824 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:53,824 INFO sqlalchemy.engine.Engine [cached since 41.74s ago] ()
INFO:     127.0.0.1:62014 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:53,825 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:55,273 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:55,274 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:55,274 INFO sqlalchemy.engine.Engine [cached since 43.24s ago] (1,)
2026-01-13 23:07:55,275 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:07:55,275 INFO sqlalchemy.engine.Engine [cached since 34.84s ago] (1,)
INFO:     127.0.0.1:62017 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:07:55,276 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:57,056 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:57,056 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:57,056 INFO sqlalchemy.engine.Engine [cached since 45.02s ago] (1,)
2026-01-13 23:07:57,059 INFO sqlalchemy.engine.Engine UPDATE notes SET content=?, updated_at=? WHERE notes.id = ?
2026-01-13 23:07:57,059 INFO sqlalchemy.engine.Engine [cached since 40.32s ago] ('# test\n\nStart writing here... abc def', '2026-01-14 04:07:57.059254', 1)
2026-01-13 23:07:57,063 INFO sqlalchemy.engine.Engine INSERT INTO revisions (note_id, author_id, content_snapshot, created_at) VALUES (?, ?, ?, ?)
2026-01-13 23:07:57,063 INFO sqlalchemy.engine.Engine [cached since 40.33s ago] (1, 1, '# test\n\nStart writing here...', '2026-01-14 04:07:57.063221')
2026-01-13 23:07:57,065 INFO sqlalchemy.engine.Engine DELETE FROM links WHERE links.source_note_id = ?
2026-01-13 23:07:57,065 INFO sqlalchemy.engine.Engine [cached since 40.33s ago] (1,)
2026-01-13 23:07:57,066 INFO sqlalchemy.engine.Engine DELETE FROM note_tags WHERE note_tags.note_id = ?
2026-01-13 23:07:57,066 INFO sqlalchemy.engine.Engine [cached since 40.32s ago] (1,)
2026-01-13 23:07:57,067 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:07:57,069 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:57,069 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:57,069 INFO sqlalchemy.engine.Engine [cached since 40.32s ago] (1,)
2026-01-13 23:07:57,071 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:07:57,071 INFO sqlalchemy.engine.Engine [cached since 45.04s ago] (1,)
2026-01-13 23:07:57,072 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:07:57,073 INFO sqlalchemy.engine.Engine [cached since 45.03s ago] (1,)
INFO:     127.0.0.1:62017 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:07:57,074 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:57,098 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:57,098 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:57,098 INFO sqlalchemy.engine.Engine [cached since 45.01s ago] ()
2026-01-13 23:07:57,099 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:57,099 INFO sqlalchemy.engine.Engine [cached since 45.01s ago] ()
INFO:     127.0.0.1:62017 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:57,100 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:07:57,101 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:07:57,102 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:07:57,102 INFO sqlalchemy.engine.Engine [cached since 45.02s ago] ()
2026-01-13 23:07:57,102 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:07:57,102 INFO sqlalchemy.engine.Engine [cached since 45.02s ago] ()
INFO:     127.0.0.1:62017 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:07:57,103 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:08:08,646 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:08:08,648 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:08:08,648 INFO sqlalchemy.engine.Engine [cached since 56.61s ago] (1,)
2026-01-13 23:08:08,649 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:08:08,649 INFO sqlalchemy.engine.Engine [cached since 48.21s ago] (1,)
INFO:     127.0.0.1:62027 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:08:08,650 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  StatReload detected changes in 'app/routers/notes.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [69922]
INFO:     Started server process [70033]
INFO:     Waiting for application startup.
2026-01-13 23:08:17,781 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:08:17,781 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:08:17,781 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:08:17,781 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notes")
2026-01-13 23:08:17,781 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:08:17,781 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("links")
2026-01-13 23:08:17,782 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:08:17,782 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("revisions")
2026-01-13 23:08:17,782 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:08:17,782 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("tags")
2026-01-13 23:08:17,782 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:08:17,782 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("note_tags")
2026-01-13 23:08:17,782 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:08:17,783 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/routers/notes.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70033]
INFO:     Started server process [70039]
INFO:     Waiting for application startup.
2026-01-13 23:09:41,661 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:09:41,661 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:09:41,661 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:09:41,661 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notes")
2026-01-13 23:09:41,661 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:09:41,661 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("links")
2026-01-13 23:09:41,661 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:09:41,662 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("revisions")
2026-01-13 23:09:41,662 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:09:41,662 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("tags")
2026-01-13 23:09:41,662 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:09:41,662 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("note_tags")
2026-01-13 23:09:41,662 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:09:41,662 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     127.0.0.1:62062 - "GET /api/notes/search HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:62063 - "GET /api/notes/search/backlinks HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:62065 - "GET /api/notes/search HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:62062 - "GET /api/notes/search/backlinks HTTP/1.1" 422 Unprocessable Entity
2026-01-13 23:09:58,929 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:09:58,954 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:09:58,954 INFO sqlalchemy.engine.Engine [generated in 0.00023s] ()
2026-01-13 23:09:58,956 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:09:58,959 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:09:58,959 INFO sqlalchemy.engine.Engine [generated in 0.00027s] (100, 0)
2026-01-13 23:09:58,960 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:09:58,960 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:09:58,960 INFO sqlalchemy.engine.Engine [generated in 0.00007s] (5, 0)
2026-01-13 23:09:58,961 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:09:58,961 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ()
INFO:     127.0.0.1:62062 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:09:58,962 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:09:58,965 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:09:58,965 INFO sqlalchemy.engine.Engine [generated in 0.00018s] (1, 4, 5, 3, 2)
2026-01-13 23:09:58,966 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:09:58,966 INFO sqlalchemy.engine.Engine [cached since 0.001031s ago] (2,)
2026-01-13 23:09:58,966 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:09:58,966 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:09:58,966 INFO sqlalchemy.engine.Engine [cached since 0.01289s ago] ()
2026-01-13 23:09:58,967 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:09:58,967 INFO sqlalchemy.engine.Engine [cached since 0.006046s ago] ()
INFO:     127.0.0.1:62063 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
INFO:     127.0.0.1:62065 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
2026-01-13 23:09:58,969 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:09:58,969 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62067 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:09:58,971 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:09:58,973 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:09:58,973 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:09:58,973 INFO sqlalchemy.engine.Engine [cached since 0.01332s ago] (5, 0)
2026-01-13 23:09:58,974 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:09:58,974 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:09:58,974 INFO sqlalchemy.engine.Engine [cached since 0.01467s ago] (100, 0)
2026-01-13 23:09:58,975 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:09:58,975 INFO sqlalchemy.engine.Engine [cached since 0.01032s ago] (1, 4, 5, 3, 2)
2026-01-13 23:09:58,976 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:09:58,976 INFO sqlalchemy.engine.Engine [cached since 0.01108s ago] (2,)
INFO:     127.0.0.1:62063 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
2026-01-13 23:09:58,979 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62062 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:09:58,980 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:09:59,870 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:09:59,870 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:09:59,871 INFO sqlalchemy.engine.Engine [cached since 0.917s ago] ()
2026-01-13 23:09:59,876 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:09:59,877 INFO sqlalchemy.engine.Engine [cached since 0.9153s ago] ()
INFO:     127.0.0.1:62074 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:09:59,881 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:09:59,883 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:09:59,884 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:09:59,884 INFO sqlalchemy.engine.Engine [cached since 0.931s ago] ()
2026-01-13 23:09:59,887 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:09:59,887 INFO sqlalchemy.engine.Engine [cached since 0.926s ago] ()
INFO:     127.0.0.1:62076 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:09:59,888 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:10:01,487 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:10:01,487 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:10:01,487 INFO sqlalchemy.engine.Engine [cached since 2.534s ago] ()
2026-01-13 23:10:01,488 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:10:01,488 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:10:01,489 INFO sqlalchemy.engine.Engine [cached since 2.528s ago] (5, 0)
2026-01-13 23:10:01,490 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:10:01,490 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:10:01,490 INFO sqlalchemy.engine.Engine [cached since 2.531s ago] (100, 0)
2026-01-13 23:10:01,493 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:10:01,494 INFO sqlalchemy.engine.Engine [cached since 2.533s ago] ()
2026-01-13 23:10:01,495 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:10:01,495 INFO sqlalchemy.engine.Engine [cached since 2.53s ago] (1, 4, 5, 3, 2)
2026-01-13 23:10:01,496 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:10:01,496 INFO sqlalchemy.engine.Engine [cached since 2.531s ago] (2,)
INFO:     127.0.0.1:62076 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:10:01,497 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62074 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
2026-01-13 23:10:01,498 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62078 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:10:01,498 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:10:01,499 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:10:01,500 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:10:01,500 INFO sqlalchemy.engine.Engine [cached since 2.546s ago] ()
2026-01-13 23:10:01,500 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:10:01,501 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:10:01,501 INFO sqlalchemy.engine.Engine [cached since 2.541s ago] (5, 0)
2026-01-13 23:10:01,501 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:10:01,502 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:10:01,502 INFO sqlalchemy.engine.Engine [cached since 2.543s ago] (100, 0)
2026-01-13 23:10:01,502 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:10:01,502 INFO sqlalchemy.engine.Engine [cached since 2.542s ago] ()
2026-01-13 23:10:01,503 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:10:01,503 INFO sqlalchemy.engine.Engine [cached since 2.538s ago] (1, 4, 5, 3, 2)
2026-01-13 23:10:01,504 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:10:01,505 INFO sqlalchemy.engine.Engine [cached since 2.54s ago] (2,)
INFO:     127.0.0.1:62080 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:10:01,505 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62082 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
2026-01-13 23:10:01,508 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62084 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:10:01,509 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  StatReload detected changes in 'app/routers/notes.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70039]
INFO:     Started server process [70139]
INFO:     Waiting for application startup.
2026-01-13 23:10:27,242 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:10:27,242 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:10:27,242 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:10:27,242 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notes")
2026-01-13 23:10:27,242 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:10:27,242 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("links")
2026-01-13 23:10:27,242 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:10:27,243 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("revisions")
2026-01-13 23:10:27,243 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:10:27,243 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("tags")
2026-01-13 23:10:27,243 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:10:27,243 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("note_tags")
2026-01-13 23:10:27,243 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:10:27,243 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2026-01-13 23:11:08,859 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:08,882 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:11:08,882 INFO sqlalchemy.engine.Engine [generated in 0.00021s] ()
2026-01-13 23:11:08,886 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:08,887 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:08,887 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ()
2026-01-13 23:11:08,887 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:08,889 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:11:08,889 INFO sqlalchemy.engine.Engine [generated in 0.00007s] (5, 0)
2026-01-13 23:11:08,889 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:08,889 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:11:08,889 INFO sqlalchemy.engine.Engine [generated in 0.00006s] (100, 0)
2026-01-13 23:11:08,889 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:08,890 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:11:08,890 INFO sqlalchemy.engine.Engine [cached since 0.001016s ago] (100, 0)
INFO:     127.0.0.1:62125 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:11:08,891 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:08,895 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:11:08,895 INFO sqlalchemy.engine.Engine [generated in 0.00016s] (1, 4, 5, 3, 2)
2026-01-13 23:11:08,896 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:08,896 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ()
2026-01-13 23:11:08,896 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:11:08,896 INFO sqlalchemy.engine.Engine [cached since 0.001195s ago] (2,)
2026-01-13 23:11:08,897 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:11:08,897 INFO sqlalchemy.engine.Engine [cached since 0.001718s ago] (1, 4, 5, 3, 2)
INFO:     127.0.0.1:62131 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
2026-01-13 23:11:08,900 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62129 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:08,900 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62133 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62132 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:11:08,902 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:08,902 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:08,912 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:08,913 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:11:08,913 INFO sqlalchemy.engine.Engine [cached since 0.03102s ago] ()
INFO:     127.0.0.1:62132 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:11:08,914 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:10,529 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:10,530 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:10,530 INFO sqlalchemy.engine.Engine [generated in 0.00012s] (4,)
2026-01-13 23:11:10,531 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:10,533 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:10,537 INFO sqlalchemy.engine.Engine [generated in 0.00058s] (4,)
2026-01-13 23:11:10,545 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:11:10,547 INFO sqlalchemy.engine.Engine [cached since 1.651s ago] (4,)
2026-01-13 23:11:10,548 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:11:10,549 INFO sqlalchemy.engine.Engine [generated in 0.00053s] (4,)
INFO:     127.0.0.1:62143 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:11:10,551 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62142 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:11:10,552 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:10,554 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:10,554 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:10,555 INFO sqlalchemy.engine.Engine [cached since 0.02166s ago] (4,)
2026-01-13 23:11:10,556 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:10,556 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:10,557 INFO sqlalchemy.engine.Engine [cached since 0.02666s ago] (4,)
2026-01-13 23:11:10,558 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:11:10,558 INFO sqlalchemy.engine.Engine [cached since 0.01026s ago] (4,)
2026-01-13 23:11:10,562 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:11:10,564 INFO sqlalchemy.engine.Engine [cached since 1.668s ago] (4,)
INFO:     127.0.0.1:62143 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:11:10,568 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62145 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:11:10,570 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:10,578 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:10,579 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:10,579 INFO sqlalchemy.engine.Engine [cached since 1.692s ago] ()
2026-01-13 23:11:10,580 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:10,581 INFO sqlalchemy.engine.Engine [cached since 1.685s ago] ()
INFO:     127.0.0.1:62145 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:10,583 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:10,583 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:10,584 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:10,584 INFO sqlalchemy.engine.Engine [cached since 1.697s ago] ()
2026-01-13 23:11:10,584 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:10,585 INFO sqlalchemy.engine.Engine [cached since 1.689s ago] ()
INFO:     127.0.0.1:62143 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:10,587 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:11,133 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:11,135 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:11,135 INFO sqlalchemy.engine.Engine [cached since 0.6053s ago] (2,)
2026-01-13 23:11:11,137 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:11,137 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:11,137 INFO sqlalchemy.engine.Engine [cached since 0.6044s ago] (2,)
2026-01-13 23:11:11,139 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:11:11,139 INFO sqlalchemy.engine.Engine [cached since 0.5915s ago] (2,)
2026-01-13 23:11:11,140 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:11:11,140 INFO sqlalchemy.engine.Engine [cached since 2.245s ago] (2,)
INFO:     127.0.0.1:62145 - "GET /api/notes/2/backlinks HTTP/1.1" 200 OK
2026-01-13 23:11:11,142 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62143 - "GET /api/notes/2 HTTP/1.1" 200 OK
2026-01-13 23:11:11,143 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:11,145 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:11,145 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:11,145 INFO sqlalchemy.engine.Engine [cached since 0.6123s ago] (2,)
2026-01-13 23:11:11,148 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:11,148 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:11,148 INFO sqlalchemy.engine.Engine [cached since 0.618s ago] (2,)
2026-01-13 23:11:11,150 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:11:11,150 INFO sqlalchemy.engine.Engine [cached since 0.6016s ago] (2,)
2026-01-13 23:11:11,151 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:11:11,152 INFO sqlalchemy.engine.Engine [cached since 2.257s ago] (2,)
INFO:     127.0.0.1:62142 - "GET /api/notes/2/backlinks HTTP/1.1" 200 OK
2026-01-13 23:11:11,153 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62143 - "GET /api/notes/2 HTTP/1.1" 200 OK
2026-01-13 23:11:11,155 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:11,160 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:11,161 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:11,161 INFO sqlalchemy.engine.Engine [cached since 2.274s ago] ()
2026-01-13 23:11:11,162 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:11,162 INFO sqlalchemy.engine.Engine [cached since 2.267s ago] ()
INFO:     127.0.0.1:62143 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:11,164 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:11,166 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:11,167 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:11,167 INFO sqlalchemy.engine.Engine [cached since 2.28s ago] ()
2026-01-13 23:11:11,169 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:11,169 INFO sqlalchemy.engine.Engine [cached since 2.274s ago] ()
INFO:     127.0.0.1:62142 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:11,175 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:11,764 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:11,765 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:11,765 INFO sqlalchemy.engine.Engine [cached since 1.235s ago] (1,)
2026-01-13 23:11:11,767 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:11,767 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:11,767 INFO sqlalchemy.engine.Engine [cached since 1.234s ago] (1,)
2026-01-13 23:11:11,770 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:11:11,771 INFO sqlalchemy.engine.Engine [cached since 2.876s ago] (1,)
2026-01-13 23:11:11,771 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:11:11,771 INFO sqlalchemy.engine.Engine [cached since 1.224s ago] (1,)
INFO:     127.0.0.1:62142 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:11:11,773 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:11,775 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:11,775 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:11,775 INFO sqlalchemy.engine.Engine [cached since 1.245s ago] (1,)
INFO:     127.0.0.1:62143 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:11:11,777 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:11,778 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:11,778 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:11,778 INFO sqlalchemy.engine.Engine [cached since 1.245s ago] (1,)
2026-01-13 23:11:11,779 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:11:11,779 INFO sqlalchemy.engine.Engine [cached since 2.884s ago] (1,)
2026-01-13 23:11:11,780 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:11:11,780 INFO sqlalchemy.engine.Engine [cached since 1.232s ago] (1,)
INFO:     127.0.0.1:62145 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:11:11,781 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62142 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:11:11,782 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:11,802 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:11,811 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:11,812 INFO sqlalchemy.engine.Engine [cached since 2.925s ago] ()
2026-01-13 23:11:11,813 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:11,814 INFO sqlalchemy.engine.Engine [cached since 2.918s ago] ()
INFO:     127.0.0.1:62142 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:11,815 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:11,816 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:11,816 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:11,816 INFO sqlalchemy.engine.Engine [cached since 2.929s ago] ()
2026-01-13 23:11:11,817 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:11,817 INFO sqlalchemy.engine.Engine [cached since 2.921s ago] ()
INFO:     127.0.0.1:62145 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:11,817 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:13,471 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:13,472 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:13,472 INFO sqlalchemy.engine.Engine [cached since 2.939s ago] (1,)
2026-01-13 23:11:13,475 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:11:13,475 INFO sqlalchemy.engine.Engine [generated in 0.00034s] (1,)
INFO:     127.0.0.1:62145 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:11:13,478 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:16,909 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:16,912 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:16,912 INFO sqlalchemy.engine.Engine [cached since 6.379s ago] (1,)
DEBUG: Updating note 1. Old Content: # test

Start writin... New Content: # test

Start writin...
2026-01-13 23:11:16,922 INFO sqlalchemy.engine.Engine INSERT INTO revisions (note_id, author_id, content_snapshot, created_at) VALUES (?, ?, ?, ?)
2026-01-13 23:11:16,923 INFO sqlalchemy.engine.Engine [generated in 0.00098s] (1, 1, '# test\n\nStart writing here... abc def', '2026-01-14 04:11:16.922804')
2026-01-13 23:11:16,925 INFO sqlalchemy.engine.Engine SELECT revisions.id 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:11:16,925 INFO sqlalchemy.engine.Engine [generated in 0.00020s] (1, -1, 9)
2026-01-13 23:11:16,928 INFO sqlalchemy.engine.Engine UPDATE notes SET content=?, updated_at=? WHERE notes.id = ?
2026-01-13 23:11:16,928 INFO sqlalchemy.engine.Engine [generated in 0.00027s] ('# test\n\nStart writing here...', '2026-01-14 04:11:16.928642', 1)
2026-01-13 23:11:16,930 INFO sqlalchemy.engine.Engine DELETE FROM links WHERE links.source_note_id = ?
2026-01-13 23:11:16,930 INFO sqlalchemy.engine.Engine [generated in 0.00012s] (1,)
2026-01-13 23:11:16,931 INFO sqlalchemy.engine.Engine DELETE FROM note_tags WHERE note_tags.note_id = ?
2026-01-13 23:11:16,931 INFO sqlalchemy.engine.Engine [generated in 0.00010s] (1,)
2026-01-13 23:11:16,932 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:11:16,933 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:16,934 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:16,934 INFO sqlalchemy.engine.Engine [generated in 0.00018s] (1,)
DEBUG: Saved note 1. Content after refresh: # test

Start writin...
2026-01-13 23:11:16,936 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:16,937 INFO sqlalchemy.engine.Engine [cached since 6.407s ago] (1,)
2026-01-13 23:11:16,938 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:11:16,938 INFO sqlalchemy.engine.Engine [cached since 8.043s ago] (1,)
INFO:     127.0.0.1:62149 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:11:16,940 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:16,956 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:16,957 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:16,957 INFO sqlalchemy.engine.Engine [cached since 8.07s ago] ()
2026-01-13 23:11:16,957 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:16,957 INFO sqlalchemy.engine.Engine [cached since 8.062s ago] ()
INFO:     127.0.0.1:62149 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:16,959 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:16,968 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:16,969 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:16,969 INFO sqlalchemy.engine.Engine [cached since 8.082s ago] ()
2026-01-13 23:11:16,970 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:16,970 INFO sqlalchemy.engine.Engine [cached since 8.074s ago] ()
INFO:     127.0.0.1:62149 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:16,971 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:20,875 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:20,876 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:20,876 INFO sqlalchemy.engine.Engine [cached since 10.34s ago] (1,)
2026-01-13 23:11:20,877 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:11:20,877 INFO sqlalchemy.engine.Engine [cached since 7.403s ago] (1,)
INFO:     127.0.0.1:62154 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:11:20,879 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:24,040 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:24,041 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:24,041 INFO sqlalchemy.engine.Engine [cached since 13.51s ago] (1,)
DEBUG: Updating note 1. Old Content: # test

Start writin... New Content: # test

Start writin...
2026-01-13 23:11:24,043 INFO sqlalchemy.engine.Engine INSERT INTO revisions (note_id, author_id, content_snapshot, created_at) VALUES (?, ?, ?, ?)
2026-01-13 23:11:24,043 INFO sqlalchemy.engine.Engine [cached since 7.121s ago] (1, 1, '# test\n\nStart writing here...', '2026-01-14 04:11:24.043243')
2026-01-13 23:11:24,044 INFO sqlalchemy.engine.Engine SELECT revisions.id 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:11:24,044 INFO sqlalchemy.engine.Engine [cached since 7.12s ago] (1, -1, 9)
2026-01-13 23:11:24,046 INFO sqlalchemy.engine.Engine UPDATE notes SET content=?, updated_at=? WHERE notes.id = ?
2026-01-13 23:11:24,046 INFO sqlalchemy.engine.Engine [cached since 7.118s ago] ('# test\n\nStart writing here... abc', '2026-01-14 04:11:24.046281', 1)
2026-01-13 23:11:24,048 INFO sqlalchemy.engine.Engine DELETE FROM links WHERE links.source_note_id = ?
2026-01-13 23:11:24,048 INFO sqlalchemy.engine.Engine [cached since 7.118s ago] (1,)
2026-01-13 23:11:24,050 INFO sqlalchemy.engine.Engine DELETE FROM note_tags WHERE note_tags.note_id = ?
2026-01-13 23:11:24,050 INFO sqlalchemy.engine.Engine [cached since 7.119s ago] (1,)
2026-01-13 23:11:24,051 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:11:24,053 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:24,053 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:24,053 INFO sqlalchemy.engine.Engine [cached since 7.119s ago] (1,)
DEBUG: Saved note 1. Content after refresh: # test

Start writin...
2026-01-13 23:11:24,054 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:24,054 INFO sqlalchemy.engine.Engine [cached since 13.52s ago] (1,)
2026-01-13 23:11:24,055 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:11:24,055 INFO sqlalchemy.engine.Engine [cached since 15.16s ago] (1,)
INFO:     127.0.0.1:62154 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:11:24,057 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:24,072 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:24,073 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:24,073 INFO sqlalchemy.engine.Engine [cached since 15.19s ago] ()
2026-01-13 23:11:24,074 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:24,074 INFO sqlalchemy.engine.Engine [cached since 15.18s ago] ()
INFO:     127.0.0.1:62154 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:24,075 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:24,077 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:24,078 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:24,078 INFO sqlalchemy.engine.Engine [cached since 15.19s ago] ()
2026-01-13 23:11:24,078 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:24,078 INFO sqlalchemy.engine.Engine [cached since 15.18s ago] ()
INFO:     127.0.0.1:62154 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:24,079 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:25,921 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:25,922 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:25,922 INFO sqlalchemy.engine.Engine [cached since 15.39s ago] (1,)
2026-01-13 23:11:25,924 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:11:25,924 INFO sqlalchemy.engine.Engine [cached since 12.45s ago] (1,)
INFO:     127.0.0.1:62158 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:11:25,926 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:27,774 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:27,781 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:27,782 INFO sqlalchemy.engine.Engine [cached since 17.25s ago] (1,)
DEBUG: Updating note 1. Old Content: # test

Start writin... New Content: # test

Start writin...
2026-01-13 23:11:27,787 INFO sqlalchemy.engine.Engine INSERT INTO revisions (note_id, author_id, content_snapshot, created_at) VALUES (?, ?, ?, ?)
2026-01-13 23:11:27,787 INFO sqlalchemy.engine.Engine [cached since 10.87s ago] (1, 1, '# test\n\nStart writing here... abc', '2026-01-14 04:11:27.787356')
2026-01-13 23:11:27,789 INFO sqlalchemy.engine.Engine SELECT revisions.id 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:11:27,789 INFO sqlalchemy.engine.Engine [cached since 10.86s ago] (1, -1, 9)
2026-01-13 23:11:27,790 INFO sqlalchemy.engine.Engine UPDATE notes SET content=?, updated_at=? WHERE notes.id = ?
2026-01-13 23:11:27,790 INFO sqlalchemy.engine.Engine [cached since 10.86s ago] ('# test\n\nStart writing here...', '2026-01-14 04:11:27.790825', 1)
2026-01-13 23:11:27,791 INFO sqlalchemy.engine.Engine DELETE FROM links WHERE links.source_note_id = ?
2026-01-13 23:11:27,791 INFO sqlalchemy.engine.Engine [cached since 10.86s ago] (1,)
2026-01-13 23:11:27,792 INFO sqlalchemy.engine.Engine DELETE FROM note_tags WHERE note_tags.note_id = ?
2026-01-13 23:11:27,792 INFO sqlalchemy.engine.Engine [cached since 10.86s ago] (1,)
2026-01-13 23:11:27,793 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:11:27,795 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:27,795 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:27,795 INFO sqlalchemy.engine.Engine [cached since 10.86s ago] (1,)
DEBUG: Saved note 1. Content after refresh: # test

Start writin...
2026-01-13 23:11:27,796 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:27,796 INFO sqlalchemy.engine.Engine [cached since 17.27s ago] (1,)
2026-01-13 23:11:27,798 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:11:27,798 INFO sqlalchemy.engine.Engine [cached since 18.9s ago] (1,)
INFO:     127.0.0.1:62158 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:11:27,801 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:27,819 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:27,819 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:27,819 INFO sqlalchemy.engine.Engine [cached since 18.93s ago] ()
2026-01-13 23:11:27,820 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:27,821 INFO sqlalchemy.engine.Engine [cached since 18.93s ago] ()
INFO:     127.0.0.1:62158 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:27,822 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:27,824 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:27,824 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:27,824 INFO sqlalchemy.engine.Engine [cached since 18.94s ago] ()
2026-01-13 23:11:27,825 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:27,825 INFO sqlalchemy.engine.Engine [cached since 18.93s ago] ()
INFO:     127.0.0.1:62158 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:27,826 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:34,014 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:34,015 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:34,015 INFO sqlalchemy.engine.Engine [cached since 23.48s ago] (1,)
DEBUG: Updating note 1. Old Content: # test

Start writin... New Content: # test

Start writin...
2026-01-13 23:11:34,017 INFO sqlalchemy.engine.Engine INSERT INTO revisions (note_id, author_id, content_snapshot, created_at) VALUES (?, ?, ?, ?)
2026-01-13 23:11:34,017 INFO sqlalchemy.engine.Engine [cached since 17.1s ago] (1, 1, '# test\n\nStart writing here...', '2026-01-14 04:11:34.017442')
2026-01-13 23:11:34,019 INFO sqlalchemy.engine.Engine SELECT revisions.id 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:11:34,019 INFO sqlalchemy.engine.Engine [cached since 17.09s ago] (1, -1, 9)
2026-01-13 23:11:34,022 INFO sqlalchemy.engine.Engine DELETE FROM revisions WHERE revisions.id IN (?)
2026-01-13 23:11:34,022 INFO sqlalchemy.engine.Engine [generated in 0.00027s] (1,)
2026-01-13 23:11:34,023 INFO sqlalchemy.engine.Engine UPDATE notes SET content=?, updated_at=? WHERE notes.id = ?
2026-01-13 23:11:34,023 INFO sqlalchemy.engine.Engine [cached since 17.1s ago] ('# test\n\nStart writing here... abc def aaa', '2026-01-14 04:11:34.023643', 1)
2026-01-13 23:11:34,024 INFO sqlalchemy.engine.Engine DELETE FROM links WHERE links.source_note_id = ?
2026-01-13 23:11:34,025 INFO sqlalchemy.engine.Engine [cached since 17.09s ago] (1,)
2026-01-13 23:11:34,025 INFO sqlalchemy.engine.Engine DELETE FROM note_tags WHERE note_tags.note_id = ?
2026-01-13 23:11:34,025 INFO sqlalchemy.engine.Engine [cached since 17.09s ago] (1,)
2026-01-13 23:11:34,026 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:11:34,028 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:34,028 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:34,028 INFO sqlalchemy.engine.Engine [cached since 17.09s ago] (1,)
DEBUG: Saved note 1. Content after refresh: # test

Start writin...
2026-01-13 23:11:34,029 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:34,029 INFO sqlalchemy.engine.Engine [cached since 23.5s ago] (1,)
2026-01-13 23:11:34,030 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:11:34,030 INFO sqlalchemy.engine.Engine [cached since 25.14s ago] (1,)
INFO:     127.0.0.1:62162 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:11:34,032 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:34,035 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:34,035 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:34,035 INFO sqlalchemy.engine.Engine [cached since 23.5s ago] (1,)
2026-01-13 23:11:34,037 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:11:34,037 INFO sqlalchemy.engine.Engine [cached since 23.49s ago] (1,)
INFO:     127.0.0.1:62162 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:11:34,038 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:34,861 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:34,861 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:34,861 INFO sqlalchemy.engine.Engine [cached since 24.33s ago] (1,)
2026-01-13 23:11:34,863 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:11:34,863 INFO sqlalchemy.engine.Engine [cached since 21.39s ago] (1,)
INFO:     127.0.0.1:62164 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:11:34,874 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:41,978 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:41,979 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:41,979 INFO sqlalchemy.engine.Engine [cached since 31.45s ago] (1,)
DEBUG: Updating note 1. Old Content: # test

Start writin... New Content: # test

Start writin...
2026-01-13 23:11:41,981 INFO sqlalchemy.engine.Engine INSERT INTO revisions (note_id, author_id, content_snapshot, created_at) VALUES (?, ?, ?, ?)
2026-01-13 23:11:41,981 INFO sqlalchemy.engine.Engine [cached since 25.06s ago] (1, 1, '# test\n\nStart writing here... abc def aaa', '2026-01-14 04:11:41.981560')
2026-01-13 23:11:41,983 INFO sqlalchemy.engine.Engine SELECT revisions.id 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:11:41,983 INFO sqlalchemy.engine.Engine [cached since 25.06s ago] (1, -1, 9)
2026-01-13 23:11:41,986 INFO sqlalchemy.engine.Engine DELETE FROM revisions WHERE revisions.id IN (?)
2026-01-13 23:11:41,986 INFO sqlalchemy.engine.Engine [cached since 7.965s ago] (2,)
2026-01-13 23:11:41,988 INFO sqlalchemy.engine.Engine UPDATE notes SET content=?, updated_at=? WHERE notes.id = ?
2026-01-13 23:11:41,988 INFO sqlalchemy.engine.Engine [cached since 25.06s ago] ('# test\n\nStart writing here... abc', '2026-01-14 04:11:41.988745', 1)
2026-01-13 23:11:41,989 INFO sqlalchemy.engine.Engine DELETE FROM links WHERE links.source_note_id = ?
2026-01-13 23:11:41,990 INFO sqlalchemy.engine.Engine [cached since 25.06s ago] (1,)
2026-01-13 23:11:41,990 INFO sqlalchemy.engine.Engine DELETE FROM note_tags WHERE note_tags.note_id = ?
2026-01-13 23:11:41,990 INFO sqlalchemy.engine.Engine [cached since 25.06s ago] (1,)
2026-01-13 23:11:41,991 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:11:41,992 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:41,993 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:41,993 INFO sqlalchemy.engine.Engine [cached since 25.06s ago] (1,)
DEBUG: Saved note 1. Content after refresh: # test

Start writin...
2026-01-13 23:11:41,994 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:41,994 INFO sqlalchemy.engine.Engine [cached since 31.46s ago] (1,)
2026-01-13 23:11:41,995 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:11:41,995 INFO sqlalchemy.engine.Engine [cached since 33.1s ago] (1,)
INFO:     127.0.0.1:62166 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:11:41,996 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:42,013 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:42,013 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:42,013 INFO sqlalchemy.engine.Engine [cached since 33.13s ago] ()
2026-01-13 23:11:42,015 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:42,015 INFO sqlalchemy.engine.Engine [cached since 33.12s ago] ()
INFO:     127.0.0.1:62166 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:42,017 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:42,019 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:42,019 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:42,019 INFO sqlalchemy.engine.Engine [cached since 33.13s ago] ()
2026-01-13 23:11:42,020 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:42,020 INFO sqlalchemy.engine.Engine [cached since 33.13s ago] ()
INFO:     127.0.0.1:62168 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:42,021 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:43,344 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:43,344 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:43,344 INFO sqlalchemy.engine.Engine [cached since 32.81s ago] (1,)
2026-01-13 23:11:43,346 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:11:43,346 INFO sqlalchemy.engine.Engine [cached since 29.87s ago] (1,)
INFO:     127.0.0.1:62168 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:11:43,348 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:46,351 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:46,352 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:46,352 INFO sqlalchemy.engine.Engine [cached since 35.82s ago] (1,)
DEBUG: Updating note 1. Old Content: # test

Start writin... New Content: # test

Start writin...
2026-01-13 23:11:46,354 INFO sqlalchemy.engine.Engine INSERT INTO revisions (note_id, author_id, content_snapshot, created_at) VALUES (?, ?, ?, ?)
2026-01-13 23:11:46,354 INFO sqlalchemy.engine.Engine [cached since 29.43s ago] (1, 1, '# test\n\nStart writing here... abc', '2026-01-14 04:11:46.353999')
2026-01-13 23:11:46,356 INFO sqlalchemy.engine.Engine SELECT revisions.id 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:11:46,356 INFO sqlalchemy.engine.Engine [cached since 29.43s ago] (1, -1, 9)
2026-01-13 23:11:46,358 INFO sqlalchemy.engine.Engine DELETE FROM revisions WHERE revisions.id IN (?)
2026-01-13 23:11:46,358 INFO sqlalchemy.engine.Engine [cached since 12.34s ago] (3,)
2026-01-13 23:11:46,362 INFO sqlalchemy.engine.Engine UPDATE notes SET content=?, updated_at=? WHERE notes.id = ?
2026-01-13 23:11:46,362 INFO sqlalchemy.engine.Engine [cached since 29.43s ago] ('# test\n\nStart writing here...', '2026-01-14 04:11:46.362769', 1)
2026-01-13 23:11:46,363 INFO sqlalchemy.engine.Engine DELETE FROM links WHERE links.source_note_id = ?
2026-01-13 23:11:46,363 INFO sqlalchemy.engine.Engine [cached since 29.43s ago] (1,)
2026-01-13 23:11:46,364 INFO sqlalchemy.engine.Engine DELETE FROM note_tags WHERE note_tags.note_id = ?
2026-01-13 23:11:46,364 INFO sqlalchemy.engine.Engine [cached since 29.43s ago] (1,)
2026-01-13 23:11:46,365 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:11:46,366 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:46,366 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:46,367 INFO sqlalchemy.engine.Engine [cached since 29.43s ago] (1,)
DEBUG: Saved note 1. Content after refresh: # test

Start writin...
2026-01-13 23:11:46,368 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:46,368 INFO sqlalchemy.engine.Engine [cached since 35.84s ago] (1,)
2026-01-13 23:11:46,369 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:11:46,369 INFO sqlalchemy.engine.Engine [cached since 37.47s ago] (1,)
INFO:     127.0.0.1:62170 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:11:46,370 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:46,389 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:46,390 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:46,390 INFO sqlalchemy.engine.Engine [cached since 37.5s ago] ()
2026-01-13 23:11:46,391 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:46,391 INFO sqlalchemy.engine.Engine [cached since 37.5s ago] ()
INFO:     127.0.0.1:62170 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:46,394 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:46,396 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:46,396 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:46,396 INFO sqlalchemy.engine.Engine [cached since 37.51s ago] ()
2026-01-13 23:11:46,396 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:46,397 INFO sqlalchemy.engine.Engine [cached since 37.5s ago] ()
INFO:     127.0.0.1:62170 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:46,397 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:48,024 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:48,025 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:48,025 INFO sqlalchemy.engine.Engine [cached since 37.49s ago] (1,)
2026-01-13 23:11:48,026 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:11:48,026 INFO sqlalchemy.engine.Engine [cached since 34.55s ago] (1,)
INFO:     127.0.0.1:62170 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:11:48,029 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:50,053 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:50,054 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:50,054 INFO sqlalchemy.engine.Engine [cached since 39.52s ago] (1,)
2026-01-13 23:11:50,057 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:11:50,060 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:50,062 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:50,063 INFO sqlalchemy.engine.Engine [cached since 33.13s ago] (1,)
DEBUG: Saved note 1. Content after refresh: # test

Start writin...
2026-01-13 23:11:50,065 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:50,065 INFO sqlalchemy.engine.Engine [cached since 39.54s ago] (1,)
2026-01-13 23:11:50,067 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:11:50,067 INFO sqlalchemy.engine.Engine [cached since 41.17s ago] (1,)
INFO:     127.0.0.1:62174 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:11:50,068 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:50,101 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:50,101 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:50,101 INFO sqlalchemy.engine.Engine [cached since 41.21s ago] ()
2026-01-13 23:11:50,102 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:50,102 INFO sqlalchemy.engine.Engine [cached since 41.21s ago] ()
INFO:     127.0.0.1:62174 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:50,102 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:50,105 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:50,106 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:11:50,106 INFO sqlalchemy.engine.Engine [cached since 41.22s ago] ()
2026-01-13 23:11:50,106 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:11:50,106 INFO sqlalchemy.engine.Engine [cached since 41.21s ago] ()
INFO:     127.0.0.1:62174 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:11:50,107 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:11:56,345 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:11:56,345 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:11:56,345 INFO sqlalchemy.engine.Engine [cached since 45.81s ago] (1,)
2026-01-13 23:11:56,347 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:11:56,347 INFO sqlalchemy.engine.Engine [cached since 42.87s ago] (1,)
INFO:     127.0.0.1:62179 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:11:56,349 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:06,434 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:06,435 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:06,436 INFO sqlalchemy.engine.Engine [cached since 55.9s ago] (1,)
DEBUG: Updating note 1. Old Content: # test

Start writin... New Content: q...
2026-01-13 23:12:06,444 INFO sqlalchemy.engine.Engine INSERT INTO revisions (note_id, author_id, content_snapshot, created_at) VALUES (?, ?, ?, ?)
2026-01-13 23:12:06,444 INFO sqlalchemy.engine.Engine [cached since 49.52s ago] (1, 1, '# test\n\nStart writing here...', '2026-01-14 04:12:06.444190')
2026-01-13 23:12:06,446 INFO sqlalchemy.engine.Engine SELECT revisions.id 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:12:06,446 INFO sqlalchemy.engine.Engine [cached since 49.52s ago] (1, -1, 9)
2026-01-13 23:12:06,448 INFO sqlalchemy.engine.Engine DELETE FROM revisions WHERE revisions.id IN (?)
2026-01-13 23:12:06,448 INFO sqlalchemy.engine.Engine [cached since 32.43s ago] (4,)
2026-01-13 23:12:06,450 INFO sqlalchemy.engine.Engine UPDATE notes SET content=?, updated_at=? WHERE notes.id = ?
2026-01-13 23:12:06,450 INFO sqlalchemy.engine.Engine [cached since 49.52s ago] ('q', '2026-01-14 04:12:06.449988', 1)
2026-01-13 23:12:06,450 INFO sqlalchemy.engine.Engine DELETE FROM links WHERE links.source_note_id = ?
2026-01-13 23:12:06,451 INFO sqlalchemy.engine.Engine [cached since 49.52s ago] (1,)
2026-01-13 23:12:06,451 INFO sqlalchemy.engine.Engine DELETE FROM note_tags WHERE note_tags.note_id = ?
2026-01-13 23:12:06,451 INFO sqlalchemy.engine.Engine [cached since 49.52s ago] (1,)
2026-01-13 23:12:06,452 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:12:06,453 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:06,454 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:06,454 INFO sqlalchemy.engine.Engine [cached since 49.52s ago] (1,)
DEBUG: Saved note 1. Content after refresh: q...
2026-01-13 23:12:06,455 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:06,455 INFO sqlalchemy.engine.Engine [cached since 55.93s ago] (1,)
2026-01-13 23:12:06,456 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:12:06,456 INFO sqlalchemy.engine.Engine [cached since 57.56s ago] (1,)
INFO:     127.0.0.1:62183 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:12:06,458 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:06,462 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:06,463 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:06,463 INFO sqlalchemy.engine.Engine [cached since 55.93s ago] (1,)
2026-01-13 23:12:06,464 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:12:06,464 INFO sqlalchemy.engine.Engine [cached since 55.92s ago] (1,)
INFO:     127.0.0.1:62183 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:12:06,465 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:08,939 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:08,940 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:08,940 INFO sqlalchemy.engine.Engine [cached since 58.41s ago] (4,)
2026-01-13 23:12:08,945 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:08,945 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:08,946 INFO sqlalchemy.engine.Engine [cached since 58.41s ago] (4,)
2026-01-13 23:12:08,948 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:12:08,948 INFO sqlalchemy.engine.Engine [cached since 60.05s ago] (4,)
2026-01-13 23:12:08,950 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:12:08,950 INFO sqlalchemy.engine.Engine [cached since 58.4s ago] (4,)
INFO:     127.0.0.1:62183 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:12:08,952 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:08,954 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:08,954 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:08,954 INFO sqlalchemy.engine.Engine [cached since 58.43s ago] (4,)
INFO:     127.0.0.1:62186 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:12:08,957 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:08,958 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:08,959 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:08,959 INFO sqlalchemy.engine.Engine [cached since 58.43s ago] (4,)
2026-01-13 23:12:08,961 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:12:08,961 INFO sqlalchemy.engine.Engine [cached since 60.07s ago] (4,)
2026-01-13 23:12:08,965 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:12:08,966 INFO sqlalchemy.engine.Engine [cached since 58.42s ago] (4,)
INFO:     127.0.0.1:62188 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:12:08,970 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:08,971 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:08,972 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:12:08,972 INFO sqlalchemy.engine.Engine [cached since 60.09s ago] ()
INFO:     127.0.0.1:62183 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:12:08,973 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:08,975 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:12:08,975 INFO sqlalchemy.engine.Engine [cached since 60.08s ago] ()
INFO:     127.0.0.1:62186 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:12:08,977 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:08,979 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:08,980 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:12:08,980 INFO sqlalchemy.engine.Engine [cached since 60.09s ago] ()
2026-01-13 23:12:08,980 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:12:08,980 INFO sqlalchemy.engine.Engine [cached since 60.09s ago] ()
INFO:     127.0.0.1:62183 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:12:08,982 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:09,275 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:09,276 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:09,278 INFO sqlalchemy.engine.Engine [cached since 58.75s ago] (1,)
2026-01-13 23:12:09,280 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:09,280 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:09,280 INFO sqlalchemy.engine.Engine [cached since 58.75s ago] (1,)
2026-01-13 23:12:09,284 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:12:09,284 INFO sqlalchemy.engine.Engine [cached since 58.74s ago] (1,)
2026-01-13 23:12:09,285 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:12:09,285 INFO sqlalchemy.engine.Engine [cached since 60.39s ago] (1,)
INFO:     127.0.0.1:62186 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:12:09,296 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62183 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:12:09,298 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:09,299 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:09,299 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:09,299 INFO sqlalchemy.engine.Engine [cached since 58.77s ago] (1,)
2026-01-13 23:12:09,301 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:09,301 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:09,301 INFO sqlalchemy.engine.Engine [cached since 58.77s ago] (1,)
2026-01-13 23:12:09,318 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:12:09,318 INFO sqlalchemy.engine.Engine [cached since 60.42s ago] (1,)
2026-01-13 23:12:09,320 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:12:09,320 INFO sqlalchemy.engine.Engine [cached since 58.77s ago] (1,)
2026-01-13 23:12:09,323 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:09,323 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:12:09,323 INFO sqlalchemy.engine.Engine [cached since 60.44s ago] ()
INFO:     127.0.0.1:62186 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:12:09,325 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:09,326 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:12:09,326 INFO sqlalchemy.engine.Engine [cached since 60.43s ago] ()
INFO:     127.0.0.1:62188 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:12:09,327 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62183 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:12:09,330 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:09,332 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:09,332 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:12:09,333 INFO sqlalchemy.engine.Engine [cached since 60.45s ago] ()
2026-01-13 23:12:09,334 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:12:09,334 INFO sqlalchemy.engine.Engine [cached since 60.44s ago] ()
INFO:     127.0.0.1:62188 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:12:09,335 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:10,293 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:10,295 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:10,295 INFO sqlalchemy.engine.Engine [cached since 59.76s ago] (1,)
2026-01-13 23:12:10,297 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:12:10,297 INFO sqlalchemy.engine.Engine [cached since 56.82s ago] (1,)
INFO:     127.0.0.1:62190 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:12:10,299 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:13,428 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:13,428 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:13,428 INFO sqlalchemy.engine.Engine [cached since 62.9s ago] (1,)
DEBUG: Updating note 1. Old Content: q... New Content: # test

Start writin...
2026-01-13 23:12:13,430 INFO sqlalchemy.engine.Engine INSERT INTO revisions (note_id, author_id, content_snapshot, created_at) VALUES (?, ?, ?, ?)
2026-01-13 23:12:13,431 INFO sqlalchemy.engine.Engine [cached since 56.51s ago] (1, 1, 'q', '2026-01-14 04:12:13.430845')
2026-01-13 23:12:13,432 INFO sqlalchemy.engine.Engine SELECT revisions.id 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:12:13,433 INFO sqlalchemy.engine.Engine [cached since 56.51s ago] (1, -1, 9)
2026-01-13 23:12:13,434 INFO sqlalchemy.engine.Engine DELETE FROM revisions WHERE revisions.id IN (?)
2026-01-13 23:12:13,435 INFO sqlalchemy.engine.Engine [cached since 39.41s ago] (5,)
2026-01-13 23:12:13,437 INFO sqlalchemy.engine.Engine UPDATE notes SET content=?, updated_at=? WHERE notes.id = ?
2026-01-13 23:12:13,438 INFO sqlalchemy.engine.Engine [cached since 56.51s ago] ('# test\n\nStart writing here...', '2026-01-14 04:12:13.437843', 1)
2026-01-13 23:12:13,440 INFO sqlalchemy.engine.Engine DELETE FROM links WHERE links.source_note_id = ?
2026-01-13 23:12:13,440 INFO sqlalchemy.engine.Engine [cached since 56.51s ago] (1,)
2026-01-13 23:12:13,441 INFO sqlalchemy.engine.Engine DELETE FROM note_tags WHERE note_tags.note_id = ?
2026-01-13 23:12:13,441 INFO sqlalchemy.engine.Engine [cached since 56.51s ago] (1,)
2026-01-13 23:12:13,441 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:12:13,443 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:13,443 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:13,443 INFO sqlalchemy.engine.Engine [cached since 56.51s ago] (1,)
DEBUG: Saved note 1. Content after refresh: # test

Start writin...
2026-01-13 23:12:13,445 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:13,445 INFO sqlalchemy.engine.Engine [cached since 62.92s ago] (1,)
2026-01-13 23:12:13,446 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:12:13,446 INFO sqlalchemy.engine.Engine [cached since 64.55s ago] (1,)
INFO:     127.0.0.1:62190 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:12:13,448 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:13,464 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:13,464 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:12:13,464 INFO sqlalchemy.engine.Engine [cached since 64.58s ago] ()
2026-01-13 23:12:13,465 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:12:13,465 INFO sqlalchemy.engine.Engine [cached since 64.57s ago] ()
INFO:     127.0.0.1:62190 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:12:13,467 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:13,469 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:13,470 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:12:13,470 INFO sqlalchemy.engine.Engine [cached since 64.58s ago] ()
2026-01-13 23:12:13,470 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:12:13,470 INFO sqlalchemy.engine.Engine [cached since 64.58s ago] ()
INFO:     127.0.0.1:62190 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:12:13,472 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:15,579 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:15,580 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:15,580 INFO sqlalchemy.engine.Engine [cached since 65.05s ago] (1,)
2026-01-13 23:12:15,581 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:12:15,581 INFO sqlalchemy.engine.Engine [cached since 62.11s ago] (1,)
INFO:     127.0.0.1:62195 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:12:15,583 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:17,795 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:17,797 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:17,797 INFO sqlalchemy.engine.Engine [cached since 67.27s ago] (1,)
2026-01-13 23:12:17,799 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:12:17,799 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:17,800 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:17,800 INFO sqlalchemy.engine.Engine [cached since 60.87s ago] (1,)
DEBUG: Saved note 1. Content after refresh: # test

Start writin...
2026-01-13 23:12:17,801 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:17,801 INFO sqlalchemy.engine.Engine [cached since 67.27s ago] (1,)
2026-01-13 23:12:17,802 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:12:17,803 INFO sqlalchemy.engine.Engine [cached since 68.91s ago] (1,)
INFO:     127.0.0.1:62195 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:12:17,806 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:17,830 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:17,830 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:12:17,830 INFO sqlalchemy.engine.Engine [cached since 68.94s ago] ()
2026-01-13 23:12:17,831 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:12:17,831 INFO sqlalchemy.engine.Engine [cached since 68.94s ago] ()
INFO:     127.0.0.1:62195 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:12:17,832 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:17,835 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:17,835 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:12:17,835 INFO sqlalchemy.engine.Engine [cached since 68.95s ago] ()
2026-01-13 23:12:17,835 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:12:17,836 INFO sqlalchemy.engine.Engine [cached since 68.94s ago] ()
INFO:     127.0.0.1:62195 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:12:17,836 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:19,123 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:19,124 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:19,124 INFO sqlalchemy.engine.Engine [cached since 68.59s ago] (1,)
2026-01-13 23:12:19,125 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:12:19,125 INFO sqlalchemy.engine.Engine [cached since 65.65s ago] (1,)
INFO:     127.0.0.1:62195 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:12:19,127 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:20,463 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:20,464 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:20,464 INFO sqlalchemy.engine.Engine [cached since 69.93s ago] (4,)
2026-01-13 23:12:20,464 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:20,464 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:20,464 INFO sqlalchemy.engine.Engine [cached since 69.93s ago] (4,)
2026-01-13 23:12:20,465 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:12:20,465 INFO sqlalchemy.engine.Engine [cached since 69.92s ago] (4,)
2026-01-13 23:12:20,466 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:12:20,466 INFO sqlalchemy.engine.Engine [cached since 71.57s ago] (4,)
INFO:     127.0.0.1:62201 - "GET /api/notes/4 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62202 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:12:20,481 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:20,482 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:20,483 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:20,484 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:20,484 INFO sqlalchemy.engine.Engine [cached since 69.95s ago] (4,)
2026-01-13 23:12:20,488 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:20,488 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:20,489 INFO sqlalchemy.engine.Engine [cached since 69.96s ago] (4,)
2026-01-13 23:12:20,496 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:12:20,496 INFO sqlalchemy.engine.Engine [cached since 71.6s ago] (4,)
2026-01-13 23:12:20,500 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:12:20,501 INFO sqlalchemy.engine.Engine [cached since 69.95s ago] (4,)
2026-01-13 23:12:20,501 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:20,502 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:12:20,502 INFO sqlalchemy.engine.Engine [cached since 71.62s ago] ()
INFO:     127.0.0.1:62201 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:12:20,508 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:20,509 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:12:20,509 INFO sqlalchemy.engine.Engine [cached since 71.61s ago] ()
INFO:     127.0.0.1:62204 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:12:20,510 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62202 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:12:20,511 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:20,512 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:20,512 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:12:20,512 INFO sqlalchemy.engine.Engine [cached since 71.63s ago] ()
2026-01-13 23:12:20,513 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:12:20,513 INFO sqlalchemy.engine.Engine [cached since 71.62s ago] ()
INFO:     127.0.0.1:62204 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:12:20,515 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:20,986 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:20,987 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:20,987 INFO sqlalchemy.engine.Engine [cached since 70.46s ago] (1,)
2026-01-13 23:12:20,988 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:20,988 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:20,988 INFO sqlalchemy.engine.Engine [cached since 70.46s ago] (1,)
2026-01-13 23:12:20,990 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:12:20,990 INFO sqlalchemy.engine.Engine [cached since 70.44s ago] (1,)
2026-01-13 23:12:20,991 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:12:20,991 INFO sqlalchemy.engine.Engine [cached since 72.1s ago] (1,)
INFO:     127.0.0.1:62204 - "GET /api/notes/1 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62202 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:12:20,993 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:20,993 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:20,994 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:20,994 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:20,995 INFO sqlalchemy.engine.Engine [cached since 70.47s ago] (1,)
2026-01-13 23:12:20,997 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:20,997 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:20,997 INFO sqlalchemy.engine.Engine [cached since 70.47s ago] (1,)
2026-01-13 23:12:21,007 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:12:21,008 INFO sqlalchemy.engine.Engine [cached since 72.11s ago] (1,)
2026-01-13 23:12:21,008 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:12:21,008 INFO sqlalchemy.engine.Engine [cached since 70.46s ago] (1,)
2026-01-13 23:12:21,011 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:21,011 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:12:21,011 INFO sqlalchemy.engine.Engine [cached since 72.13s ago] ()
INFO:     127.0.0.1:62201 - "GET /api/notes/1 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62204 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:12:21,017 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:21,017 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:21,018 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:12:21,018 INFO sqlalchemy.engine.Engine [cached since 72.12s ago] ()
INFO:     127.0.0.1:62202 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:12:21,019 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:21,019 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:21,019 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:12:21,019 INFO sqlalchemy.engine.Engine [cached since 72.13s ago] ()
2026-01-13 23:12:21,020 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:12:21,020 INFO sqlalchemy.engine.Engine [cached since 72.13s ago] ()
INFO:     127.0.0.1:62204 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:12:21,021 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:12:23,003 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:12:23,003 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:12:23,003 INFO sqlalchemy.engine.Engine [cached since 72.47s ago] (1,)
2026-01-13 23:12:23,004 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:12:23,004 INFO sqlalchemy.engine.Engine [cached since 69.53s ago] (1,)
INFO:     127.0.0.1:62204 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:12:23,006 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:13:36,359 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:13:36,361 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:13:36,361 INFO sqlalchemy.engine.Engine [cached since 147.5s ago] ()
2026-01-13 23:13:36,363 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:13:36,364 INFO sqlalchemy.engine.Engine [cached since 147.5s ago] ()
INFO:     127.0.0.1:62229 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:13:36,365 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:13:36,366 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:13:36,366 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:13:36,366 INFO sqlalchemy.engine.Engine [cached since 147.5s ago] ()
2026-01-13 23:13:36,366 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:13:36,366 INFO sqlalchemy.engine.Engine [cached since 147.5s ago] ()
INFO:     127.0.0.1:62229 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:13:36,367 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  StatReload detected changes in 'app/routers/notes.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70139]
INFO:     Started server process [70209]
INFO:     Waiting for application startup.
2026-01-13 23:14:11,477 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:11,477 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:14:11,477 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:14:11,477 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notes")
2026-01-13 23:14:11,477 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:14:11,478 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("links")
2026-01-13 23:14:11,478 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:14:11,478 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("revisions")
2026-01-13 23:14:11,478 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:14:11,478 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("tags")
2026-01-13 23:14:11,478 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:14:11,478 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("note_tags")
2026-01-13 23:14:11,478 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:14:11,478 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2026-01-13 23:14:46,861 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:46,876 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:14:46,876 INFO sqlalchemy.engine.Engine [generated in 0.00020s] ()
2026-01-13 23:14:46,880 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:46,881 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:14:46,881 INFO sqlalchemy.engine.Engine [generated in 0.00011s] (1,)
2026-01-13 23:14:46,881 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:46,882 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:14:46,882 INFO sqlalchemy.engine.Engine [generated in 0.00006s] (1,)
2026-01-13 23:14:46,882 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:46,883 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:14:46,883 INFO sqlalchemy.engine.Engine [generated in 0.00017s] (100, 0)
INFO:     127.0.0.1:62266 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:14:46,885 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:46,886 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:14:46,886 INFO sqlalchemy.engine.Engine [generated in 0.00012s] (1,)
2026-01-13 23:14:46,888 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:14:46,888 INFO sqlalchemy.engine.Engine [generated in 0.00014s] (1, 4, 5, 3, 2)
2026-01-13 23:14:46,888 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:14:46,888 INFO sqlalchemy.engine.Engine [cached since 0.0006162s ago] (1,)
INFO:     127.0.0.1:62268 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:14:46,890 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62272 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
2026-01-13 23:14:46,890 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62271 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:14:46,891 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:46,894 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:46,894 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:14:46,894 INFO sqlalchemy.engine.Engine [cached since 0.01853s ago] ()
INFO:     127.0.0.1:62271 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:14:46,895 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:46,939 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:46,939 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:14:46,939 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ()
2026-01-13 23:14:46,940 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:14:46,940 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ()
INFO:     127.0.0.1:62271 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:14:46,943 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:46,944 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:46,944 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:14:46,944 INFO sqlalchemy.engine.Engine [cached since 0.004751s ago] ()
2026-01-13 23:14:46,945 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:14:46,945 INFO sqlalchemy.engine.Engine [cached since 0.004552s ago] ()
INFO:     127.0.0.1:62272 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:14:46,946 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:48,855 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:48,857 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:14:48,858 INFO sqlalchemy.engine.Engine [cached since 1.976s ago] (1,)
2026-01-13 23:14:48,861 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:14:48,861 INFO sqlalchemy.engine.Engine [generated in 0.00088s] (1,)
INFO:     127.0.0.1:62272 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:14:48,864 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:56,863 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:56,865 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:14:56,865 INFO sqlalchemy.engine.Engine [cached since 9.984s ago] (1,)
DEBUG: Updating note 1. Old Content: # test

Start writin... New Content: q...
2026-01-13 23:14:56,874 INFO sqlalchemy.engine.Engine INSERT INTO revisions (note_id, author_id, content_snapshot, created_at) VALUES (?, ?, ?, ?)
2026-01-13 23:14:56,874 INFO sqlalchemy.engine.Engine [generated in 0.00239s] (1, 1, '# test\n\nStart writing here...', '2026-01-14 04:14:56.873074')
2026-01-13 23:14:56,877 INFO sqlalchemy.engine.Engine SELECT revisions.id 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:14:56,878 INFO sqlalchemy.engine.Engine [generated in 0.00023s] (1, -1, 9)
2026-01-13 23:14:56,880 INFO sqlalchemy.engine.Engine DELETE FROM revisions WHERE revisions.id IN (?)
2026-01-13 23:14:56,880 INFO sqlalchemy.engine.Engine [generated in 0.00036s] (6,)
2026-01-13 23:14:56,883 INFO sqlalchemy.engine.Engine UPDATE notes SET content=?, updated_at=? WHERE notes.id = ?
2026-01-13 23:14:56,883 INFO sqlalchemy.engine.Engine [generated in 0.00023s] ('q', '2026-01-14 04:14:56.883369', 1)
2026-01-13 23:14:56,884 INFO sqlalchemy.engine.Engine DELETE FROM links WHERE links.source_note_id = ?
2026-01-13 23:14:56,884 INFO sqlalchemy.engine.Engine [generated in 0.00012s] (1,)
2026-01-13 23:14:56,886 INFO sqlalchemy.engine.Engine DELETE FROM note_tags WHERE note_tags.note_id = ?
2026-01-13 23:14:56,886 INFO sqlalchemy.engine.Engine [generated in 0.00010s] (1,)
2026-01-13 23:14:56,887 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:14:56,888 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:56,889 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:14:56,889 INFO sqlalchemy.engine.Engine [generated in 0.00012s] (1,)
DEBUG: Saved note 1. Content after refresh: q...
2026-01-13 23:14:56,890 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:14:56,890 INFO sqlalchemy.engine.Engine [cached since 10.01s ago] (1,)
2026-01-13 23:14:56,892 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:14:56,892 INFO sqlalchemy.engine.Engine [cached since 10s ago] (1,)
INFO:     127.0.0.1:62287 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:14:56,895 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:56,909 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:56,909 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:14:56,909 INFO sqlalchemy.engine.Engine [cached since 9.97s ago] ()
2026-01-13 23:14:56,910 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:14:56,910 INFO sqlalchemy.engine.Engine [cached since 9.97s ago] ()
INFO:     127.0.0.1:62287 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:14:56,911 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:56,912 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:56,912 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:14:56,912 INFO sqlalchemy.engine.Engine [cached since 9.973s ago] ()
2026-01-13 23:14:56,913 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:14:56,913 INFO sqlalchemy.engine.Engine [cached since 9.973s ago] ()
INFO:     127.0.0.1:62287 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:14:56,914 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:14:59,624 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:14:59,625 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:14:59,625 INFO sqlalchemy.engine.Engine [cached since 12.74s ago] (1,)
2026-01-13 23:14:59,626 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:14:59,626 INFO sqlalchemy.engine.Engine [cached since 10.77s ago] (1,)
INFO:     127.0.0.1:62294 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:14:59,628 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:15:04,906 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:15:04,908 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:15:04,909 INFO sqlalchemy.engine.Engine [cached since 18.03s ago] (1,)
DEBUG: Updating note 1. Old Content: q... New Content: # test

Start writin...
2026-01-13 23:15:04,916 INFO sqlalchemy.engine.Engine INSERT INTO revisions (note_id, author_id, content_snapshot, created_at) VALUES (?, ?, ?, ?)
2026-01-13 23:15:04,917 INFO sqlalchemy.engine.Engine [cached since 8.045s ago] (1, 1, 'q', '2026-01-14 04:15:04.916546')
2026-01-13 23:15:04,918 INFO sqlalchemy.engine.Engine SELECT revisions.id 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:15:04,918 INFO sqlalchemy.engine.Engine [cached since 8.041s ago] (1, -1, 9)
2026-01-13 23:15:04,921 INFO sqlalchemy.engine.Engine DELETE FROM revisions WHERE revisions.id IN (?)
2026-01-13 23:15:04,921 INFO sqlalchemy.engine.Engine [cached since 8.042s ago] (7,)
2026-01-13 23:15:04,923 INFO sqlalchemy.engine.Engine UPDATE notes SET content=?, updated_at=? WHERE notes.id = ?
2026-01-13 23:15:04,923 INFO sqlalchemy.engine.Engine [cached since 8.04s ago] ('# test\n\nStart writing here...', '2026-01-14 04:15:04.923082', 1)
2026-01-13 23:15:04,924 INFO sqlalchemy.engine.Engine DELETE FROM links WHERE links.source_note_id = ?
2026-01-13 23:15:04,924 INFO sqlalchemy.engine.Engine [cached since 8.04s ago] (1,)
2026-01-13 23:15:04,925 INFO sqlalchemy.engine.Engine DELETE FROM note_tags WHERE note_tags.note_id = ?
2026-01-13 23:15:04,925 INFO sqlalchemy.engine.Engine [cached since 8.04s ago] (1,)
2026-01-13 23:15:04,927 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:15:04,931 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:15:04,932 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:15:04,932 INFO sqlalchemy.engine.Engine [cached since 8.043s ago] (1,)
DEBUG: Saved note 1. Content after refresh: # test

Start writin...
2026-01-13 23:15:04,933 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:15:04,933 INFO sqlalchemy.engine.Engine [cached since 18.05s ago] (1,)
2026-01-13 23:15:04,935 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:15:04,935 INFO sqlalchemy.engine.Engine [cached since 18.05s ago] (1,)
INFO:     127.0.0.1:62296 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:15:04,936 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:15:04,948 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:15:04,949 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:15:04,949 INFO sqlalchemy.engine.Engine [cached since 18.01s ago] ()
2026-01-13 23:15:04,949 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:15:04,949 INFO sqlalchemy.engine.Engine [cached since 18.01s ago] ()
INFO:     127.0.0.1:62296 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:15:04,951 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:15:04,952 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:15:04,952 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:15:04,952 INFO sqlalchemy.engine.Engine [cached since 18.01s ago] ()
2026-01-13 23:15:04,953 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:15:04,953 INFO sqlalchemy.engine.Engine [cached since 18.01s ago] ()
INFO:     127.0.0.1:62296 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:15:04,954 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:15:07,198 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:15:07,198 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:15:07,199 INFO sqlalchemy.engine.Engine [cached since 20.32s ago] (1,)
2026-01-13 23:15:07,200 INFO sqlalchemy.engine.Engine SELECT revisions.id, revisions.note_id, revisions.author_id, revisions.content_snapshot, revisions.created_at 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
2026-01-13 23:15:07,200 INFO sqlalchemy.engine.Engine [cached since 18.34s ago] (1,)
INFO:     127.0.0.1:62296 - "GET /api/notes/1/revisions HTTP/1.1" 200 OK
2026-01-13 23:15:07,201 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  StatReload detected changes in 'app/routers/notes.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70209]
INFO:     Started server process [70224]
INFO:     Waiting for application startup.
2026-01-13 23:15:48,395 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:15:48,395 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:15:48,395 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:15:48,396 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notes")
2026-01-13 23:15:48,396 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:15:48,396 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("links")
2026-01-13 23:15:48,396 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:15:48,396 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("revisions")
2026-01-13 23:15:48,396 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:15:48,397 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("tags")
2026-01-13 23:15:48,397 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:15:48,397 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("note_tags")
2026-01-13 23:15:48,397 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:15:48,397 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2026-01-13 23:15:59,096 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:15:59,099 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:15:59,099 INFO sqlalchemy.engine.Engine [generated in 0.00045s] (1,)
2026-01-13 23:15:59,104 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:15:59,106 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:15:59,106 INFO sqlalchemy.engine.Engine [generated in 0.00021s] (1,)
2026-01-13 23:15:59,113 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:15:59,114 INFO sqlalchemy.engine.Engine [generated in 0.00019s] (1,)
2026-01-13 23:15:59,116 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:15:59,116 INFO sqlalchemy.engine.Engine [generated in 0.00012s] (1,)
INFO:     127.0.0.1:62319 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:15:59,120 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62321 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:15:59,123 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:15:59,124 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:15:59,125 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:15:59,125 INFO sqlalchemy.engine.Engine [cached since 0.01901s ago] (1,)
2026-01-13 23:15:59,126 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:15:59,126 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:15:59,126 INFO sqlalchemy.engine.Engine [cached since 0.02765s ago] (1,)
2026-01-13 23:15:59,129 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:15:59,129 INFO sqlalchemy.engine.Engine [cached since 0.0137s ago] (1,)
2026-01-13 23:15:59,130 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:15:59,130 INFO sqlalchemy.engine.Engine [cached since 0.01666s ago] (1,)
INFO:     127.0.0.1:62323 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:15:59,132 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62319 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:15:59,133 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:15:59,150 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:15:59,151 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:15:59,151 INFO sqlalchemy.engine.Engine [generated in 0.00021s] ()
2026-01-13 23:15:59,152 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:15:59,153 INFO sqlalchemy.engine.Engine [generated in 0.00060s] ()
INFO:     127.0.0.1:62319 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:15:59,157 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:15:59,159 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:15:59,159 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:15:59,160 INFO sqlalchemy.engine.Engine [cached since 0.009124s ago] ()
2026-01-13 23:15:59,161 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:15:59,161 INFO sqlalchemy.engine.Engine [cached since 0.008552s ago] ()
INFO:     127.0.0.1:62319 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:15:59,162 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:16:42,016 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:42,017 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:16:42,017 INFO sqlalchemy.engine.Engine [cached since 42.87s ago] ()
2026-01-13 23:16:42,018 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:16:42,018 INFO sqlalchemy.engine.Engine [cached since 42.87s ago] ()
INFO:     127.0.0.1:62338 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:16:42,020 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:16:42,021 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:42,022 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:16:42,022 INFO sqlalchemy.engine.Engine [cached since 42.87s ago] ()
2026-01-13 23:16:42,023 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:16:42,023 INFO sqlalchemy.engine.Engine [cached since 42.87s ago] ()
INFO:     127.0.0.1:62338 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:16:42,024 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:16:54,805 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:54,809 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:16:54,810 INFO sqlalchemy.engine.Engine [cached since 55.71s ago] (2,)
2026-01-13 23:16:54,811 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:54,811 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:16:54,811 INFO sqlalchemy.engine.Engine [cached since 55.71s ago] (2,)
2026-01-13 23:16:54,815 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:16:54,815 INFO sqlalchemy.engine.Engine [cached since 55.7s ago] (2,)
2026-01-13 23:16:54,822 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:16:54,822 INFO sqlalchemy.engine.Engine [cached since 55.71s ago] (2,)
INFO:     127.0.0.1:62345 - "GET /api/notes/2 HTTP/1.1" 200 OK
2026-01-13 23:16:54,826 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62347 - "GET /api/notes/2/backlinks HTTP/1.1" 200 OK
2026-01-13 23:16:54,828 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:16:54,831 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:54,831 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:16:54,831 INFO sqlalchemy.engine.Engine [cached since 55.73s ago] (2,)
2026-01-13 23:16:54,835 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:16:54,835 INFO sqlalchemy.engine.Engine [cached since 55.72s ago] (2,)
2026-01-13 23:16:54,836 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:54,836 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:16:54,836 INFO sqlalchemy.engine.Engine [cached since 55.74s ago] (2,)
INFO:     127.0.0.1:62345 - "GET /api/notes/2/backlinks HTTP/1.1" 200 OK
2026-01-13 23:16:54,837 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:16:54,839 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:16:54,839 INFO sqlalchemy.engine.Engine [cached since 55.73s ago] (2,)
INFO:     127.0.0.1:62349 - "GET /api/notes/2 HTTP/1.1" 200 OK
2026-01-13 23:16:54,841 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:16:54,849 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:54,849 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:16:54,850 INFO sqlalchemy.engine.Engine [cached since 55.7s ago] ()
2026-01-13 23:16:54,851 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:16:54,851 INFO sqlalchemy.engine.Engine [cached since 55.7s ago] ()
INFO:     127.0.0.1:62349 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:16:54,852 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:16:54,854 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:54,854 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:16:54,855 INFO sqlalchemy.engine.Engine [cached since 55.7s ago] ()
2026-01-13 23:16:54,856 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:16:54,856 INFO sqlalchemy.engine.Engine [cached since 55.7s ago] ()
INFO:     127.0.0.1:62345 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:16:54,857 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:16:57,478 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:57,486 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:16:57,486 INFO sqlalchemy.engine.Engine [generated in 0.00074s] ()
2026-01-13 23:16:57,487 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:57,487 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:16:57,487 INFO sqlalchemy.engine.Engine [cached since 58.39s ago] (2,)
2026-01-13 23:16:57,487 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:57,488 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:16:57,488 INFO sqlalchemy.engine.Engine [cached since 58.38s ago] (2,)
2026-01-13 23:16:57,491 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:57,495 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:16:57,495 INFO sqlalchemy.engine.Engine [generated in 0.00030s] (100, 0)
2026-01-13 23:16:57,497 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:16:57,497 INFO sqlalchemy.engine.Engine [cached since 58.38s ago] (2,)
INFO:     127.0.0.1:62345 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:16:57,501 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:16:57,503 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:16:57,504 INFO sqlalchemy.engine.Engine [cached since 58.39s ago] (2,)
2026-01-13 23:16:57,504 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:16:57,504 INFO sqlalchemy.engine.Engine [cached since 58.39s ago] (1, 4, 5, 3, 2)
INFO:     127.0.0.1:62349 - "GET /api/notes/2 HTTP/1.1" 200 OK
2026-01-13 23:16:57,508 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62347 - "GET /api/notes/2/backlinks HTTP/1.1" 200 OK
2026-01-13 23:16:57,511 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62361 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
2026-01-13 23:16:57,513 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:16:57,537 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:57,537 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:16:57,537 INFO sqlalchemy.engine.Engine [cached since 58.39s ago] ()
2026-01-13 23:16:57,539 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:16:57,539 INFO sqlalchemy.engine.Engine [cached since 58.39s ago] ()
INFO:     127.0.0.1:62361 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:16:57,544 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:16:57,546 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:57,546 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:16:57,546 INFO sqlalchemy.engine.Engine [cached since 58.4s ago] ()
2026-01-13 23:16:57,558 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:16:57,558 INFO sqlalchemy.engine.Engine [cached since 58.41s ago] ()
2026-01-13 23:16:57,573 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:16:57,574 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:16:57,578 INFO sqlalchemy.engine.Engine [cached since 0.09246s ago] ()
INFO:     127.0.0.1:62347 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:16:57,582 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62361 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:16:57,587 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:17:13,406 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:17:13,411 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:17:13,411 INFO sqlalchemy.engine.Engine [cached since 15.93s ago] ()
INFO:     127.0.0.1:62370 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:17:13,430 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:18:23,969 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:18:23,985 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:18:23,986 INFO sqlalchemy.engine.Engine [cached since 86.5s ago] ()
2026-01-13 23:18:24,027 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:18:24,035 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:18:24,035 INFO sqlalchemy.engine.Engine [cached since 144.9s ago] (2,)
2026-01-13 23:18:24,039 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:18:24,076 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:18:24,077 INFO sqlalchemy.engine.Engine [cached since 145s ago] (2,)
2026-01-13 23:18:24,088 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:18:24,088 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:18:24,088 INFO sqlalchemy.engine.Engine [cached since 86.59s ago] (100, 0)
2026-01-13 23:18:24,106 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:18:24,106 INFO sqlalchemy.engine.Engine [cached since 145s ago] (2,)
INFO:     127.0.0.1:62406 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:18:24,133 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:18:24,133 INFO sqlalchemy.engine.Engine [cached since 145s ago] (2,)
2026-01-13 23:18:24,133 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:18:24,136 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:18:24,136 INFO sqlalchemy.engine.Engine [cached since 145s ago] (1, 4, 5, 3, 2)
INFO:     127.0.0.1:62407 - "GET /api/notes/2 HTTP/1.1" 200 OK
2026-01-13 23:18:24,149 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62410 - "GET /api/notes/2/backlinks HTTP/1.1" 200 OK
2026-01-13 23:18:24,154 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62411 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
2026-01-13 23:18:24,157 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:18:24,194 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:18:24,195 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:18:24,195 INFO sqlalchemy.engine.Engine [cached since 145s ago] ()
2026-01-13 23:18:24,197 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:18:24,198 INFO sqlalchemy.engine.Engine [cached since 145s ago] ()
INFO:     127.0.0.1:62411 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:18:24,210 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:18:24,211 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:18:24,211 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:18:24,211 INFO sqlalchemy.engine.Engine [cached since 145.1s ago] ()
2026-01-13 23:18:24,214 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:18:24,214 INFO sqlalchemy.engine.Engine [cached since 145.1s ago] ()
2026-01-13 23:18:24,227 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:18:24,227 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:18:24,230 INFO sqlalchemy.engine.Engine [cached since 86.75s ago] ()
INFO:     127.0.0.1:62410 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:18:24,242 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62411 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:18:24,249 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:18:31,139 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:18:31,142 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:18:31,143 INFO sqlalchemy.engine.Engine [cached since 93.66s ago] ()
2026-01-13 23:18:31,145 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:18:31,145 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:18:31,145 INFO sqlalchemy.engine.Engine [cached since 152s ago] (2,)
2026-01-13 23:18:31,146 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:18:31,146 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:18:31,146 INFO sqlalchemy.engine.Engine [cached since 152s ago] (2,)
2026-01-13 23:18:31,147 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:18:31,147 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:18:31,147 INFO sqlalchemy.engine.Engine [cached since 93.65s ago] (100, 0)
2026-01-13 23:18:31,152 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:18:31,152 INFO sqlalchemy.engine.Engine [cached since 152s ago] (2,)
INFO:     127.0.0.1:62425 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:18:31,153 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:18:31,156 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:18:31,156 INFO sqlalchemy.engine.Engine [cached since 152s ago] (1, 4, 5, 3, 2)
2026-01-13 23:18:31,157 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:18:31,157 INFO sqlalchemy.engine.Engine [cached since 152s ago] (2,)
INFO:     127.0.0.1:62429 - "GET /api/notes/2/backlinks HTTP/1.1" 200 OK
2026-01-13 23:18:31,158 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62426 - "GET /api/notes/2 HTTP/1.1" 200 OK
2026-01-13 23:18:31,161 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62430 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
2026-01-13 23:18:31,162 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:18:31,185 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:18:31,185 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:18:31,185 INFO sqlalchemy.engine.Engine [cached since 152s ago] ()
2026-01-13 23:18:31,190 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:18:31,190 INFO sqlalchemy.engine.Engine [cached since 152s ago] ()
INFO:     127.0.0.1:62430 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:18:31,197 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:18:31,206 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:18:31,207 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:18:31,215 INFO sqlalchemy.engine.Engine [cached since 152.1s ago] ()
2026-01-13 23:18:31,217 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:18:31,217 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:18:31,217 INFO sqlalchemy.engine.Engine [cached since 93.73s ago] ()
2026-01-13 23:18:31,220 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:18:31,221 INFO sqlalchemy.engine.Engine [cached since 152.1s ago] ()
INFO:     127.0.0.1:62430 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:18:31,225 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62426 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:18:31,227 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:19:02,545 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:19:02,546 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:19:02,546 INFO sqlalchemy.engine.Engine [cached since 125.1s ago] (100, 0)
2026-01-13 23:19:02,549 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:19:02,549 INFO sqlalchemy.engine.Engine [cached since 183.4s ago] (1, 4, 5, 3, 2)
INFO:     127.0.0.1:62440 - "GET /api/notes HTTP/1.1" 200 OK
2026-01-13 23:19:02,551 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:19:12,443 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:19:12,451 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE lower(notes.title) LIKE lower(?) ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:19:12,451 INFO sqlalchemy.engine.Engine [generated in 0.00035s] ('%te%', 100, 0)
2026-01-13 23:19:12,457 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:19:12,457 INFO sqlalchemy.engine.Engine [cached since 193.3s ago] (1, 4, 5, 3, 2)
INFO:     127.0.0.1:62445 - "GET /api/notes?search=te HTTP/1.1" 200 OK
2026-01-13 23:19:12,460 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:19:12,909 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:19:12,910 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE lower(notes.title) LIKE lower(?) ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:19:12,910 INFO sqlalchemy.engine.Engine [cached since 0.4593s ago] ('%test%', 100, 0)
2026-01-13 23:19:12,914 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:19:12,914 INFO sqlalchemy.engine.Engine [cached since 193.8s ago] (1, 4, 5, 3, 2)
INFO:     127.0.0.1:62445 - "GET /api/notes?search=test HTTP/1.1" 200 OK
2026-01-13 23:19:12,916 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:19:17,429 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:19:17,430 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:19:17,430 INFO sqlalchemy.engine.Engine [cached since 198.3s ago] ()
2026-01-13 23:19:17,430 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:19:17,430 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:19:17,430 INFO sqlalchemy.engine.Engine [cached since 139.9s ago] (5, 0)
2026-01-13 23:19:17,431 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:19:17,437 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:19:17,437 INFO sqlalchemy.engine.Engine [generated in 0.00031s] (100, 0)
2026-01-13 23:19:17,438 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:19:17,438 INFO sqlalchemy.engine.Engine [cached since 198.3s ago] ()
2026-01-13 23:19:17,440 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:19:17,440 INFO sqlalchemy.engine.Engine [cached since 198.3s ago] (2,)
2026-01-13 23:19:17,442 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:19:17,442 INFO sqlalchemy.engine.Engine [cached since 198.3s ago] (1, 4, 5, 3, 2)
INFO:     127.0.0.1:62454 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:19:17,443 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62451 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:19:17,445 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62453 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
2026-01-13 23:19:17,446 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:19:17,447 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:19:17,447 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:19:17,447 INFO sqlalchemy.engine.Engine [cached since 198.3s ago] ()
2026-01-13 23:19:17,448 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:19:17,448 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:19:17,448 INFO sqlalchemy.engine.Engine [cached since 140s ago] (5, 0)
2026-01-13 23:19:17,448 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:19:17,448 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:19:17,448 INFO sqlalchemy.engine.Engine [cached since 0.01154s ago] (100, 0)
2026-01-13 23:19:17,449 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:19:17,449 INFO sqlalchemy.engine.Engine [cached since 198.3s ago] ()
2026-01-13 23:19:17,449 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:19:17,449 INFO sqlalchemy.engine.Engine [cached since 198.3s ago] (1, 4, 5, 3, 2)
2026-01-13 23:19:17,450 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:19:17,450 INFO sqlalchemy.engine.Engine [cached since 198.3s ago] (2,)
INFO:     127.0.0.1:62454 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:19:17,450 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62451 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
2026-01-13 23:19:17,451 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62456 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:19:17,454 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:19:19,681 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:19:19,682 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:19:19,682 INFO sqlalchemy.engine.Engine [cached since 142.2s ago] (100, 0)
2026-01-13 23:19:19,686 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:19:19,686 INFO sqlalchemy.engine.Engine [cached since 200.6s ago] (1, 4, 5, 3, 2)
INFO:     127.0.0.1:62456 - "GET /api/notes HTTP/1.1" 200 OK
2026-01-13 23:19:19,688 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:19:24,643 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:19:24,644 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:19:24,644 INFO sqlalchemy.engine.Engine [cached since 205.5s ago] (1,)
2026-01-13 23:19:24,647 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:19:24,648 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:19:24,648 INFO sqlalchemy.engine.Engine [cached since 205.5s ago] (1,)
2026-01-13 23:19:24,649 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:19:24,649 INFO sqlalchemy.engine.Engine [cached since 205.5s ago] (1,)
2026-01-13 23:19:24,651 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:19:24,652 INFO sqlalchemy.engine.Engine [cached since 205.5s ago] (1,)
INFO:     127.0.0.1:62456 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:19:24,654 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:19:24,656 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:19:24,657 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:19:24,657 INFO sqlalchemy.engine.Engine [cached since 205.6s ago] (1,)
INFO:     127.0.0.1:62459 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:19:24,659 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:19:24,660 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:19:24,661 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:19:24,661 INFO sqlalchemy.engine.Engine [cached since 205.6s ago] (1,)
2026-01-13 23:19:24,663 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:19:24,663 INFO sqlalchemy.engine.Engine [cached since 205.6s ago] (1,)
2026-01-13 23:19:24,665 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:19:24,665 INFO sqlalchemy.engine.Engine [cached since 205.6s ago] (1,)
INFO:     127.0.0.1:62461 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:19:24,672 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62463 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:19:24,674 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:19:24,681 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:19:24,682 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:19:24,682 INFO sqlalchemy.engine.Engine [cached since 205.5s ago] ()
2026-01-13 23:19:24,682 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:19:24,683 INFO sqlalchemy.engine.Engine [cached since 205.5s ago] ()
INFO:     127.0.0.1:62463 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:19:24,684 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:19:24,685 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:19:24,685 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:19:24,685 INFO sqlalchemy.engine.Engine [cached since 205.5s ago] ()
2026-01-13 23:19:24,687 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:19:24,687 INFO sqlalchemy.engine.Engine [cached since 205.5s ago] ()
INFO:     127.0.0.1:62461 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:19:24,688 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:16,918 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:16,934 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:20:16,936 INFO sqlalchemy.engine.Engine [cached since 199.5s ago] ()
2026-01-13 23:20:16,963 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:16,964 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:16,964 INFO sqlalchemy.engine.Engine [cached since 257.9s ago] (1,)
2026-01-13 23:20:16,965 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:16,965 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:16,965 INFO sqlalchemy.engine.Engine [cached since 257.9s ago] (1,)
2026-01-13 23:20:16,970 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:16,970 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:20:16,970 INFO sqlalchemy.engine.Engine [cached since 199.5s ago] (100, 0)
2026-01-13 23:20:16,995 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:16,999 INFO sqlalchemy.engine.Engine [cached since 257.9s ago] (1,)
2026-01-13 23:20:17,004 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:17,004 INFO sqlalchemy.engine.Engine [cached since 257.9s ago] (1,)
INFO:     127.0.0.1:62498 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:20:17,016 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:17,018 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:20:17,040 INFO sqlalchemy.engine.Engine [cached since 257.9s ago] (1, 4, 5, 3, 2)
INFO:     127.0.0.1:62502 - "GET /api/notes/1 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62503 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:20:17,093 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:17,093 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62504 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
2026-01-13 23:20:17,095 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:17,161 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:17,162 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:17,162 INFO sqlalchemy.engine.Engine [cached since 258s ago] ()
2026-01-13 23:20:17,163 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:17,163 INFO sqlalchemy.engine.Engine [cached since 258s ago] ()
INFO:     127.0.0.1:62504 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:17,168 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:17,180 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:17,181 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:17,181 INFO sqlalchemy.engine.Engine [cached since 258s ago] ()
2026-01-13 23:20:17,186 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:17,186 INFO sqlalchemy.engine.Engine [cached since 258s ago] ()
INFO:     127.0.0.1:62503 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:17,187 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:17,217 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:17,230 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:20:17,230 INFO sqlalchemy.engine.Engine [cached since 199.7s ago] ()
INFO:     127.0.0.1:62503 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:20:17,233 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:21,364 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:21,380 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:20:21,380 INFO sqlalchemy.engine.Engine [cached since 203.9s ago] ()
2026-01-13 23:20:21,389 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:21,390 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:21,390 INFO sqlalchemy.engine.Engine [cached since 262.3s ago] (1,)
2026-01-13 23:20:21,390 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:21,391 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:21,391 INFO sqlalchemy.engine.Engine [cached since 262.3s ago] (1,)
2026-01-13 23:20:21,394 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:21,394 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:20:21,394 INFO sqlalchemy.engine.Engine [cached since 203.9s ago] (100, 0)
2026-01-13 23:20:21,405 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:21,405 INFO sqlalchemy.engine.Engine [cached since 262.3s ago] (1,)
2026-01-13 23:20:21,413 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:21,413 INFO sqlalchemy.engine.Engine [cached since 262.3s ago] (1,)
INFO:     127.0.0.1:62514 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:20:21,423 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:21,424 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:20:21,425 INFO sqlalchemy.engine.Engine [cached since 262.3s ago] (1, 4, 5, 3, 2)
INFO:     127.0.0.1:62519 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:20:21,427 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62518 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:20:21,434 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62520 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
2026-01-13 23:20:21,435 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:21,502 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:21,502 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:20:21,502 INFO sqlalchemy.engine.Engine [cached since 204s ago] ()
INFO:     127.0.0.1:62520 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:20:21,503 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:21,512 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:21,512 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:21,512 INFO sqlalchemy.engine.Engine [cached since 262.4s ago] ()
2026-01-13 23:20:21,513 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:21,513 INFO sqlalchemy.engine.Engine [cached since 262.4s ago] ()
INFO:     127.0.0.1:62520 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:21,514 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:21,520 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:21,520 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:21,521 INFO sqlalchemy.engine.Engine [cached since 262.4s ago] ()
2026-01-13 23:20:21,521 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:21,521 INFO sqlalchemy.engine.Engine [cached since 262.4s ago] ()
INFO:     127.0.0.1:62520 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:21,522 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:28,656 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:28,661 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:28,661 INFO sqlalchemy.engine.Engine [cached since 269.6s ago] (3,)
2026-01-13 23:20:28,662 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:28,662 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:28,662 INFO sqlalchemy.engine.Engine [cached since 269.6s ago] (3,)
2026-01-13 23:20:28,678 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:28,715 INFO sqlalchemy.engine.Engine [cached since 269.6s ago] (3,)
2026-01-13 23:20:28,719 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:28,720 INFO sqlalchemy.engine.Engine [cached since 269.6s ago] (3,)
INFO:     127.0.0.1:62527 - "GET /api/notes/3 HTTP/1.1" 200 OK
2026-01-13 23:20:28,730 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:28,731 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:28,732 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:28,732 INFO sqlalchemy.engine.Engine [cached since 269.6s ago] (3,)
INFO:     127.0.0.1:62529 - "GET /api/notes/3/backlinks HTTP/1.1" 200 OK
2026-01-13 23:20:28,734 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:28,735 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:28,735 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:28,735 INFO sqlalchemy.engine.Engine [cached since 269.6s ago] (3,)
2026-01-13 23:20:28,736 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:28,736 INFO sqlalchemy.engine.Engine [cached since 269.6s ago] (3,)
2026-01-13 23:20:28,737 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:28,737 INFO sqlalchemy.engine.Engine [cached since 269.6s ago] (3,)
INFO:     127.0.0.1:62527 - "GET /api/notes/3 HTTP/1.1" 200 OK
2026-01-13 23:20:28,739 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62531 - "GET /api/notes/3/backlinks HTTP/1.1" 200 OK
2026-01-13 23:20:28,740 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:28,778 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:28,778 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:28,778 INFO sqlalchemy.engine.Engine [cached since 269.6s ago] ()
2026-01-13 23:20:28,779 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:28,779 INFO sqlalchemy.engine.Engine [cached since 269.6s ago] ()
INFO:     127.0.0.1:62531 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:28,782 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:28,783 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:28,783 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:28,783 INFO sqlalchemy.engine.Engine [cached since 269.6s ago] ()
2026-01-13 23:20:28,784 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:28,784 INFO sqlalchemy.engine.Engine [cached since 269.6s ago] ()
INFO:     127.0.0.1:62527 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:28,784 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:29,099 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:29,099 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:29,100 INFO sqlalchemy.engine.Engine [cached since 270s ago] (1,)
2026-01-13 23:20:29,100 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:29,100 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:29,100 INFO sqlalchemy.engine.Engine [cached since 270s ago] (1,)
2026-01-13 23:20:29,101 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:29,101 INFO sqlalchemy.engine.Engine [cached since 270s ago] (1,)
2026-01-13 23:20:29,101 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:29,101 INFO sqlalchemy.engine.Engine [cached since 270s ago] (1,)
INFO:     127.0.0.1:62527 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:20:29,102 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62531 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:20:29,102 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:29,108 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:29,109 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:29,109 INFO sqlalchemy.engine.Engine [cached since 270s ago] (1,)
2026-01-13 23:20:29,111 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:29,111 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:29,111 INFO sqlalchemy.engine.Engine [cached since 270s ago] (1,)
2026-01-13 23:20:29,112 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:29,112 INFO sqlalchemy.engine.Engine [cached since 270s ago] (1,)
2026-01-13 23:20:29,113 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:29,113 INFO sqlalchemy.engine.Engine [cached since 270s ago] (1,)
INFO:     127.0.0.1:62529 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:20:29,113 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62533 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:20:29,114 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:29,143 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:29,143 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:29,143 INFO sqlalchemy.engine.Engine [cached since 270s ago] ()
2026-01-13 23:20:29,145 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:29,145 INFO sqlalchemy.engine.Engine [cached since 270s ago] ()
INFO:     127.0.0.1:62533 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:29,152 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:29,153 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:29,153 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:29,153 INFO sqlalchemy.engine.Engine [cached since 270s ago] ()
2026-01-13 23:20:29,154 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:29,154 INFO sqlalchemy.engine.Engine [cached since 270s ago] ()
INFO:     127.0.0.1:62529 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:29,155 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:29,779 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:29,781 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:29,781 INFO sqlalchemy.engine.Engine [cached since 270.7s ago] (4,)
2026-01-13 23:20:29,782 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:29,782 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:29,783 INFO sqlalchemy.engine.Engine [cached since 270.7s ago] (4,)
2026-01-13 23:20:29,788 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:29,789 INFO sqlalchemy.engine.Engine [cached since 270.7s ago] (4,)
2026-01-13 23:20:29,790 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:29,791 INFO sqlalchemy.engine.Engine [cached since 270.7s ago] (4,)
INFO:     127.0.0.1:62536 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:20:29,793 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62537 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:20:29,794 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:29,796 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:29,796 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:29,796 INFO sqlalchemy.engine.Engine [cached since 270.7s ago] (4,)
2026-01-13 23:20:29,798 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:29,798 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:29,799 INFO sqlalchemy.engine.Engine [cached since 270.7s ago] (4,)
2026-01-13 23:20:29,802 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:29,802 INFO sqlalchemy.engine.Engine [cached since 270.7s ago] (4,)
2026-01-13 23:20:29,803 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:29,803 INFO sqlalchemy.engine.Engine [cached since 270.7s ago] (4,)
INFO:     127.0.0.1:62536 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:20:29,804 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62539 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:20:29,806 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:29,821 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:29,821 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:29,821 INFO sqlalchemy.engine.Engine [cached since 270.7s ago] ()
2026-01-13 23:20:29,822 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:29,822 INFO sqlalchemy.engine.Engine [cached since 270.7s ago] ()
INFO:     127.0.0.1:62539 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:29,824 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:29,825 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:29,825 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:29,825 INFO sqlalchemy.engine.Engine [cached since 270.7s ago] ()
2026-01-13 23:20:29,827 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:29,827 INFO sqlalchemy.engine.Engine [cached since 270.7s ago] ()
INFO:     127.0.0.1:62536 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:29,829 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:36,801 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:36,805 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:20:36,805 INFO sqlalchemy.engine.Engine [cached since 219.3s ago] (100, 0)
2026-01-13 23:20:36,815 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:20:36,815 INFO sqlalchemy.engine.Engine [cached since 277.7s ago] (1, 4, 5, 3, 2)
INFO:     127.0.0.1:62544 - "GET /api/notes HTTP/1.1" 200 OK
2026-01-13 23:20:36,818 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:41,778 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:41,783 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:41,783 INFO sqlalchemy.engine.Engine [cached since 282.7s ago] (1,)
2026-01-13 23:20:41,787 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:41,788 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:41,788 INFO sqlalchemy.engine.Engine [cached since 282.7s ago] (1,)
2026-01-13 23:20:41,793 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:41,793 INFO sqlalchemy.engine.Engine [cached since 282.7s ago] (1,)
2026-01-13 23:20:41,795 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:41,795 INFO sqlalchemy.engine.Engine [cached since 282.7s ago] (1,)
INFO:     127.0.0.1:62548 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:20:41,798 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62550 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:20:41,799 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:41,801 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:41,801 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:41,801 INFO sqlalchemy.engine.Engine [cached since 282.7s ago] (1,)
2026-01-13 23:20:41,801 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:41,802 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:41,802 INFO sqlalchemy.engine.Engine [cached since 282.7s ago] (1,)
2026-01-13 23:20:41,803 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:41,803 INFO sqlalchemy.engine.Engine [cached since 282.7s ago] (1,)
2026-01-13 23:20:41,804 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:41,804 INFO sqlalchemy.engine.Engine [cached since 282.7s ago] (1,)
INFO:     127.0.0.1:62548 - "GET /api/notes/1 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62552 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:20:41,809 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:41,809 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:41,817 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:41,817 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:41,817 INFO sqlalchemy.engine.Engine [cached since 282.7s ago] ()
2026-01-13 23:20:41,818 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:41,819 INFO sqlalchemy.engine.Engine [cached since 282.7s ago] ()
INFO:     127.0.0.1:62552 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:41,820 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:41,822 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:41,822 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:41,822 INFO sqlalchemy.engine.Engine [cached since 282.7s ago] ()
2026-01-13 23:20:41,826 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:41,826 INFO sqlalchemy.engine.Engine [cached since 282.7s ago] ()
INFO:     127.0.0.1:62548 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:41,828 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62555 - "OPTIONS /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:20:47,824 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:47,825 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:47,825 INFO sqlalchemy.engine.Engine [cached since 288.7s ago] (1,)
DEBUG: Updating note 1. Old Content: # test

Start writin... New Content: # test

Start writin...
2026-01-13 23:20:47,846 INFO sqlalchemy.engine.Engine INSERT INTO revisions (note_id, author_id, content_snapshot, created_at) VALUES (?, ?, ?, ?)
2026-01-13 23:20:47,846 INFO sqlalchemy.engine.Engine [generated in 0.00055s] (1, 1, '# test\n\nStart writing here...', '2026-01-14 04:20:47.846047')
2026-01-13 23:20:47,852 INFO sqlalchemy.engine.Engine SELECT revisions.id 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:20:47,852 INFO sqlalchemy.engine.Engine [generated in 0.00017s] (1, -1, 4)
2026-01-13 23:20:47,865 INFO sqlalchemy.engine.Engine DELETE FROM revisions WHERE revisions.id IN (?, ?, ?, ?, ?, ?)
2026-01-13 23:20:47,865 INFO sqlalchemy.engine.Engine [generated in 0.00019s] (13, 12, 11, 10, 9, 8)
2026-01-13 23:20:47,871 INFO sqlalchemy.engine.Engine UPDATE notes SET content=?, updated_at=? WHERE notes.id = ?
2026-01-13 23:20:47,871 INFO sqlalchemy.engine.Engine [generated in 0.00014s] ('# test\n\nStart writing here...\n#abc\n', '2026-01-14 04:20:47.871377', 1)
2026-01-13 23:20:47,872 INFO sqlalchemy.engine.Engine DELETE FROM links WHERE links.source_note_id = ?
2026-01-13 23:20:47,872 INFO sqlalchemy.engine.Engine [generated in 0.00007s] (1,)
2026-01-13 23:20:47,873 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags 
WHERE tags.name = ?
2026-01-13 23:20:47,874 INFO sqlalchemy.engine.Engine [generated in 0.00032s] ('abc',)
2026-01-13 23:20:47,875 INFO sqlalchemy.engine.Engine INSERT INTO tags (name) VALUES (?)
2026-01-13 23:20:47,875 INFO sqlalchemy.engine.Engine [generated in 0.00011s] ('abc',)
2026-01-13 23:20:47,876 INFO sqlalchemy.engine.Engine DELETE FROM note_tags WHERE note_tags.note_id = ?
2026-01-13 23:20:47,876 INFO sqlalchemy.engine.Engine [generated in 0.00008s] (1,)
2026-01-13 23:20:47,877 INFO sqlalchemy.engine.Engine INSERT INTO note_tags (note_id, tag_id) VALUES (?, ?)
2026-01-13 23:20:47,877 INFO sqlalchemy.engine.Engine [generated in 0.00007s] (1, 1)
2026-01-13 23:20:47,878 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:20:47,879 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:47,880 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:47,880 INFO sqlalchemy.engine.Engine [generated in 0.00006s] (1,)
DEBUG: Saved note 1. Content after refresh: # test

Start writin...
2026-01-13 23:20:47,881 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:47,881 INFO sqlalchemy.engine.Engine [cached since 288.8s ago] (1,)
2026-01-13 23:20:47,881 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:47,881 INFO sqlalchemy.engine.Engine [cached since 288.8s ago] (1,)
INFO:     127.0.0.1:62555 - "PUT /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:20:47,883 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:47,885 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:47,885 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:47,885 INFO sqlalchemy.engine.Engine [cached since 288.8s ago] (1,)
2026-01-13 23:20:47,886 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:47,886 INFO sqlalchemy.engine.Engine [cached since 288.8s ago] (1,)
INFO:     127.0.0.1:62555 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:20:47,887 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:48,499 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:48,500 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:48,500 INFO sqlalchemy.engine.Engine [cached since 289.4s ago] (5,)
2026-01-13 23:20:48,503 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:48,503 INFO sqlalchemy.engine.Engine [cached since 289.4s ago] (5,)
INFO:     127.0.0.1:62555 - "GET /api/notes/5 HTTP/1.1" 200 OK
2026-01-13 23:20:48,517 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:48,518 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:48,518 INFO sqlalchemy.engine.Engine [cached since 289.4s ago] (5,)
2026-01-13 23:20:48,519 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:48,524 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:48,526 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:48,526 INFO sqlalchemy.engine.Engine [cached since 289.4s ago] (5,)
2026-01-13 23:20:48,529 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:48,529 INFO sqlalchemy.engine.Engine [cached since 289.4s ago] (5,)
2026-01-13 23:20:48,530 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:48,530 INFO sqlalchemy.engine.Engine [cached since 289.4s ago] (5,)
INFO:     127.0.0.1:62558 - "GET /api/notes/5/backlinks HTTP/1.1" 200 OK
2026-01-13 23:20:48,531 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62560 - "GET /api/notes/5 HTTP/1.1" 200 OK
2026-01-13 23:20:48,534 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:48,535 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:48,535 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:48,535 INFO sqlalchemy.engine.Engine [cached since 289.4s ago] (5,)
2026-01-13 23:20:48,536 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:48,536 INFO sqlalchemy.engine.Engine [cached since 289.4s ago] (5,)
INFO:     127.0.0.1:62555 - "GET /api/notes/5/backlinks HTTP/1.1" 200 OK
2026-01-13 23:20:48,537 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:48,556 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:48,556 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:48,556 INFO sqlalchemy.engine.Engine [cached since 289.4s ago] ()
2026-01-13 23:20:48,557 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:48,557 INFO sqlalchemy.engine.Engine [cached since 289.4s ago] ()
INFO:     127.0.0.1:62555 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:48,558 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:48,566 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:48,566 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:48,566 INFO sqlalchemy.engine.Engine [cached since 289.4s ago] ()
2026-01-13 23:20:48,568 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:48,568 INFO sqlalchemy.engine.Engine [cached since 289.4s ago] ()
INFO:     127.0.0.1:62560 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:48,568 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:48,919 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:48,921 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:48,921 INFO sqlalchemy.engine.Engine [cached since 289.8s ago] (4,)
2026-01-13 23:20:48,925 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:48,927 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:48,928 INFO sqlalchemy.engine.Engine [cached since 289.8s ago] (4,)
2026-01-13 23:20:48,931 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:48,931 INFO sqlalchemy.engine.Engine [cached since 289.8s ago] (4,)
2026-01-13 23:20:48,934 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:48,934 INFO sqlalchemy.engine.Engine [cached since 289.8s ago] (4,)
INFO:     127.0.0.1:62560 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:20:48,936 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62555 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:20:48,940 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:48,942 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:48,942 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:48,942 INFO sqlalchemy.engine.Engine [cached since 289.8s ago] (4,)
2026-01-13 23:20:48,944 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:48,945 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:48,945 INFO sqlalchemy.engine.Engine [cached since 289.8s ago] (4,)
2026-01-13 23:20:48,957 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:48,958 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:48,958 INFO sqlalchemy.engine.Engine [cached since 289.8s ago] ()
2026-01-13 23:20:48,962 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:48,963 INFO sqlalchemy.engine.Engine [cached since 289.9s ago] (4,)
2026-01-13 23:20:48,965 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:48,966 INFO sqlalchemy.engine.Engine [cached since 289.9s ago] (4,)
2026-01-13 23:20:48,967 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:48,967 INFO sqlalchemy.engine.Engine [cached since 289.8s ago] ()
INFO:     127.0.0.1:62560 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:20:48,970 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62555 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:48,972 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62558 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:20:48,976 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:48,978 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:48,978 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:48,978 INFO sqlalchemy.engine.Engine [cached since 289.8s ago] ()
2026-01-13 23:20:48,980 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:48,980 INFO sqlalchemy.engine.Engine [cached since 289.8s ago] ()
INFO:     127.0.0.1:62560 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:48,984 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:53,268 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:53,270 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:20:53,270 INFO sqlalchemy.engine.Engine [cached since 235.8s ago] (100, 0)
2026-01-13 23:20:53,272 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:20:53,272 INFO sqlalchemy.engine.Engine [cached since 294.2s ago] (1, 4, 5, 3, 2)
INFO:     127.0.0.1:62564 - "GET /api/notes HTTP/1.1" 200 OK
2026-01-13 23:20:53,274 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:57,588 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:57,590 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:57,590 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] (1,)
2026-01-13 23:20:57,591 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:57,591 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:57,591 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] (1,)
2026-01-13 23:20:57,595 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:57,595 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] (1,)
2026-01-13 23:20:57,595 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:57,595 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] (1,)
INFO:     127.0.0.1:62570 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:20:57,597 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62568 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:20:57,599 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:57,601 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:57,602 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:57,602 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] (1,)
2026-01-13 23:20:57,603 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:57,603 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:57,603 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] (1,)
2026-01-13 23:20:57,604 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:57,604 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] (1,)
2026-01-13 23:20:57,604 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:57,608 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] (1,)
INFO:     127.0.0.1:62570 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:20:57,609 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62572 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:20:57,610 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:57,641 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:57,642 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:57,642 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] ()
2026-01-13 23:20:57,642 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:57,642 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] ()
INFO:     127.0.0.1:62572 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:57,643 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:57,643 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:57,644 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:57,644 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] ()
2026-01-13 23:20:57,644 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:57,644 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] ()
INFO:     127.0.0.1:62570 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:57,645 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:58,349 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:58,350 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:58,350 INFO sqlalchemy.engine.Engine [cached since 299.3s ago] (4,)
2026-01-13 23:20:58,353 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:58,353 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:58,353 INFO sqlalchemy.engine.Engine [cached since 299.3s ago] (4,)
2026-01-13 23:20:58,356 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:58,356 INFO sqlalchemy.engine.Engine [cached since 299.2s ago] (4,)
2026-01-13 23:20:58,358 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:58,358 INFO sqlalchemy.engine.Engine [cached since 299.2s ago] (4,)
INFO:     127.0.0.1:62570 - "GET /api/notes/4 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62572 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:20:58,362 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:58,362 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:58,364 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:58,365 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:58,366 INFO sqlalchemy.engine.Engine [cached since 299.3s ago] (4,)
2026-01-13 23:20:58,367 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:58,368 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:20:58,368 INFO sqlalchemy.engine.Engine [cached since 299.3s ago] (4,)
2026-01-13 23:20:58,375 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:20:58,375 INFO sqlalchemy.engine.Engine [cached since 299.3s ago] (4,)
2026-01-13 23:20:58,376 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:20:58,376 INFO sqlalchemy.engine.Engine [cached since 299.3s ago] (4,)
INFO:     127.0.0.1:62570 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
INFO:     127.0.0.1:62568 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:20:58,383 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:58,385 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:58,386 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:58,386 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:58,386 INFO sqlalchemy.engine.Engine [cached since 299.2s ago] ()
2026-01-13 23:20:58,389 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:58,389 INFO sqlalchemy.engine.Engine [cached since 299.2s ago] ()
INFO:     127.0.0.1:62570 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:58,389 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:20:58,391 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:20:58,391 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:20:58,391 INFO sqlalchemy.engine.Engine [cached since 299.2s ago] ()
2026-01-13 23:20:58,392 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:20:58,392 INFO sqlalchemy.engine.Engine [cached since 299.2s ago] ()
INFO:     127.0.0.1:62568 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:20:58,393 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62576 - "OPTIONS /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:21:02,288 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:21:02,289 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:21:02,289 INFO sqlalchemy.engine.Engine [cached since 303.2s ago] (4,)
DEBUG: Updating note 4. Old Content: test 4

Start writin... New Content: test 4

Start writin...
2026-01-13 23:21:02,291 INFO sqlalchemy.engine.Engine INSERT INTO revisions (note_id, author_id, content_snapshot, created_at) VALUES (?, ?, ?, ?)
2026-01-13 23:21:02,292 INFO sqlalchemy.engine.Engine [cached since 14.45s ago] (4, 1, 'test 4\n\nStart writing here...', '2026-01-14 04:21:02.291846')
2026-01-13 23:21:02,294 INFO sqlalchemy.engine.Engine SELECT revisions.id 
FROM revisions 
WHERE revisions.note_id = ? ORDER BY revisions.created_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:21:02,294 INFO sqlalchemy.engine.Engine [cached since 14.44s ago] (4, -1, 4)
2026-01-13 23:21:02,296 INFO sqlalchemy.engine.Engine UPDATE notes SET content=?, updated_at=? WHERE notes.id = ?
2026-01-13 23:21:02,296 INFO sqlalchemy.engine.Engine [cached since 14.43s ago] ('test 4\n\nStart writing here...\n#abc\n', '2026-01-14 04:21:02.296424', 4)
2026-01-13 23:21:02,298 INFO sqlalchemy.engine.Engine DELETE FROM links WHERE links.source_note_id = ?
2026-01-13 23:21:02,298 INFO sqlalchemy.engine.Engine [cached since 14.43s ago] (4,)
2026-01-13 23:21:02,298 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags 
WHERE tags.name = ?
2026-01-13 23:21:02,298 INFO sqlalchemy.engine.Engine [cached since 14.43s ago] ('abc',)
2026-01-13 23:21:02,299 INFO sqlalchemy.engine.Engine DELETE FROM note_tags WHERE note_tags.note_id = ?
2026-01-13 23:21:02,299 INFO sqlalchemy.engine.Engine [cached since 14.42s ago] (4,)
2026-01-13 23:21:02,300 INFO sqlalchemy.engine.Engine INSERT INTO note_tags (note_id, tag_id) VALUES (?, ?)
2026-01-13 23:21:02,300 INFO sqlalchemy.engine.Engine [cached since 14.42s ago] (4, 1)
2026-01-13 23:21:02,301 INFO sqlalchemy.engine.Engine COMMIT
2026-01-13 23:21:02,303 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:21:02,303 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:21:02,303 INFO sqlalchemy.engine.Engine [cached since 14.42s ago] (4,)
DEBUG: Saved note 4. Content after refresh: test 4

Start writin...
2026-01-13 23:21:02,304 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:21:02,304 INFO sqlalchemy.engine.Engine [cached since 303.2s ago] (4,)
2026-01-13 23:21:02,305 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:21:02,305 INFO sqlalchemy.engine.Engine [cached since 303.2s ago] (4,)
INFO:     127.0.0.1:62576 - "PUT /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:21:02,307 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:21:02,310 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:21:02,311 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:21:02,311 INFO sqlalchemy.engine.Engine [cached since 303.2s ago] (4,)
2026-01-13 23:21:02,311 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:21:02,312 INFO sqlalchemy.engine.Engine [cached since 303.2s ago] (4,)
INFO:     127.0.0.1:62576 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:21:02,312 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:21:05,263 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:21:05,265 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:21:05,265 INFO sqlalchemy.engine.Engine [cached since 306.2s ago] (1,)
2026-01-13 23:21:05,266 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:21:05,266 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:21:05,266 INFO sqlalchemy.engine.Engine [cached since 306.2s ago] (1,)
2026-01-13 23:21:05,269 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:21:05,269 INFO sqlalchemy.engine.Engine [cached since 306.2s ago] (1,)
2026-01-13 23:21:05,270 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:21:05,270 INFO sqlalchemy.engine.Engine [cached since 306.2s ago] (1,)
INFO:     127.0.0.1:62581 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
INFO:     127.0.0.1:62579 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:21:05,273 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:21:05,273 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:21:05,276 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:21:05,276 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:21:05,276 INFO sqlalchemy.engine.Engine [cached since 306.2s ago] (1,)
2026-01-13 23:21:05,278 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:21:05,278 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:21:05,278 INFO sqlalchemy.engine.Engine [cached since 306.2s ago] (1,)
2026-01-13 23:21:05,279 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:21:05,279 INFO sqlalchemy.engine.Engine [cached since 306.2s ago] (1,)
2026-01-13 23:21:05,279 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:21:05,279 INFO sqlalchemy.engine.Engine [cached since 306.2s ago] (1,)
INFO:     127.0.0.1:62581 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:21:05,281 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62583 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:21:05,284 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:21:05,285 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:21:05,286 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:21:05,286 INFO sqlalchemy.engine.Engine [cached since 306.1s ago] ()
2026-01-13 23:21:05,286 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:21:05,286 INFO sqlalchemy.engine.Engine [cached since 306.1s ago] ()
INFO:     127.0.0.1:62583 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:21:05,287 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:21:05,288 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:21:05,288 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:21:05,288 INFO sqlalchemy.engine.Engine [cached since 306.1s ago] ()
2026-01-13 23:21:05,289 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:21:05,289 INFO sqlalchemy.engine.Engine [cached since 306.1s ago] ()
INFO:     127.0.0.1:62581 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:21:05,290 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:21:07,457 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:21:07,458 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:21:07,458 INFO sqlalchemy.engine.Engine [cached since 250s ago] (100, 0)
2026-01-13 23:21:07,459 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:21:07,459 INFO sqlalchemy.engine.Engine [cached since 308.4s ago] (4, 1, 5, 3, 2)
INFO:     127.0.0.1:62581 - "GET /api/notes HTTP/1.1" 200 OK
2026-01-13 23:21:07,460 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  StatReload detected changes in 'app/routers/notes.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70224]
INFO:     Started server process [70396]
INFO:     Waiting for application startup.
2026-01-13 23:22:00,754 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:22:00,754 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:22:00,754 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:22:00,754 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notes")
2026-01-13 23:22:00,754 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:22:00,755 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("links")
2026-01-13 23:22:00,755 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:22:00,755 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("revisions")
2026-01-13 23:22:00,755 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:22:00,755 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("tags")
2026-01-13 23:22:00,755 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:22:00,755 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("note_tags")
2026-01-13 23:22:00,755 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:22:00,756 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2026-01-13 23:22:28,559 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:22:28,570 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN note_tags AS note_tags_1 ON notes.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE tags.name = ? ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:22:28,570 INFO sqlalchemy.engine.Engine [generated in 0.00041s] ('abc', 100, 0)
2026-01-13 23:22:28,583 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?)
2026-01-13 23:22:28,584 INFO sqlalchemy.engine.Engine [generated in 0.00053s] (4, 1)
INFO:     127.0.0.1:62611 - "GET /api/notes?search=%23abc HTTP/1.1" 200 OK
2026-01-13 23:22:28,594 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:22:43,634 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:22:43,642 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:22:43,643 INFO sqlalchemy.engine.Engine [generated in 0.00097s] ()
2026-01-13 23:22:43,655 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:22:43,655 INFO sqlalchemy.engine.Engine [generated in 0.00016s] ()
2026-01-13 23:22:43,655 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:22:43,657 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:22:43,657 INFO sqlalchemy.engine.Engine [generated in 0.00023s] (100, 0)
2026-01-13 23:22:43,657 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:22:43,657 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:22:43,657 INFO sqlalchemy.engine.Engine [generated in 0.00008s] (5, 0)
INFO:     127.0.0.1:62624 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:22:43,658 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:22:43,661 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:22:43,661 INFO sqlalchemy.engine.Engine [cached since 15.08s ago] (4, 1, 5, 3, 2)
2026-01-13 23:22:43,662 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:22:43,662 INFO sqlalchemy.engine.Engine [cached since 15.08s ago] (2,)
2026-01-13 23:22:43,662 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:22:43,662 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:22:43,662 INFO sqlalchemy.engine.Engine [cached since 0.02055s ago] ()
INFO:     127.0.0.1:62626 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:22:43,663 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:22:43,666 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:22:43,666 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:22:43,666 INFO sqlalchemy.engine.Engine [cached since 0.009433s ago] (100, 0)
INFO:     127.0.0.1:62625 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
2026-01-13 23:22:43,667 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:22:43,667 INFO sqlalchemy.engine.Engine [cached since 0.01224s ago] ()
2026-01-13 23:22:43,667 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:22:43,668 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:22:43,668 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:22:43,668 INFO sqlalchemy.engine.Engine [cached since 0.01077s ago] (5, 0)
2026-01-13 23:22:43,669 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:22:43,669 INFO sqlalchemy.engine.Engine [cached since 15.09s ago] (2,)
INFO:     127.0.0.1:62624 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:22:43,669 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:22:43,670 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:22:43,670 INFO sqlalchemy.engine.Engine [cached since 15.09s ago] (4, 1, 5, 3, 2)
INFO:     127.0.0.1:62628 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:22:43,671 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62626 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
2026-01-13 23:22:43,672 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:22:46,160 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:22:46,163 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:22:46,163 INFO sqlalchemy.engine.Engine [generated in 0.00025s] (1,)
2026-01-13 23:22:46,168 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:22:46,169 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:22:46,170 INFO sqlalchemy.engine.Engine [generated in 0.00087s] (1,)
2026-01-13 23:22:46,172 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:22:46,173 INFO sqlalchemy.engine.Engine [cached since 17.59s ago] (1,)
2026-01-13 23:22:46,177 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:22:46,177 INFO sqlalchemy.engine.Engine [generated in 0.00031s] (1,)
INFO:     127.0.0.1:62626 - "GET /api/notes/1 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62628 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:22:46,184 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:22:46,184 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:22:46,185 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:22:46,185 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:22:46,186 INFO sqlalchemy.engine.Engine [cached since 0.02247s ago] (1,)
2026-01-13 23:22:46,187 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:22:46,187 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:22:46,187 INFO sqlalchemy.engine.Engine [cached since 0.01817s ago] (1,)
2026-01-13 23:22:46,190 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:22:46,190 INFO sqlalchemy.engine.Engine [cached since 0.01314s ago] (1,)
2026-01-13 23:22:46,190 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:22:46,190 INFO sqlalchemy.engine.Engine [cached since 17.61s ago] (1,)
INFO:     127.0.0.1:62625 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
INFO:     127.0.0.1:62624 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:22:46,194 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:22:46,194 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:22:46,203 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:22:46,203 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:22:46,203 INFO sqlalchemy.engine.Engine [cached since 2.562s ago] ()
2026-01-13 23:22:46,205 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:22:46,205 INFO sqlalchemy.engine.Engine [cached since 2.55s ago] ()
INFO:     127.0.0.1:62624 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:22:46,206 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:22:46,208 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:22:46,208 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:22:46,208 INFO sqlalchemy.engine.Engine [cached since 2.566s ago] ()
2026-01-13 23:22:46,209 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:22:46,209 INFO sqlalchemy.engine.Engine [cached since 2.555s ago] ()
INFO:     127.0.0.1:62625 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:22:46,215 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:22:48,422 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:22:48,422 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN note_tags AS note_tags_1 ON notes.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE tags.name = ? ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:22:48,422 INFO sqlalchemy.engine.Engine [cached since 19.85s ago] ('abc', 100, 0)
2026-01-13 23:22:48,424 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?)
2026-01-13 23:22:48,424 INFO sqlalchemy.engine.Engine [cached since 19.84s ago] (4, 1)
INFO:     127.0.0.1:62625 - "GET /api/notes?search=%23abc HTTP/1.1" 200 OK
2026-01-13 23:22:48,425 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:22:48,429 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:22:48,430 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN note_tags AS note_tags_1 ON notes.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE tags.name = ? ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:22:48,430 INFO sqlalchemy.engine.Engine [cached since 19.86s ago] ('abc', 100, 0)
2026-01-13 23:22:48,435 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?)
2026-01-13 23:22:48,435 INFO sqlalchemy.engine.Engine [cached since 19.85s ago] (4, 1)
INFO:     127.0.0.1:62624 - "GET /api/notes?search=%23abc HTTP/1.1" 200 OK
2026-01-13 23:22:48,439 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  StatReload detected changes in 'app/schemas.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70396]
INFO:     Started server process [70504]
INFO:     Waiting for application startup.
2026-01-13 23:24:33,667 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:24:33,667 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:24:33,667 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:24:33,667 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notes")
2026-01-13 23:24:33,667 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:24:33,668 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("links")
2026-01-13 23:24:33,668 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:24:33,668 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("revisions")
2026-01-13 23:24:33,668 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:24:33,668 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("tags")
2026-01-13 23:24:33,668 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:24:33,668 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("note_tags")
2026-01-13 23:24:33,668 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:24:33,668 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/schemas.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70504]
INFO:     Started server process [70513]
INFO:     Waiting for application startup.
2026-01-13 23:24:42,148 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:24:42,148 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:24:42,148 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:24:42,148 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notes")
2026-01-13 23:24:42,148 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:24:42,149 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("links")
2026-01-13 23:24:42,149 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:24:42,149 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("revisions")
2026-01-13 23:24:42,149 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:24:42,149 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("tags")
2026-01-13 23:24:42,149 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:24:42,149 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("note_tags")
2026-01-13 23:24:42,149 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:24:42,150 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2026-01-13 23:25:08,876 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:25:08,890 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:25:08,891 INFO sqlalchemy.engine.Engine [generated in 0.00059s] ()
INFO:     127.0.0.1:62683 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:25:08,899 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:25:35,410 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:25:35,412 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:25:35,412 INFO sqlalchemy.engine.Engine [cached since 26.52s ago] ()
INFO:     127.0.0.1:62699 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:25:35,430 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:25:35,430 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:25:35,435 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:25:35,435 INFO sqlalchemy.engine.Engine [generated in 0.00019s] (100, 0)
2026-01-13 23:25:35,440 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:25:35,440 INFO sqlalchemy.engine.Engine [generated in 0.00022s] (4, 1, 5, 3, 2)
INFO:     127.0.0.1:62701 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
2026-01-13 23:25:35,444 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:25:35,453 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:25:35,453 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:25:35,453 INFO sqlalchemy.engine.Engine [cached since 26.56s ago] ()
INFO:     127.0.0.1:62701 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:25:35,454 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:25:35,677 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:25:35,683 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:25:35,683 INFO sqlalchemy.engine.Engine [cached since 0.2477s ago] (100, 0)
2026-01-13 23:25:35,702 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:25:35,703 INFO sqlalchemy.engine.Engine [cached since 0.2623s ago] (4, 1, 5, 3, 2)
INFO:     127.0.0.1:62701 - "GET /api/notes HTTP/1.1" 200 OK
2026-01-13 23:25:35,733 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:25:37,768 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:25:37,774 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:25:37,775 INFO sqlalchemy.engine.Engine [generated in 0.00196s] (4,)
2026-01-13 23:25:37,778 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:25:37,781 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:25:37,782 INFO sqlalchemy.engine.Engine [generated in 0.00038s] (4,)
2026-01-13 23:25:37,786 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:25:37,786 INFO sqlalchemy.engine.Engine [cached since 2.346s ago] (4,)
2026-01-13 23:25:37,789 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:25:37,789 INFO sqlalchemy.engine.Engine [generated in 0.00026s] (4,)
INFO:     127.0.0.1:62701 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:25:37,792 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:25:37,795 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:25:37,796 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:25:37,796 INFO sqlalchemy.engine.Engine [cached since 0.02227s ago] (4,)
INFO:     127.0.0.1:62699 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:25:37,796 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:25:37,802 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:25:37,802 INFO sqlalchemy.engine.Engine [cached since 2.362s ago] (4,)
2026-01-13 23:25:37,803 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:25:37,804 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:25:37,804 INFO sqlalchemy.engine.Engine [cached since 0.02282s ago] (4,)
INFO:     127.0.0.1:62703 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:25:37,807 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:25:37,811 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:25:37,811 INFO sqlalchemy.engine.Engine [cached since 0.0223s ago] (4,)
INFO:     127.0.0.1:62701 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:25:37,813 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:25:37,843 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:25:37,844 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:25:37,844 INFO sqlalchemy.engine.Engine [generated in 0.00022s] ()
2026-01-13 23:25:37,850 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:25:37,850 INFO sqlalchemy.engine.Engine [generated in 0.00075s] ()
INFO:     127.0.0.1:62701 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:25:37,862 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:25:37,863 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:25:37,864 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:25:37,864 INFO sqlalchemy.engine.Engine [cached since 0.02034s ago] ()
2026-01-13 23:25:37,865 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:25:37,865 INFO sqlalchemy.engine.Engine [cached since 0.01517s ago] ()
INFO:     127.0.0.1:62703 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:25:37,865 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  StatReload detected changes in 'app/models.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70513]
INFO:     Started server process [70711]
INFO:     Waiting for application startup.
2026-01-13 23:27:54,307 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:27:54,307 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:27:54,307 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:27:54,310 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notes")
2026-01-13 23:27:54,310 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:27:54,310 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("links")
2026-01-13 23:27:54,310 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:27:54,310 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("revisions")
2026-01-13 23:27:54,310 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:27:54,311 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("tags")
2026-01-13 23:27:54,311 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:27:54,311 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("note_tags")
2026-01-13 23:27:54,311 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:27:54,311 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("attachments")
2026-01-13 23:27:54,311 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:27:54,311 INFO sqlalchemy.engine.Engine PRAGMA temp.table_info("attachments")
2026-01-13 23:27:54,311 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:27:54,312 INFO sqlalchemy.engine.Engine 
CREATE TABLE attachments (
	id INTEGER NOT NULL, 
	filename VARCHAR, 
	original_name VARCHAR, 
	content_type VARCHAR, 
	size_bytes INTEGER, 
	note_id INTEGER, 
	created_at TIMESTAMP, 
	PRIMARY KEY (id), 
	FOREIGN KEY(note_id) REFERENCES notes (id)
)


2026-01-13 23:27:54,312 INFO sqlalchemy.engine.Engine [no key 0.00004s] ()
2026-01-13 23:27:54,317 INFO sqlalchemy.engine.Engine CREATE UNIQUE INDEX ix_attachments_filename ON attachments (filename)
2026-01-13 23:27:54,317 INFO sqlalchemy.engine.Engine [no key 0.00006s] ()
2026-01-13 23:27:54,317 INFO sqlalchemy.engine.Engine CREATE INDEX ix_attachments_id ON attachments (id)
2026-01-13 23:27:54,317 INFO sqlalchemy.engine.Engine [no key 0.00002s] ()
2026-01-13 23:27:54,318 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  StatReload detected changes in 'app/main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [70711]
INFO:     Started server process [70721]
INFO:     Waiting for application startup.
2026-01-13 23:28:36,393 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:28:36,393 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("users")
2026-01-13 23:28:36,393 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:28:36,393 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("notes")
2026-01-13 23:28:36,393 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:28:36,394 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("links")
2026-01-13 23:28:36,394 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:28:36,394 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("revisions")
2026-01-13 23:28:36,394 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:28:36,394 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("tags")
2026-01-13 23:28:36,394 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:28:36,394 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("note_tags")
2026-01-13 23:28:36,394 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:28:36,395 INFO sqlalchemy.engine.Engine PRAGMA main.table_info("attachments")
2026-01-13 23:28:36,395 INFO sqlalchemy.engine.Engine [raw sql] ()
2026-01-13 23:28:36,395 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2026-01-13 23:29:57,611 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:29:57,714 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:29:57,716 INFO sqlalchemy.engine.Engine [generated in 0.00022s] ()
2026-01-13 23:29:57,762 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:29:57,764 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:29:57,764 INFO sqlalchemy.engine.Engine [generated in 0.00015s] (100, 0)
2026-01-13 23:29:57,764 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:29:57,765 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:29:57,765 INFO sqlalchemy.engine.Engine [generated in 0.00007s] (4,)
2026-01-13 23:29:57,766 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:29:57,766 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:29:57,766 INFO sqlalchemy.engine.Engine [generated in 0.00007s] (4,)
2026-01-13 23:29:57,773 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:29:57,774 INFO sqlalchemy.engine.Engine [generated in 0.00017s] (4,)
2026-01-13 23:29:57,780 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:29:57,780 INFO sqlalchemy.engine.Engine [generated in 0.00024s] (4, 1, 5, 3, 2)
2026-01-13 23:29:57,781 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:29:57,781 INFO sqlalchemy.engine.Engine [cached since 0.0008735s ago] (4,)
INFO:     127.0.0.1:62818 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:29:57,784 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62814 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:29:57,792 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62816 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:29:57,796 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62819 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
2026-01-13 23:29:57,799 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:29:57,857 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:29:57,857 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:29:57,857 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ()
2026-01-13 23:29:57,859 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:29:57,859 INFO sqlalchemy.engine.Engine [generated in 0.00011s] ()
INFO:     127.0.0.1:62819 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:29:57,860 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:29:57,861 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:29:57,861 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:29:57,861 INFO sqlalchemy.engine.Engine [cached since 0.003885s ago] ()
2026-01-13 23:29:57,861 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:29:57,861 INFO sqlalchemy.engine.Engine [cached since 0.002624s ago] ()
INFO:     127.0.0.1:62816 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:29:57,862 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:29:57,891 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:29:57,891 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:29:57,892 INFO sqlalchemy.engine.Engine [cached since 0.1775s ago] ()
INFO:     127.0.0.1:62816 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:29:57,895 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:34:15,482 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:34:15,504 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:34:15,509 INFO sqlalchemy.engine.Engine [cached since 257.6s ago] ()
2026-01-13 23:34:15,540 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:34:15,540 INFO sqlalchemy.engine.Engine [cached since 257.7s ago] ()
INFO:     127.0.0.1:62869 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:34:15,561 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:34:17,890 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:34:17,894 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:34:17,894 INFO sqlalchemy.engine.Engine [cached since 260.2s ago] ()
2026-01-13 23:34:17,919 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:34:17,920 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:34:17,920 INFO sqlalchemy.engine.Engine [cached since 260.1s ago] (4,)
2026-01-13 23:34:17,921 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:34:17,921 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:34:17,921 INFO sqlalchemy.engine.Engine [cached since 260.1s ago] (4,)
2026-01-13 23:34:17,927 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:34:17,928 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:34:17,928 INFO sqlalchemy.engine.Engine [cached since 260.2s ago] (100, 0)
INFO:     127.0.0.1:62883 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:34:17,950 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:34:17,950 INFO sqlalchemy.engine.Engine [cached since 260.2s ago] (4,)
2026-01-13 23:34:17,950 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:34:17,957 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:34:17,957 INFO sqlalchemy.engine.Engine [cached since 260.2s ago] (4,)
2026-01-13 23:34:17,960 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:34:17,960 INFO sqlalchemy.engine.Engine [cached since 260.2s ago] (4, 1, 5, 3, 2)
INFO:     127.0.0.1:62885 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:34:17,962 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62884 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:34:17,970 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62887 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
2026-01-13 23:34:17,972 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:34:18,007 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:34:18,007 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:34:18,007 INFO sqlalchemy.engine.Engine [cached since 260.1s ago] ()
2026-01-13 23:34:18,009 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:34:18,009 INFO sqlalchemy.engine.Engine [cached since 260.1s ago] ()
INFO:     127.0.0.1:62887 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:34:18,013 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:34:18,017 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:34:18,018 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:34:18,018 INFO sqlalchemy.engine.Engine [cached since 260.1s ago] ()
2026-01-13 23:34:18,019 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:34:18,019 INFO sqlalchemy.engine.Engine [cached since 260.1s ago] ()
INFO:     127.0.0.1:62884 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:34:18,021 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:34:18,061 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:34:18,061 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:34:18,062 INFO sqlalchemy.engine.Engine [cached since 260.3s ago] ()
INFO:     127.0.0.1:62884 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:34:18,063 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:36:05,107 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:36:05,112 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:36:05,113 INFO sqlalchemy.engine.Engine [cached since 367.4s ago] ()
2026-01-13 23:36:05,140 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:36:05,142 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:36:05,142 INFO sqlalchemy.engine.Engine [cached since 367.4s ago] (4,)
2026-01-13 23:36:05,143 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:36:05,145 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:36:05,145 INFO sqlalchemy.engine.Engine [cached since 367.4s ago] (4,)
2026-01-13 23:36:05,150 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:36:05,151 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:36:05,151 INFO sqlalchemy.engine.Engine [cached since 367.4s ago] (100, 0)
2026-01-13 23:36:05,164 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:36:05,164 INFO sqlalchemy.engine.Engine [cached since 367.4s ago] (4,)
2026-01-13 23:36:05,167 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:36:05,167 INFO sqlalchemy.engine.Engine [cached since 367.4s ago] (4,)
2026-01-13 23:36:05,168 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:36:05,168 INFO sqlalchemy.engine.Engine [cached since 367.4s ago] (4, 1, 5, 3, 2)
INFO:     127.0.0.1:62936 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:36:05,177 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62941 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:36:05,177 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62940 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:36:05,182 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62942 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
2026-01-13 23:36:05,185 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:36:05,211 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:36:05,211 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:36:05,211 INFO sqlalchemy.engine.Engine [cached since 367.3s ago] ()
2026-01-13 23:36:05,212 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:36:05,212 INFO sqlalchemy.engine.Engine [cached since 367.3s ago] ()
INFO:     127.0.0.1:62942 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:36:05,214 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:36:05,215 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:36:05,215 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:36:05,215 INFO sqlalchemy.engine.Engine [cached since 367.3s ago] ()
2026-01-13 23:36:05,216 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:36:05,216 INFO sqlalchemy.engine.Engine [cached since 367.3s ago] ()
INFO:     127.0.0.1:62940 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:36:05,217 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:36:05,225 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:36:05,225 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:36:05,225 INFO sqlalchemy.engine.Engine [cached since 367.5s ago] ()
INFO:     127.0.0.1:62940 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:36:05,228 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:36:10,620 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:36:10,622 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:36:10,622 INFO sqlalchemy.engine.Engine [cached since 372.8s ago] ()
2026-01-13 23:36:10,624 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:36:10,624 INFO sqlalchemy.engine.Engine [cached since 372.8s ago] ()
INFO:     127.0.0.1:62947 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:36:10,632 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:36:10,636 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:36:10,636 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:36:10,636 INFO sqlalchemy.engine.Engine [cached since 372.8s ago] ()
2026-01-13 23:36:10,637 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:36:10,637 INFO sqlalchemy.engine.Engine [cached since 372.8s ago] ()
INFO:     127.0.0.1:62947 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:36:10,638 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:36:49,167 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:36:49,168 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:36:49,168 INFO sqlalchemy.engine.Engine [cached since 411.3s ago] ()
2026-01-13 23:36:49,172 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:36:49,172 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:36:49,173 INFO sqlalchemy.engine.Engine [cached since 411.4s ago] (5, 0)
2026-01-13 23:36:49,173 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:36:49,192 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:36:49,192 INFO sqlalchemy.engine.Engine [generated in 0.00065s] (100, 0)
2026-01-13 23:36:49,201 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:36:49,201 INFO sqlalchemy.engine.Engine [cached since 411.4s ago] (4, 1, 5, 3, 2)
2026-01-13 23:36:49,202 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:36:49,202 INFO sqlalchemy.engine.Engine [cached since 411.3s ago] ()
2026-01-13 23:36:49,205 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:36:49,205 INFO sqlalchemy.engine.Engine [cached since 411.4s ago] (2,)
INFO:     127.0.0.1:62958 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:36:49,212 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62959 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
INFO:     127.0.0.1:62960 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:36:49,216 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:36:49,218 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:36:49,218 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:36:49,218 INFO sqlalchemy.engine.Engine [cached since 411.4s ago] ()
2026-01-13 23:36:49,219 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:36:49,227 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:36:49,227 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:36:49,228 INFO sqlalchemy.engine.Engine [cached since 411.5s ago] (5, 0)
2026-01-13 23:36:49,234 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:36:49,235 INFO sqlalchemy.engine.Engine [cached since 411.4s ago] ()
2026-01-13 23:36:49,253 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:36:49,255 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:36:49,256 INFO sqlalchemy.engine.Engine [cached since 0.06377s ago] (100, 0)
2026-01-13 23:36:49,262 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:36:49,264 INFO sqlalchemy.engine.Engine [cached since 411.5s ago] (4, 1, 5, 3, 2)
INFO:     127.0.0.1:62958 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:36:49,270 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62962 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
2026-01-13 23:36:49,303 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:36:49,309 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:36:49,311 INFO sqlalchemy.engine.Engine [cached since 411.5s ago] (2,)
INFO:     127.0.0.1:62959 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:36:49,314 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62966 - "GET /api/notes/search HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:62968 - "GET /api/notes/search/backlinks HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:62966 - "GET /api/notes/search HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:62970 - "GET /api/notes/search/backlinks HTTP/1.1" 422 Unprocessable Entity
2026-01-13 23:37:00,766 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:37:00,768 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:37:00,768 INFO sqlalchemy.engine.Engine [cached since 423s ago] (100, 0)
2026-01-13 23:37:00,775 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:37:00,775 INFO sqlalchemy.engine.Engine [cached since 423s ago] (4, 1, 5, 3, 2)
INFO:     127.0.0.1:62970 - "GET /api/notes HTTP/1.1" 200 OK
2026-01-13 23:37:00,777 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:37:02,313 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:37:02,314 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:37:02,314 INFO sqlalchemy.engine.Engine [cached since 424.4s ago] ()
2026-01-13 23:37:02,315 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:37:02,315 INFO sqlalchemy.engine.Engine [cached since 424.4s ago] ()
INFO:     127.0.0.1:62976 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:37:02,322 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:37:02,324 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:37:02,324 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:37:02,324 INFO sqlalchemy.engine.Engine [cached since 424.5s ago] ()
2026-01-13 23:37:02,324 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:37:02,324 INFO sqlalchemy.engine.Engine [cached since 424.5s ago] ()
INFO:     127.0.0.1:62978 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:37:02,325 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:37:03,285 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:37:03,285 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:37:03,285 INFO sqlalchemy.engine.Engine [cached since 425.5s ago] (1,)
2026-01-13 23:37:03,286 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:37:03,286 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:37:03,286 INFO sqlalchemy.engine.Engine [cached since 425.5s ago] (1,)
2026-01-13 23:37:03,287 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:37:03,287 INFO sqlalchemy.engine.Engine [cached since 425.5s ago] (1,)
2026-01-13 23:37:03,287 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:37:03,287 INFO sqlalchemy.engine.Engine [cached since 425.5s ago] (1,)
INFO:     127.0.0.1:62978 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:37:03,289 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:37:03,290 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:37:03,292 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:37:03,292 INFO sqlalchemy.engine.Engine [cached since 425.5s ago] (1,)
INFO:     127.0.0.1:62976 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:37:03,300 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:37:03,301 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:37:03,302 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:37:03,302 INFO sqlalchemy.engine.Engine [cached since 425.5s ago] (1,)
2026-01-13 23:37:03,302 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:37:03,302 INFO sqlalchemy.engine.Engine [cached since 425.5s ago] (1,)
2026-01-13 23:37:03,303 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:37:03,303 INFO sqlalchemy.engine.Engine [cached since 425.5s ago] (1,)
INFO:     127.0.0.1:62980 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:37:03,304 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62978 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:37:03,306 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:37:03,334 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:37:03,334 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:37:03,334 INFO sqlalchemy.engine.Engine [cached since 425.5s ago] ()
2026-01-13 23:37:03,334 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:37:03,334 INFO sqlalchemy.engine.Engine [cached since 425.5s ago] ()
INFO:     127.0.0.1:62978 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:37:03,335 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:37:03,336 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:37:03,336 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:37:03,336 INFO sqlalchemy.engine.Engine [cached since 425.5s ago] ()
2026-01-13 23:37:03,337 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:37:03,337 INFO sqlalchemy.engine.Engine [cached since 425.5s ago] ()
INFO:     127.0.0.1:62978 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:37:03,337 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:38:43,799 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:38:43,823 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:38:43,825 INFO sqlalchemy.engine.Engine [cached since 526.1s ago] ()
2026-01-13 23:38:43,846 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:38:43,848 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:38:43,850 INFO sqlalchemy.engine.Engine [cached since 526.1s ago] (1,)
2026-01-13 23:38:43,851 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:38:43,851 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:38:43,851 INFO sqlalchemy.engine.Engine [cached since 526.1s ago] (1,)
2026-01-13 23:38:43,857 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:38:43,858 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:38:43,858 INFO sqlalchemy.engine.Engine [cached since 526.1s ago] (100, 0)
2026-01-13 23:38:43,872 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:38:43,872 INFO sqlalchemy.engine.Engine [cached since 526.1s ago] (4, 1, 5, 3, 2)
2026-01-13 23:38:43,874 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:38:43,874 INFO sqlalchemy.engine.Engine [cached since 526.1s ago] (1,)
2026-01-13 23:38:43,875 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:38:43,875 INFO sqlalchemy.engine.Engine [cached since 526.1s ago] (1,)
INFO:     127.0.0.1:63021 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:38:43,885 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63027 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63025 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:38:43,893 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:38:43,893 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63023 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:38:43,895 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:38:58,172 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:38:58,178 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:38:58,179 INFO sqlalchemy.engine.Engine [cached since 540.5s ago] ()
2026-01-13 23:38:58,188 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:38:58,189 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:38:58,189 INFO sqlalchemy.engine.Engine [cached since 540.4s ago] (1,)
2026-01-13 23:38:58,190 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:38:58,190 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:38:58,190 INFO sqlalchemy.engine.Engine [cached since 540.4s ago] (1,)
2026-01-13 23:38:58,193 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:38:58,194 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:38:58,194 INFO sqlalchemy.engine.Engine [cached since 540.4s ago] (100, 0)
INFO:     127.0.0.1:63046 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:38:58,200 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:38:58,200 INFO sqlalchemy.engine.Engine [cached since 540.4s ago] (1,)
2026-01-13 23:38:58,200 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:38:58,201 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:38:58,201 INFO sqlalchemy.engine.Engine [cached since 540.4s ago] (1,)
2026-01-13 23:38:58,202 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:38:58,202 INFO sqlalchemy.engine.Engine [cached since 540.4s ago] (4, 1, 5, 3, 2)
INFO:     127.0.0.1:63048 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:38:58,203 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63050 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:38:58,208 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63051 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
2026-01-13 23:38:58,211 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:38:58,250 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:38:58,250 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:38:58,251 INFO sqlalchemy.engine.Engine [cached since 540.4s ago] ()
2026-01-13 23:38:58,253 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:38:58,253 INFO sqlalchemy.engine.Engine [cached since 540.4s ago] ()
INFO:     127.0.0.1:63051 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:38:58,256 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:38:58,258 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:38:58,258 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:38:58,258 INFO sqlalchemy.engine.Engine [cached since 540.4s ago] ()
2026-01-13 23:38:58,260 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:38:58,260 INFO sqlalchemy.engine.Engine [cached since 540.4s ago] ()
INFO:     127.0.0.1:63050 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:38:58,261 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:38:58,271 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:38:58,271 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:38:58,271 INFO sqlalchemy.engine.Engine [cached since 540.5s ago] ()
INFO:     127.0.0.1:63050 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:38:58,272 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:41:57,197 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:41:57,206 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:41:57,207 INFO sqlalchemy.engine.Engine [cached since 719.5s ago] ()
2026-01-13 23:41:57,231 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:41:57,232 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:41:57,232 INFO sqlalchemy.engine.Engine [cached since 719.5s ago] (1,)
2026-01-13 23:41:57,232 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:41:57,232 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:41:57,232 INFO sqlalchemy.engine.Engine [cached since 719.5s ago] (1,)
2026-01-13 23:41:57,237 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:41:57,237 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:41:57,237 INFO sqlalchemy.engine.Engine [cached since 719.5s ago] (100, 0)
2026-01-13 23:41:57,243 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:41:57,243 INFO sqlalchemy.engine.Engine [cached since 719.5s ago] (1,)
INFO:     127.0.0.1:63112 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:41:57,249 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:41:57,254 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:41:57,254 INFO sqlalchemy.engine.Engine [cached since 719.5s ago] (1,)
2026-01-13 23:41:57,255 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:41:57,255 INFO sqlalchemy.engine.Engine [cached since 719.5s ago] (4, 1, 5, 3, 2)
INFO:     127.0.0.1:63115 - "GET /api/notes/1/backlinks HTTP/1.1" 200 OK
2026-01-13 23:41:57,259 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63113 - "GET /api/notes/1 HTTP/1.1" 200 OK
2026-01-13 23:41:57,268 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63117 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
2026-01-13 23:41:57,270 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:41:57,302 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:41:57,305 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:41:57,305 INFO sqlalchemy.engine.Engine [cached since 719.4s ago] ()
2026-01-13 23:41:57,315 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:41:57,315 INFO sqlalchemy.engine.Engine [cached since 719.4s ago] ()
INFO:     127.0.0.1:63117 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:41:57,320 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:41:57,320 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:41:57,321 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:41:57,321 INFO sqlalchemy.engine.Engine [cached since 719.6s ago] ()
2026-01-13 23:41:57,321 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:41:57,321 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:41:57,321 INFO sqlalchemy.engine.Engine [cached since 719.5s ago] ()
INFO:     127.0.0.1:63113 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:41:57,322 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:41:57,322 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:41:57,323 INFO sqlalchemy.engine.Engine [cached since 719.5s ago] ()
INFO:     127.0.0.1:63115 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:41:57,323 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:42:16,191 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:16,193 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:42:16,194 INFO sqlalchemy.engine.Engine [cached since 738.3s ago] ()
2026-01-13 23:42:16,197 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:16,197 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:42:16,197 INFO sqlalchemy.engine.Engine [cached since 738.4s ago] (5, 0)
2026-01-13 23:42:16,200 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:16,200 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:42:16,201 INFO sqlalchemy.engine.Engine [cached since 327s ago] (100, 0)
2026-01-13 23:42:16,204 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:42:16,204 INFO sqlalchemy.engine.Engine [cached since 738.4s ago] (2,)
2026-01-13 23:42:16,204 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:42:16,204 INFO sqlalchemy.engine.Engine [cached since 738.3s ago] ()
2026-01-13 23:42:16,204 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:42:16,204 INFO sqlalchemy.engine.Engine [cached since 738.4s ago] (4, 1, 5, 3, 2)
INFO:     127.0.0.1:63129 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:42:16,207 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:42:16,209 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:16,210 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:42:16,210 INFO sqlalchemy.engine.Engine [cached since 327s ago] (100, 0)
INFO:     127.0.0.1:63126 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:42:16,211 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:42:16,213 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:16,213 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:42:16,213 INFO sqlalchemy.engine.Engine [cached since 738.3s ago] ()
INFO:     127.0.0.1:63128 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
2026-01-13 23:42:16,214 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:42:16,215 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:42:16,215 INFO sqlalchemy.engine.Engine [cached since 738.4s ago] (2,)
2026-01-13 23:42:16,217 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:16,217 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:42:16,217 INFO sqlalchemy.engine.Engine [cached since 738.4s ago] (5, 0)
2026-01-13 23:42:16,223 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:42:16,223 INFO sqlalchemy.engine.Engine [cached since 738.4s ago] ()
INFO:     127.0.0.1:63129 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:42:16,224 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:42:16,225 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:42:16,225 INFO sqlalchemy.engine.Engine [cached since 738.4s ago] (4, 1, 5, 3, 2)
INFO:     127.0.0.1:63131 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:42:16,227 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63133 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
2026-01-13 23:42:16,228 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63137 - "GET /api/notes/search HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:63139 - "GET /api/notes/search/backlinks HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:63141 - "GET /api/notes/search HTTP/1.1" 422 Unprocessable Entity
INFO:     127.0.0.1:63137 - "GET /api/notes/search/backlinks HTTP/1.1" 422 Unprocessable Entity
2026-01-13 23:42:44,289 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:44,290 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:42:44,290 INFO sqlalchemy.engine.Engine [cached since 766.5s ago] (100, 0)
2026-01-13 23:42:44,294 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:42:44,294 INFO sqlalchemy.engine.Engine [cached since 766.5s ago] (4, 1, 5, 3, 2)
INFO:     127.0.0.1:63141 - "GET /api/notes HTTP/1.1" 200 OK
2026-01-13 23:42:44,296 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:42:45,683 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:45,684 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:42:45,684 INFO sqlalchemy.engine.Engine [cached since 767.9s ago] (4,)
2026-01-13 23:42:45,685 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:45,685 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:42:45,685 INFO sqlalchemy.engine.Engine [cached since 767.9s ago] (4,)
2026-01-13 23:42:45,686 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:42:45,686 INFO sqlalchemy.engine.Engine [cached since 767.9s ago] (4,)
2026-01-13 23:42:45,687 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:42:45,687 INFO sqlalchemy.engine.Engine [cached since 767.9s ago] (4,)
INFO:     127.0.0.1:63141 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:42:45,689 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63137 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:42:45,691 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:42:45,691 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:45,692 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:42:45,692 INFO sqlalchemy.engine.Engine [cached since 767.9s ago] (4,)
2026-01-13 23:42:45,692 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:45,692 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:42:45,693 INFO sqlalchemy.engine.Engine [cached since 767.9s ago] (4,)
2026-01-13 23:42:45,696 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:42:45,696 INFO sqlalchemy.engine.Engine [cached since 767.9s ago] (4,)
2026-01-13 23:42:45,697 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:42:45,697 INFO sqlalchemy.engine.Engine [cached since 767.9s ago] (4,)
INFO:     127.0.0.1:63141 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:42:45,700 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63139 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:42:45,702 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:42:45,717 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:45,717 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:42:45,717 INFO sqlalchemy.engine.Engine [cached since 767.9s ago] ()
2026-01-13 23:42:45,718 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:42:45,718 INFO sqlalchemy.engine.Engine [cached since 767.9s ago] ()
INFO:     127.0.0.1:63139 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:42:45,720 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:42:45,721 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:45,721 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:42:45,721 INFO sqlalchemy.engine.Engine [cached since 767.9s ago] ()
2026-01-13 23:42:45,722 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:42:45,722 INFO sqlalchemy.engine.Engine [cached since 767.9s ago] ()
INFO:     127.0.0.1:63141 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:42:45,723 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:42:58,901 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:58,902 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:42:58,902 INFO sqlalchemy.engine.Engine [cached since 781.2s ago] ()
2026-01-13 23:42:58,903 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:58,903 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:42:58,903 INFO sqlalchemy.engine.Engine [cached since 781.1s ago] (4,)
2026-01-13 23:42:58,903 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:58,904 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.id = ?
2026-01-13 23:42:58,904 INFO sqlalchemy.engine.Engine [cached since 781.1s ago] (4,)
2026-01-13 23:42:58,904 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:58,904 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:42:58,904 INFO sqlalchemy.engine.Engine [cached since 781.1s ago] (100, 0)
2026-01-13 23:42:58,906 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:42:58,906 INFO sqlalchemy.engine.Engine [cached since 781.1s ago] (4,)
INFO:     127.0.0.1:63157 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:42:58,907 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:42:58,907 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes JOIN links ON links.source_note_id = notes.id 
WHERE links.target_note_id = ?
2026-01-13 23:42:58,907 INFO sqlalchemy.engine.Engine [cached since 781.1s ago] (4,)
2026-01-13 23:42:58,908 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:42:58,908 INFO sqlalchemy.engine.Engine [cached since 781.1s ago] (4, 1, 5, 3, 2)
INFO:     127.0.0.1:63159 - "GET /api/notes/4 HTTP/1.1" 200 OK
2026-01-13 23:42:58,909 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63161 - "GET /api/notes/4/backlinks HTTP/1.1" 200 OK
2026-01-13 23:42:58,910 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63162 - "GET /api/notes?limit=100 HTTP/1.1" 200 OK
2026-01-13 23:42:58,911 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:42:58,935 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:58,935 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:42:58,935 INFO sqlalchemy.engine.Engine [cached since 781.1s ago] ()
2026-01-13 23:42:58,938 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:42:58,938 INFO sqlalchemy.engine.Engine [cached since 781.1s ago] ()
INFO:     127.0.0.1:63162 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:42:58,942 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:42:58,943 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:58,944 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:42:58,944 INFO sqlalchemy.engine.Engine [cached since 781.1s ago] ()
2026-01-13 23:42:58,949 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:42:58,949 INFO sqlalchemy.engine.Engine [cached since 781.1s ago] ()
INFO:     127.0.0.1:63161 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:42:58,951 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:42:58,954 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:42:58,954 INFO sqlalchemy.engine.Engine SELECT tags.id, tags.name 
FROM tags ORDER BY tags.name
2026-01-13 23:42:58,954 INFO sqlalchemy.engine.Engine [cached since 781.2s ago] ()
INFO:     127.0.0.1:63162 - "GET /api/tags HTTP/1.1" 200 OK
2026-01-13 23:42:58,956 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:43:11,814 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:43:11,817 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:43:11,817 INFO sqlalchemy.engine.Engine [cached since 794s ago] ()
2026-01-13 23:43:11,820 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:43:11,821 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:43:11,821 INFO sqlalchemy.engine.Engine [cached since 794.1s ago] (5, 0)
2026-01-13 23:43:11,822 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:43:11,822 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:43:11,822 INFO sqlalchemy.engine.Engine [cached since 382.6s ago] (100, 0)
2026-01-13 23:43:11,827 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:43:11,827 INFO sqlalchemy.engine.Engine [cached since 794s ago] (2,)
2026-01-13 23:43:11,828 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:43:11,828 INFO sqlalchemy.engine.Engine [cached since 794s ago] ()
2026-01-13 23:43:11,828 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:43:11,830 INFO sqlalchemy.engine.Engine [cached since 794s ago] (4, 1, 5, 3, 2)
INFO:     127.0.0.1:63174 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:43:11,832 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63170 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:43:11,834 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63173 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
2026-01-13 23:43:11,836 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:43:11,837 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes 
WHERE notes.is_favorite = 1 ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:43:11,837 INFO sqlalchemy.engine.Engine [cached since 382.6s ago] (100, 0)
2026-01-13 23:43:11,837 INFO sqlalchemy.engine.Engine ROLLBACK
2026-01-13 23:43:11,838 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:43:11,838 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.slug, notes.content, notes.owner_id, notes.visibility, notes.is_favorite, notes.created_at, notes.updated_at 
FROM notes ORDER BY notes.updated_at DESC
 LIMIT ? OFFSET ?
2026-01-13 23:43:11,838 INFO sqlalchemy.engine.Engine [cached since 794.1s ago] (5, 0)
2026-01-13 23:43:11,839 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2026-01-13 23:43:11,839 INFO sqlalchemy.engine.Engine SELECT notes.id, notes.title, notes.visibility 
FROM notes
2026-01-13 23:43:11,839 INFO sqlalchemy.engine.Engine [cached since 794s ago] ()
2026-01-13 23:43:11,840 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?)
2026-01-13 23:43:11,840 INFO sqlalchemy.engine.Engine [cached since 794.1s ago] (2,)
2026-01-13 23:43:11,841 INFO sqlalchemy.engine.Engine SELECT links.source_note_id, links.target_note_id 
FROM links
2026-01-13 23:43:11,841 INFO sqlalchemy.engine.Engine [cached since 794s ago] ()
2026-01-13 23:43:11,841 INFO sqlalchemy.engine.Engine SELECT notes_1.id AS notes_1_id, tags.id AS tags_id, tags.name AS tags_name 
FROM notes AS notes_1 JOIN note_tags AS note_tags_1 ON notes_1.id = note_tags_1.note_id JOIN tags ON tags.id = note_tags_1.tag_id 
WHERE notes_1.id IN (?, ?, ?, ?, ?)
2026-01-13 23:43:11,841 INFO sqlalchemy.engine.Engine [cached since 794.1s ago] (4, 1, 5, 3, 2)
INFO:     127.0.0.1:63174 - "GET /api/notes?is_favorite=true HTTP/1.1" 200 OK
2026-01-13 23:43:11,842 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63176 - "GET /api/graph HTTP/1.1" 200 OK
2026-01-13 23:43:11,843 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63170 - "GET /api/notes?limit=5 HTTP/1.1" 200 OK
2026-01-13 23:43:11,844 INFO sqlalchemy.engine.Engine ROLLBACK
